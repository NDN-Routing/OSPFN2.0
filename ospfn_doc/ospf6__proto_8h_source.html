<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: ospf6d/ospf6_proto.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ospf6__proto_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">ospf6d/ospf6_proto.h</div>  </div>
</div>
<div class="contents">
<a href="ospf6__proto_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Common protocol data and data structures.</span>
<a name="l00003"></a>00003 <span class="comment"> * Copyright (C) 2003 Yasuhiro Ohara</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * This file is part of GNU Zebra.</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * GNU Zebra is free software; you can redistribute it and/or modify it</span>
<a name="l00008"></a>00008 <span class="comment"> * under the terms of the GNU General Public License as published by the</span>
<a name="l00009"></a>00009 <span class="comment"> * Free Software Foundation; either version 2, or (at your option) any</span>
<a name="l00010"></a>00010 <span class="comment"> * later version.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * GNU Zebra is distributed in the hope that it will be useful, but</span>
<a name="l00013"></a>00013 <span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00015"></a>00015 <span class="comment"> * General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00018"></a>00018 <span class="comment"> * along with GNU Zebra; see the file COPYING.  If not, write to the </span>
<a name="l00019"></a>00019 <span class="comment"> * Free Software Foundation, Inc., 59 Temple Place - Suite 330, </span>
<a name="l00020"></a>00020 <span class="comment"> * Boston, MA 02111-1307, USA.  </span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#ifndef OSPF6_PROTO_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#define OSPF6_PROTO_H</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="comment">/* OSPF protocol version */</span>
<a name="l00027"></a><a class="code" href="ospf6__proto_8h.html#ac71efe16d061e39ea5c0d9d74def4fa4">00027</a> <span class="preprocessor">#define OSPFV3_VERSION           3</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="comment">/* OSPF protocol number. */</span>
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef IPPROTO_OSPFIGP</span>
<a name="l00031"></a><a class="code" href="ospf6__proto_8h.html#ade45b7018bfdffd626877565c14318e2">00031</a> <span class="preprocessor"></span><span class="preprocessor">#define IPPROTO_OSPFIGP         89</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span>
<a name="l00034"></a>00034 <span class="comment">/* TOS field normaly null */</span>
<a name="l00035"></a><a class="code" href="ospf6__proto_8h.html#a1667a60c00b0f23751ef1502e79057a4">00035</a> <span class="preprocessor">#define DEFAULT_TOS_VALUE      0x0</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a>00037 <span class="comment">/* Architectural Constants */</span>
<a name="l00038"></a><a class="code" href="ospf6__proto_8h.html#ab08ddbd72ec04be1ff6959a492fc3795">00038</a> <span class="preprocessor">#define LS_REFRESH_TIME                1800  </span><span class="comment">/* 30 min */</span>
<a name="l00039"></a><a class="code" href="ospf6__proto_8h.html#ae357493907873a92a8977f68088f35e8">00039</a> <span class="preprocessor">#define MIN_LS_INTERVAL                   5</span>
<a name="l00040"></a><a class="code" href="ospf6__proto_8h.html#abb6f097624398b6ea06b773ef7808e04">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define MIN_LS_ARRIVAL                    1</span>
<a name="l00041"></a><a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define MAXAGE                         3600  </span><span class="comment">/* 1 hour */</span>
<a name="l00042"></a><a class="code" href="ospf6__proto_8h.html#a1dae649919191832d818cf9bba6be0e4">00042</a> <span class="preprocessor">#define CHECK_AGE                       300  </span><span class="comment">/* 5 min */</span>
<a name="l00043"></a><a class="code" href="ospf6__proto_8h.html#af887400b0d563a9bc5b4e9345bba8879">00043</a> <span class="preprocessor">#define MAX_AGE_DIFF                    900  </span><span class="comment">/* 15 min */</span>
<a name="l00044"></a><a class="code" href="ospf6__proto_8h.html#adae502e9fc4510696255aa68d1413fb1">00044</a> <span class="preprocessor">#define LS_INFINITY                0xffffff  </span><span class="comment">/* 24-bit binary value */</span>
<a name="l00045"></a><a class="code" href="ospf6__proto_8h.html#ad441394da087bc61e24a5b99455c5589">00045</a> <span class="preprocessor">#define INITIAL_SEQUENCE_NUMBER  0x80000001  </span><span class="comment">/* signed 32-bit integer */</span>
<a name="l00046"></a><a class="code" href="ospf6__proto_8h.html#a35f49b34e56993fe20d3a21d144c16d3">00046</a> <span class="preprocessor">#define MAX_SEQUENCE_NUMBER      0x7fffffff  </span><span class="comment">/* signed 32-bit integer */</span>
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="ospf6__proto_8h.html#a77af8bc39e9660ad44d362e0431d5e13">00048</a> <span class="preprocessor">#define ALLSPFROUTERS6 &quot;ff02::5&quot;</span>
<a name="l00049"></a><a class="code" href="ospf6__proto_8h.html#ade55daa000a3e5fdec5f63d253036358">00049</a> <span class="preprocessor"></span><span class="preprocessor">#define ALLDROUTERS6   &quot;ff02::6&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span>
<a name="l00051"></a>00051 <span class="comment">/* Configurable Constants */</span>
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="ospf6__proto_8h.html#a1cb5814c71c52d020fbaa74aff6052a1">00053</a> <span class="preprocessor">#define DEFAULT_HELLO_INTERVAL       10</span>
<a name="l00054"></a><a class="code" href="ospf6__proto_8h.html#a5c5338959d4c65126b6ba075a1fb147d">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define DEFAULT_ROUTER_DEAD_INTERVAL 40</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a><a class="code" href="ospf6__proto_8h.html#ac2e2911de2737886a65a378de0050c8a">00056</a> <span class="preprocessor">#define OSPF6_ROUTER_BIT_W     (1 &lt;&lt; 3)</span>
<a name="l00057"></a><a class="code" href="ospf6__proto_8h.html#ae3c0d0e7a7292842807d077cde57269f">00057</a> <span class="preprocessor"></span><span class="preprocessor">#define OSPF6_ROUTER_BIT_V     (1 &lt;&lt; 2)</span>
<a name="l00058"></a><a class="code" href="ospf6__proto_8h.html#a001990a29c38d5f3b4da6bf596ccc2c5">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define OSPF6_ROUTER_BIT_E     (1 &lt;&lt; 1)</span>
<a name="l00059"></a><a class="code" href="ospf6__proto_8h.html#a4508b95dd106578cb85a89f654f07ab9">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define OSPF6_ROUTER_BIT_B     (1 &lt;&lt; 0)</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 <span class="comment">/* OSPF options */</span>
<a name="l00062"></a>00062 <span class="comment">/* present in HELLO, DD, LSA */</span>
<a name="l00063"></a><a class="code" href="ospf6__proto_8h.html#a1b1c4c6d395a87a3b89a4279ebaba01c">00063</a> <span class="preprocessor">#define OSPF6_OPT_SET(x,opt)   ((x)[2] |=  (opt))</span>
<a name="l00064"></a><a class="code" href="ospf6__proto_8h.html#afe698280bea2b90a4d625d25cb639c6a">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define OSPF6_OPT_ISSET(x,opt) ((x)[2] &amp;   (opt))</span>
<a name="l00065"></a><a class="code" href="ospf6__proto_8h.html#acf4e4e7872c09f14386cd78f1dd17ed9">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define OSPF6_OPT_CLEAR(x,opt) ((x)[2] &amp;= ~(opt))</span>
<a name="l00066"></a><a class="code" href="ospf6__proto_8h.html#a300a83457d70227a3884472ec7c13c21">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define OSPF6_OPT_CLEAR_ALL(x) ((x)[0] = (x)[1] = (x)[2] = 0)</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a><a class="code" href="ospf6__proto_8h.html#aed78f5bef7063e16ea1ef0f52df04d5f">00068</a> <span class="preprocessor">#define OSPF6_OPT_DC (1 &lt;&lt; 5)   </span><span class="comment">/* Demand Circuit handling Capability */</span>
<a name="l00069"></a><a class="code" href="ospf6__proto_8h.html#a27976221f798859182ee6c7312f6f9ac">00069</a> <span class="preprocessor">#define OSPF6_OPT_R  (1 &lt;&lt; 4)   </span><span class="comment">/* Forwarding Capability (Any Protocol) */</span>
<a name="l00070"></a><a class="code" href="ospf6__proto_8h.html#a40361e5392537156040bda0ff0909de5">00070</a> <span class="preprocessor">#define OSPF6_OPT_N  (1 &lt;&lt; 3)   </span><span class="comment">/* Handling Type-7 LSA Capability */</span>
<a name="l00071"></a><a class="code" href="ospf6__proto_8h.html#a81a6627fcc4659a04fdcdd79df4d5e1d">00071</a> <span class="preprocessor">#define OSPF6_OPT_MC (1 &lt;&lt; 2)   </span><span class="comment">/* Multicasting Capability */</span>
<a name="l00072"></a><a class="code" href="ospf6__proto_8h.html#af4dc4ae32aacf5b0758f247de720234e">00072</a> <span class="preprocessor">#define OSPF6_OPT_E  (1 &lt;&lt; 1)   </span><span class="comment">/* AS External Capability */</span>
<a name="l00073"></a><a class="code" href="ospf6__proto_8h.html#a37745595268f6f57d52276e4dc05c54a">00073</a> <span class="preprocessor">#define OSPF6_OPT_V6 (1 &lt;&lt; 0)   </span><span class="comment">/* IPv6 forwarding Capability */</span>
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="comment">/* OSPF6 Prefix */</span>
<a name="l00076"></a><a class="code" href="structospf6__prefix.html">00076</a> <span class="keyword">struct </span><a class="code" href="structospf6__prefix.html">ospf6_prefix</a>
<a name="l00077"></a>00077 {
<a name="l00078"></a><a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">00078</a>   u_int8_t <a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a>;
<a name="l00079"></a><a class="code" href="structospf6__prefix.html#aeac807a42ff5d2e15dfa844203fec5c8">00079</a>   u_int8_t <a class="code" href="structospf6__prefix.html#aeac807a42ff5d2e15dfa844203fec5c8">prefix_options</a>;
<a name="l00080"></a>00080   <span class="keyword">union </span>{
<a name="l00081"></a><a class="code" href="structospf6__prefix.html#a7ee1d4f660bab6b1db7700ed48f437d3">00081</a>     u_int16_t <a class="code" href="structospf6__prefix.html#a7ee1d4f660bab6b1db7700ed48f437d3">_prefix_metric</a>;
<a name="l00082"></a><a class="code" href="structospf6__prefix.html#a53899fefeb1577e2f201ff91e594e40c">00082</a>     u_int16_t <a class="code" href="structospf6__prefix.html#a53899fefeb1577e2f201ff91e594e40c">_prefix_referenced_lstype</a>;
<a name="l00083"></a>00083   } <a class="code" href="structospf6__prefix.html#a39abe612f7d85aec7136cc57e6214872">u</a>;
<a name="l00084"></a><a class="code" href="ospf6__proto_8h.html#ad80fc3aa9100bdbd9cedf875ac77a226">00084</a> <span class="preprocessor">#define prefix_metric        u._prefix_metric</span>
<a name="l00085"></a><a class="code" href="ospf6__proto_8h.html#ae8e385c965787a86417b978f9821fc15">00085</a> <span class="preprocessor"></span><span class="preprocessor">#define prefix_refer_lstype  u._prefix_referenced_lstype</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span>  <span class="comment">/* followed by one address_prefix */</span>
<a name="l00087"></a>00087 };
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="ospf6__proto_8h.html#a88cfdf060cfefabe7cee54a80e434c65">00089</a> <span class="preprocessor">#define OSPF6_PREFIX_OPTION_NU (1 &lt;&lt; 0)  </span><span class="comment">/* No Unicast */</span>
<a name="l00090"></a><a class="code" href="ospf6__proto_8h.html#a8a30073e746abfba64a6c6ec33e9befd">00090</a> <span class="preprocessor">#define OSPF6_PREFIX_OPTION_LA (1 &lt;&lt; 1)  </span><span class="comment">/* Local Address */</span>
<a name="l00091"></a><a class="code" href="ospf6__proto_8h.html#a6820f05113201b5c8ed3e5de47a98d55">00091</a> <span class="preprocessor">#define OSPF6_PREFIX_OPTION_MC (1 &lt;&lt; 2)  </span><span class="comment">/* MultiCast */</span>
<a name="l00092"></a><a class="code" href="ospf6__proto_8h.html#a9047b9c4ee2eb8dce548975dca5b411e">00092</a> <span class="preprocessor">#define OSPF6_PREFIX_OPTION_P  (1 &lt;&lt; 3)  </span><span class="comment">/* Propagate (NSSA) */</span>
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="comment">/* caddr_t OSPF6_PREFIX_BODY (struct ospf6_prefix *); */</span>
<a name="l00095"></a><a class="code" href="ospf6__proto_8h.html#ab6bb3df310bf454962ae3fd8e836c0b5">00095</a> <span class="preprocessor">#define OSPF6_PREFIX_BODY(x) ((caddr_t)(x) + sizeof (struct ospf6_prefix))</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>
<a name="l00097"></a>00097 <span class="comment">/* size_t OSPF6_PREFIX_SPACE (int prefixlength); */</span>
<a name="l00098"></a><a class="code" href="ospf6__proto_8h.html#a95b30d77b5749feed0b8e400df5ee378">00098</a> <span class="preprocessor">#define OSPF6_PREFIX_SPACE(x) ((((x) + 31) / 32) * 4)</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a>00100 <span class="comment">/* size_t OSPF6_PREFIX_SIZE (struct ospf6_prefix *); */</span>
<a name="l00101"></a><a class="code" href="ospf6__proto_8h.html#a962c0cb70bf0ee906c0022daed58b15d">00101</a> <span class="preprocessor">#define OSPF6_PREFIX_SIZE(x) \</span>
<a name="l00102"></a>00102 <span class="preprocessor">   (OSPF6_PREFIX_SPACE ((x)-&gt;prefix_length) + sizeof (struct ospf6_prefix))</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span>
<a name="l00104"></a>00104 <span class="comment">/* struct ospf6_prefix *OSPF6_PREFIX_NEXT (struct ospf6_prefix *); */</span>
<a name="l00105"></a><a class="code" href="ospf6__proto_8h.html#a1d35a4da552490de4d89067794f819c1">00105</a> <span class="preprocessor">#define OSPF6_PREFIX_NEXT(x) \</span>
<a name="l00106"></a>00106 <span class="preprocessor">   ((struct ospf6_prefix *)((caddr_t)(x) + OSPF6_PREFIX_SIZE (x)))</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span>
<a name="l00108"></a><a class="code" href="ospf6__proto_8h.html#a01c336c921d3df5dc60e501439617d7a">00108</a> <span class="preprocessor">#define ospf6_prefix_in6_addr(in6, op)                         \</span>
<a name="l00109"></a>00109 <span class="preprocessor">do {                                                           \</span>
<a name="l00110"></a>00110 <span class="preprocessor">  memset (in6, 0, sizeof (struct in6_addr));                   \</span>
<a name="l00111"></a>00111 <span class="preprocessor">  memcpy (in6, (caddr_t) (op) + sizeof (struct ospf6_prefix),  \</span>
<a name="l00112"></a>00112 <span class="preprocessor">          OSPF6_PREFIX_SPACE ((op)-&gt;prefix_length));           \</span>
<a name="l00113"></a>00113 <span class="preprocessor">} while (0)</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>
<a name="l00115"></a>00115 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ospf6__proto_8c.html#ab83c2915ff6e595f4da17eaacf04c5d5">ospf6_prefix_apply_mask</a> (<span class="keyword">struct</span> <a class="code" href="structospf6__prefix.html">ospf6_prefix</a> *op);
<a name="l00116"></a>00116 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ospf6__proto_8c.html#a070cf45b50e4eac1f052fd9f3a9cab07">ospf6_prefix_options_printbuf</a> (u_int8_t prefix_options,
<a name="l00117"></a>00117                                            <span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> size);
<a name="l00118"></a>00118 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ospf6__proto_8c.html#acfafe064fed258582397cfd39d7d69ba">ospf6_capability_printbuf</a> (<span class="keywordtype">char</span> capability, <span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> size);
<a name="l00119"></a>00119 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="ospf6__proto_8c.html#a70fba8cd2453bf33405c98ff2ff14a38">ospf6_options_printbuf</a> (u_char *options, <span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> size);
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <span class="preprocessor">#endif </span><span class="comment">/* OSPF6_PROTO_H */</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ospf6__proto_8h.html">ospf6_proto.h</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:06 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
