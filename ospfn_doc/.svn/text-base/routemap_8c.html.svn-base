<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: lib/routemap.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('routemap_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">lib/routemap.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="linklist_8h_source.html">linklist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vector_8h_source.html">vector.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="prefix_8h_source.html">prefix.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="routemap_8h_source.html">routemap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vty_8h_source.html">vty.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for routemap.c:</div>
<div class="dyncontent">
<div class="center"><img src="routemap_8c__incl.png" border="0" usemap="#lib_2routemap_8c" alt=""/></div>
<map name="lib_2routemap_8c" id="lib_2routemap_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1385,80,1452,107"/><area shape="rect" id="node61" href="linklist_8h.html" title="linklist.h" alt="" coords="2733,80,2803,107"/><area shape="rect" id="node63" href="memory_8h.html" title="memory.h" alt="" coords="2828,80,2911,107"/><area shape="rect" id="node67" href="vector_8h.html" title="vector.h" alt="" coords="3053,155,3125,181"/><area shape="rect" id="node69" href="prefix_8h.html" title="prefix.h" alt="" coords="2935,80,3003,107"/><area shape="rect" id="node73" href="routemap_8h.html" title="routemap.h" alt="" coords="3079,80,3169,107"/><area shape="rect" id="node75" href="command_8h.html" title="command.h" alt="" coords="3194,80,3285,107"/><area shape="rect" id="node78" href="vty_8h.html" title="vty.h" alt="" coords="3298,155,3349,181"/><area shape="rect" id="node82" href="log_8h.html" title="log.h" alt="" coords="3330,229,3381,256"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="2084,155,2161,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="2186,155,2235,181"/><area shape="rect" id="node65" href="memtypes_8h.html" title="lib/memtypes.h" alt="" coords="2797,155,2912,181"/><area shape="rect" id="node71" href="sockunion_8h.html" title="sockunion.h" alt="" coords="2936,155,3029,181"/><area shape="rect" id="node85" href="route__types_8h.html" title="lib/route_types.h" alt="" coords="3150,155,3273,181"/><area shape="rect" id="node80" href="thread_8h.html" title="thread.h" alt="" coords="3233,229,3305,256"/></map>
</div>
</div>
<p><a href="routemap_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structroute__map__rule.html">route_map_rule</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structroute__map__list.html">route_map_list</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a04df950efca694f82162d78d314c6365">route_map_rule_delete</a> (struct <a class="el" href="structroute__map__rule__list.html">route_map_rule_list</a> *, struct <a class="el" href="structroute__map__rule.html">route_map_rule</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a0ed5d7e2a98379576055221d565c6b26">route_map_index_delete</a> (struct <a class="el" href="structroute__map__index.html">route_map_index</a> *, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a74faeef4d5ee28bb9e19228dd4cb2942">route_map_new</a> (const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a12cb2cd975043bc18e20b2794982ae18">route_map_add</a> (const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a426a0c816c058cc8000e1d4ddca7e733">route_map_delete</a> (struct <a class="el" href="structroute__map.html">route_map</a> *map)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a42c5ff08bcfb26d0cda9e657ed90d63b">route_map_get</a> (const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#aaf5529b7c369386cbad49975fff64482">route_map_type_str</a> (enum <a class="el" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a0d554d6eaf63b2106b04f03b5eaa5258">route_map_empty</a> (struct <a class="el" href="structroute__map.html">route_map</a> *map)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#ab8d9bb4f177250be9a2c93207f0c9873">vty_show_route_map_entry</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structroute__map.html">route_map</a> *map)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#ae6e29609c4c1b53efae1da0a0220accc">vty_show_route_map</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a860d974a943e334433da3327a6140e82">route_map_index_new</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a54d568cbc801032d2fcb2f04882df5bc">route_map_index_lookup</a> (struct <a class="el" href="structroute__map.html">route_map</a> *map, enum <a class="el" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int pref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a962f025a62dbe393f93e864236109541">route_map_index_add</a> (struct <a class="el" href="structroute__map.html">route_map</a> *map, enum <a class="el" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int pref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#aef70e13dfe5c474bf4c1ea9cf45cc75d">route_map_index_get</a> (struct <a class="el" href="structroute__map.html">route_map</a> *map, enum <a class="el" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int pref)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map__rule.html">route_map_rule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a16578a172d35d72320302e8721fff56a">route_map_rule_new</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#ada69b48e1c884e20ef5a90dc1d0a0b82">route_map_install_match</a> (struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *cmd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a13c839a968e8eba43c4e83ce35929d41">route_map_install_set</a> (struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *cmd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a9fd0715db36e2b7b2ab47ea29a8844f5">route_map_lookup_match</a> (const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a6b110bee31d24fc873c5292710dc8321">route_map_lookup_set</a> (const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#ad228f2b1da226db26498dc26e77af01a">route_map_rule_add</a> (struct <a class="el" href="structroute__map__rule__list.html">route_map_rule_list</a> *<a class="el" href="structlist.html">list</a>, struct <a class="el" href="structroute__map__rule.html">route_map_rule</a> *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a6245552aa96f9ceff45b09187edc2737">rulecmp</a> (const char *dst, const char *src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#ad681bdbc1826c0d017ff19a4315f4691">route_map_add_match</a> (struct <a class="el" href="structroute__map__index.html">route_map_index</a> *index, const char *match_name, const char *match_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a884d3e1e22cd928a1e894005199f46c8">route_map_delete_match</a> (struct <a class="el" href="structroute__map__index.html">route_map_index</a> *index, const char *match_name, const char *match_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a8219e7b29162a411fbadd874ec4d7c0a">route_map_add_set</a> (struct <a class="el" href="structroute__map__index.html">route_map_index</a> *index, const char *set_name, const char *set_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#af03929ed1dd4f46e3284412d6ec1e30e">route_map_delete_set</a> (struct <a class="el" href="structroute__map__index.html">route_map_index</a> *index, const char *set_name, const char *set_arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a09a3929d57dafc7f9a45c978624b5c79">route_map_apply_match</a> (struct <a class="el" href="structroute__map__rule__list.html">route_map_rule_list</a> *match_list, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, <a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, void *object)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a3372553a024332702cfd603e1f4c08d6">route_map_apply</a> (struct <a class="el" href="structroute__map.html">route_map</a> *map, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, <a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, void *object)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#afd64a010c9f8f9cf35788b065f540eea">route_map_add_hook</a> (void(*<a class="el" href="ospf__nsm_8c.html#a03307f8a561731a5c5657834da57ab11">func</a>)(const char *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a60b69b789fa511ded8504c5b20fb63d4">route_map_delete_hook</a> (void(*<a class="el" href="ospf__nsm_8c.html#a03307f8a561731a5c5657834da57ab11">func</a>)(const char *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#ac75964232495c0982befc4c0a09baec1">route_map_event_hook</a> (void(*<a class="el" href="ospf__nsm_8c.html#a03307f8a561731a5c5657834da57ab11">func</a>)(<a class="el" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9">route_map_event_t</a>, const char *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a4e07135a4ac1643e0a3c2e9460322636">route_map_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a8223809b8e0a33fb4d91c78cee55478b">route_map_finish</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#acf060673070af43b35f25b330544592b">DEFUN</a> (<a class="el" href="structroute__map.html">route_map</a>, route_map_cmd,&quot;route-map <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a> (deny|permit) &lt;1-65535&gt;&quot;,&quot;Create route-map or enter route-map command <a class="el" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map tag\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map denies set operations\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map permits set operations\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Sequence to insert to/delete from existing route-map entry\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a42f59537f5c51dbd447c9341422844c2">DEFUN</a> (no_route_map_all, no_route_map_all_cmd,&quot;no route-map <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;, NO_STR&quot;Create route-map or enter route-map command <a class="el" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map tag\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a72c4ceb7a7c4ed5e3eb6fe548cbe9be9">DEFUN</a> (no_route_map, no_route_map_cmd,&quot;no route-map <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a> (deny|permit) &lt;1-65535&gt;&quot;, NO_STR&quot;Create route-map or enter route-map command <a class="el" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map tag\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map denies set operations\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map permits set operations\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Sequence to insert to/delete from existing route-map entry\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a76e6eaac4d8cbb8b1972e68867b565c4">DEFUN</a> (rmap_onmatch_next, rmap_onmatch_next_cmd,&quot;on-match next&quot;,&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Next clause\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a753ab8650b6438dabe7f0c062afdd26b">DEFUN</a> (no_rmap_onmatch_next, no_rmap_onmatch_next_cmd,&quot;no on-match next&quot;, NO_STR&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Next clause\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a0862d3b73fcbe299c7b0f36ccff7f43e">DEFUN</a> (rmap_onmatch_goto, rmap_onmatch_goto_cmd,&quot;on-match goto &lt;1-65535&gt;&quot;,&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Goto Clause number\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Number\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a2af4082519c1a03f62ddbc72349794ae">DEFUN</a> (no_rmap_onmatch_goto, no_rmap_onmatch_goto_cmd,&quot;no on-match goto&quot;, NO_STR&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Goto Clause number\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a255036ca5fe5bcda0606011c7b7e8973">ALIAS</a> (rmap_onmatch_goto, rmap_continue_cmd,&quot;continue&quot;,&quot;Continue on a different entry within the route-map\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a4e0f2958e2e6216f7bd4d57f78a1e921">ALIAS</a> (rmap_onmatch_goto, rmap_continue_index_cmd,&quot;continue &lt;1-65536&gt;&quot;,&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Goto Clause number\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#af9070e044e644cb901e675498f7daf63">DEFUN</a> (no_rmap_call, no_rmap_call_cmd,&quot;no call&quot;, NO_STR&quot;Jump to another Route-Map after match+set\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a80509e1f0afdb03d096b0caf583f73b8">DEFUN</a> (rmap_description, rmap_description_cmd,&quot;description .<a class="el" href="vtysh_8c.html#a796fb75383a312e3ac275ae8d0c19f32">LINE</a>&quot;,&quot;Route-map comment\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Comment describing this route-map rule\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a5c3446d1ba7702bf15f638c989ab4d3b">DEFUN</a> (no_rmap_description, no_rmap_description_cmd,&quot;no description&quot;, NO_STR&quot;Route-map comment\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a46b2d0cf34e586f3ccb50da4afdcaba7">route_map_config_write</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a09855551d0ef6f569e32d56cc4bb2857">route_map_init_vty</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="vector_8h.html#a7fe85bb4f5ec8665f4ef33dab2fdc2db">vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#addb3bc8c54003e94689949ab4b9b3c92">route_match_vec</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="vector_8h.html#a7fe85bb4f5ec8665f4ef33dab2fdc2db">vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a33bbb494a5e116d001aff81c90e97ad8">route_set_vec</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structroute__map__list.html">route_map_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a> = { NULL, NULL, NULL, NULL }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcmd__node.html">cmd_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="routemap_8c.html#a000ff6b0687a1583316c548e31d26aaf">rmap_node</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a255036ca5fe5bcda0606011c7b7e8973"></a><!-- doxytag: member="routemap.c::ALIAS" ref="a255036ca5fe5bcda0606011c7b7e8973" args="(rmap_onmatch_goto, rmap_continue_cmd,&quot;continue&quot;,&quot;Continue on a different entry within the route&#45;map\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALIAS </td>
          <td>(</td>
          <td class="paramtype">rmap_onmatch_goto&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rmap_continue_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;continue&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Continue on a different entry within the route-map\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01127">1127</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <span class="keywordflow">if</span> (argc)
      name = argv[0];
    <span class="keywordflow">return</span> <a class="code" href="routemap_8c.html#ae6e29609c4c1b53efae1da0a0220accc">vty_show_route_map</a> (<a class="code" href="structvty.html">vty</a>, name);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4e0f2958e2e6216f7bd4d57f78a1e921"></a><!-- doxytag: member="routemap.c::ALIAS" ref="a4e0f2958e2e6216f7bd4d57f78a1e921" args="(rmap_onmatch_goto, rmap_continue_index_cmd,&quot;continue &lt;1&#45;65536&gt;&quot;,&quot;Exit policy on matches\n&quot;&quot;Goto Clause number\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALIAS </td>
          <td>(</td>
          <td class="paramtype">rmap_onmatch_goto&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rmap_continue_index_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;continue &lt;1-65536&gt;&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Goto Clause number\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01165">1165</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  index = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  <span class="keywordflow">if</span> (index)
    {
      <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>)
          <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba34efea77984ba4d82e05b369f7b1ac27">MTYPE_ROUTE_MAP_NAME</a>, index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>);
      index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a> = <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba34efea77984ba4d82e05b369f7b1ac27">MTYPE_ROUTE_MAP_NAME</a>, argv[0]);
    }
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acf060673070af43b35f25b330544592b"></a><!-- doxytag: member="routemap.c::DEFUN" ref="acf060673070af43b35f25b330544592b" args="(route_map, route_map_cmd,&quot;route&#45;map WORD (deny|permit) &lt;1&#45;65535&gt;&quot;,&quot;Create route&#45;map or enter route&#45;map command mode\n&quot;&quot;Route map tag\n&quot;&quot;Route map denies set operations\n&quot;&quot;Route map permits set operations\n&quot;&quot;Sequence to insert to/delete from existing route&#45;map entry\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structroute__map.html">route_map</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">route_map_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;route-map <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a> (deny|permit) &lt;1-65535&gt;&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Create route-map or enter route-map command <a class="el" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map tag\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map denies set operations\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map permits set operations\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Sequence to insert to/delete from existing route-map entry\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00903">903</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> permit;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *map;
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;
  <span class="keywordtype">char</span> *endptr = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Permit check. */</span>
  <span class="keywordflow">if</span> (strncmp (argv[1], <span class="stringliteral">&quot;permit&quot;</span>, strlen (argv[1])) == 0)
    permit = <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644aa7d1859ac879fafcd59953ee1e27b134">RMAP_PERMIT</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[1], <span class="stringliteral">&quot;deny&quot;</span>, strlen (argv[1])) == 0)
    permit = <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644ad79be2f4afd690ef956924415e6724bf">RMAP_DENY</a>;
  <span class="keywordflow">else</span>
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;the third field must be [permit|deny]%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* Preference check. */</span>
  pref = strtoul (argv[2], &amp;endptr, 10);
  <span class="keywordflow">if</span> (pref == ULONG_MAX || *endptr != <span class="charliteral">&#39;\0&#39;</span>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;the fourth field must be positive integer%s&quot;</span>,
           <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
  <span class="keywordflow">if</span> (pref == 0 || pref &gt; 65535)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;the fourth field must be &lt;1-65535&gt;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* Get route map. */</span>
  map = <a class="code" href="routemap_8c.html#a42c5ff08bcfb26d0cda9e657ed90d63b">route_map_get</a> (argv[0]);
  index = <a class="code" href="routemap_8c.html#aef70e13dfe5c474bf4c1ea9cf45cc75d">route_map_index_get</a> (map, permit, pref);

  <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a> = index;
  <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>;
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a42f59537f5c51dbd447c9341422844c2"></a><!-- doxytag: member="routemap.c::DEFUN" ref="a42f59537f5c51dbd447c9341422844c2" args="(no_route_map_all, no_route_map_all_cmd,&quot;no route&#45;map WORD&quot;, NO_STR&quot;Create route&#45;map or enter route&#45;map command mode\n&quot;&quot;Route map tag\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_route_map_all&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_route_map_all_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no route-map <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Create route-map or enter route-map command <a class="el" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map tag\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00952">952</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *map;

  map = <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (argv[0]);
  <span class="keywordflow">if</span> (map == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%% Could not find route-map %s%s&quot;</span>,
           argv[0], <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <a class="code" href="routemap_8c.html#a426a0c816c058cc8000e1d4ddca7e733">route_map_delete</a> (map);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a72c4ceb7a7c4ed5e3eb6fe548cbe9be9"></a><!-- doxytag: member="routemap.c::DEFUN" ref="a72c4ceb7a7c4ed5e3eb6fe548cbe9be9" args="(no_route_map, no_route_map_cmd,&quot;no route&#45;map WORD (deny|permit) &lt;1&#45;65535&gt;&quot;, NO_STR&quot;Create route&#45;map or enter route&#45;map command mode\n&quot;&quot;Route map tag\n&quot;&quot;Route map denies set operations\n&quot;&quot;Route map permits set operations\n&quot;&quot;Sequence to insert to/delete from existing route&#45;map entry\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_route_map&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_route_map_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no route-map <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a> (deny|permit) &lt;1-65535&gt;&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Create route-map or enter route-map command <a class="el" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map tag\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map denies set operations\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map permits set operations\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Sequence to insert to/delete from existing route-map entry\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00974">974</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> permit;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> pref;
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *map;
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;
  <span class="keywordtype">char</span> *endptr = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Permit check. */</span>
  <span class="keywordflow">if</span> (strncmp (argv[1], <span class="stringliteral">&quot;permit&quot;</span>, strlen (argv[1])) == 0)
    permit = <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644aa7d1859ac879fafcd59953ee1e27b134">RMAP_PERMIT</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[1], <span class="stringliteral">&quot;deny&quot;</span>, strlen (argv[1])) == 0)
    permit = <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644ad79be2f4afd690ef956924415e6724bf">RMAP_DENY</a>;
  <span class="keywordflow">else</span>
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;the third field must be [permit|deny]%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* Preference. */</span>
  pref = strtoul (argv[2], &amp;endptr, 10);
  <span class="keywordflow">if</span> (pref == ULONG_MAX || *endptr != <span class="charliteral">&#39;\0&#39;</span>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;the fourth field must be positive integer%s&quot;</span>,
           <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
  <span class="keywordflow">if</span> (pref == 0 || pref &gt; 65535)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;the fourth field must be &lt;1-65535&gt;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* Existence check. */</span>
  map = <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (argv[0]);
  <span class="keywordflow">if</span> (map == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%% Could not find route-map %s%s&quot;</span>,
           argv[0], <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* Lookup route map index. */</span>
  index = <a class="code" href="routemap_8c.html#a54d568cbc801032d2fcb2f04882df5bc">route_map_index_lookup</a> (map, permit, pref);
  <span class="keywordflow">if</span> (index == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%% Could not find route-map entry %s %s%s&quot;</span>, 
           argv[0], argv[2], <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* Delete index from route map. */</span>
  <a class="code" href="routemap_8c.html#a0ed5d7e2a98379576055221d565c6b26">route_map_index_delete</a> (index, 1);

  <span class="comment">/* If this route rule is the last one, delete route map itself. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#a0d554d6eaf63b2106b04f03b5eaa5258">route_map_empty</a> (map))
    <a class="code" href="routemap_8c.html#a426a0c816c058cc8000e1d4ddca7e733">route_map_delete</a> (map);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a76e6eaac4d8cbb8b1972e68867b565c4"></a><!-- doxytag: member="routemap.c::DEFUN" ref="a76e6eaac4d8cbb8b1972e68867b565c4" args="(rmap_onmatch_next, rmap_onmatch_next_cmd,&quot;on&#45;match next&quot;,&quot;Exit policy on matches\n&quot;&quot;Next clause\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">rmap_onmatch_next&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rmap_onmatch_next_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;on-match next&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Next clause\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01043">1043</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  index = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;

  <span class="keywordflow">if</span> (index)
    index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> = <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a626a8c0ef7d48240fa6cc70fab0025ca">RMAP_NEXT</a>;

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a753ab8650b6438dabe7f0c062afdd26b"></a><!-- doxytag: member="routemap.c::DEFUN" ref="a753ab8650b6438dabe7f0c062afdd26b" args="(no_rmap_onmatch_next, no_rmap_onmatch_next_cmd,&quot;no on&#45;match next&quot;, NO_STR&quot;Exit policy on matches\n&quot;&quot;Next clause\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_rmap_onmatch_next&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_rmap_onmatch_next_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no on-match next&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Next clause\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01059">1059</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  index = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  
  <span class="keywordflow">if</span> (index)
    index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> = <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65ac96396419f989b1550d26b3c26b344b3">RMAP_EXIT</a>;

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0862d3b73fcbe299c7b0f36ccff7f43e"></a><!-- doxytag: member="routemap.c::DEFUN" ref="a0862d3b73fcbe299c7b0f36ccff7f43e" args="(rmap_onmatch_goto, rmap_onmatch_goto_cmd,&quot;on&#45;match goto &lt;1&#45;65535&gt;&quot;,&quot;Exit policy on matches\n&quot;&quot;Goto Clause number\n&quot;&quot;Number\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">rmap_onmatch_goto&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rmap_onmatch_goto_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;on-match goto &lt;1-65535&gt;&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Goto Clause number\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Number\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01076">1076</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  <span class="keywordtype">int</span> d = 0;

  <span class="keywordflow">if</span> (index)
    {
      <span class="keywordflow">if</span> (argc == 1 &amp;&amp; argv[0])
        <a class="code" href="vty_8h.html#afa25f32d4ba1649dd82cdd80434ac6ac">VTY_GET_INTEGER_RANGE</a>(<span class="stringliteral">&quot;route-map index&quot;</span>, d, argv[0], 1, 65536);
      <span class="keywordflow">else</span>
        d = index-&gt;<a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a> + 1;
      
      <span class="keywordflow">if</span> (d &lt;= index-&gt;<a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>)
    {
      <span class="comment">/* Can&#39;t allow you to do that, Dave */</span>
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;can&#39;t jump backwards in route-maps%s&quot;</span>, 
           <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
      <span class="keywordflow">else</span>
    {
      index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> = <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a288188a3b834bdcf6d4992443836bfad">RMAP_GOTO</a>;
      index-&gt;<a class="code" href="structroute__map__index.html#ac6d8da597d7a10032f4f28e281cb2e92">nextpref</a> = d;
    }
    }
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2af4082519c1a03f62ddbc72349794ae"></a><!-- doxytag: member="routemap.c::DEFUN" ref="a2af4082519c1a03f62ddbc72349794ae" args="(no_rmap_onmatch_goto, no_rmap_onmatch_goto_cmd,&quot;no on&#45;match goto&quot;, NO_STR&quot;Exit policy on matches\n&quot;&quot;Goto Clause number\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_rmap_onmatch_goto&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_rmap_onmatch_goto_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no on-match goto&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Exit policy on matches\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Goto Clause number\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01109">1109</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  index = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;

  <span class="keywordflow">if</span> (index)
    index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> = <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65ac96396419f989b1550d26b3c26b344b3">RMAP_EXIT</a>;
  
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af9070e044e644cb901e675498f7daf63"></a><!-- doxytag: member="routemap.c::DEFUN" ref="af9070e044e644cb901e675498f7daf63" args="(no_rmap_call, no_rmap_call_cmd,&quot;no call&quot;, NO_STR&quot;Jump to another Route&#45;Map after match+set\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_rmap_call&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_rmap_call_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no call&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Jump to another Route-Map after match+set\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01189">1189</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  index = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;

  <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>)
    {
      <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba34efea77984ba4d82e05b369f7b1ac27">MTYPE_ROUTE_MAP_NAME</a>, index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>);
      index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a80509e1f0afdb03d096b0caf583f73b8"></a><!-- doxytag: member="routemap.c::DEFUN" ref="a80509e1f0afdb03d096b0caf583f73b8" args="(rmap_description, rmap_description_cmd,&quot;description .LINE&quot;,&quot;Route&#45;map comment\n&quot;&quot;Comment describing this route&#45;map rule\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">rmap_description&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rmap_description_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;description .<a class="el" href="vtysh_8c.html#a796fb75383a312e3ac275ae8d0c19f32">LINE</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Route-map comment\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Comment describing this route-map rule\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01208">1208</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  index = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  <span class="keywordflow">if</span> (index)
    {
      <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>)
    <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba563963518edb70d4cd7492b06f48106e">MTYPE_TMP</a>, index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>);
      index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a> = <a class="code" href="command_8c.html#a262c4f7766ffb060fe8b5012d58367a2">argv_concat</a> (argv, argc, 0);
    }
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5c3446d1ba7702bf15f638c989ab4d3b"></a><!-- doxytag: member="routemap.c::DEFUN" ref="a5c3446d1ba7702bf15f638c989ab4d3b" args="(no_rmap_description, no_rmap_description_cmd,&quot;no description&quot;, NO_STR&quot;Route&#45;map comment\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_rmap_description&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_rmap_description_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no description&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Route-map comment\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01226">1226</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  index = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  <span class="keywordflow">if</span> (index)
    {
      <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>)
    <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba563963518edb70d4cd7492b06f48106e">MTYPE_TMP</a>, index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>);
      index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a12cb2cd975043bc18e20b2794982ae18"></a><!-- doxytag: member="routemap.c::route_map_add" ref="a12cb2cd975043bc18e20b2794982ae18" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map.html">route_map</a>* route_map_add </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00090">90</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *map;
  <span class="keyword">struct </span><a class="code" href="structroute__map__list.html">route_map_list</a> *<a class="code" href="structlist.html">list</a>;

  map = <a class="code" href="routemap_8c.html#a74faeef4d5ee28bb9e19228dd4cb2942">route_map_new</a> (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
  list = &amp;<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>;
    
  map-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  map-&gt;<a class="code" href="structroute__map.html#a0ca47cdae22577cf0b150ce0a778581e">prev</a> = list-&gt;<a class="code" href="structroute__map__list.html#ab6833c6b483708c6bff1107b99c5d5fb">tail</a>;
  <span class="keywordflow">if</span> (list-&gt;<a class="code" href="structroute__map__list.html#ab6833c6b483708c6bff1107b99c5d5fb">tail</a>)
    list-&gt;<a class="code" href="structroute__map__list.html#ab6833c6b483708c6bff1107b99c5d5fb">tail</a>-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a> = map;
  <span class="keywordflow">else</span>
    list-&gt;<a class="code" href="structroute__map__list.html#ae9d1dd67bf65f3ada0c99674b8f752ab">head</a> = map;
  list-&gt;<a class="code" href="structroute__map__list.html#ab6833c6b483708c6bff1107b99c5d5fb">tail</a> = map;

  <span class="comment">/* Execute hook. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#af9b73f05fd73c8b4f2ad11932751ca44">add_hook</a>)
    (*<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#af9b73f05fd73c8b4f2ad11932751ca44">add_hook</a>) (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);

  <span class="keywordflow">return</span> map;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afd64a010c9f8f9cf35788b065f540eea"></a><!-- doxytag: member="routemap.c::route_map_add_hook" ref="afd64a010c9f8f9cf35788b065f540eea" args="(void(*func)(const char *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_map_add_hook </td>
          <td>(</td>
          <td class="paramtype">void(*)(const char *)&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00868">868</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#af9b73f05fd73c8b4f2ad11932751ca44">add_hook</a> = <a class="code" href="bgp__fsm_8c.html#aad6d5d0fbfe60193366eaab88413f7af">func</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad681bdbc1826c0d017ff19a4315f4691"></a><!-- doxytag: member="routemap.c::route_map_add_match" ref="ad681bdbc1826c0d017ff19a4315f4691" args="(struct route_map_index *index, const char *match_name, const char *match_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int route_map_add_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>match_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>match_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00526">526</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *rule;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *cmd;
  <span class="keywordtype">void</span> *compile;
  <span class="keywordtype">int</span> replaced = 0;

  <span class="comment">/* First lookup rule for add match statement. */</span>
  cmd = <a class="code" href="routemap_8c.html#a9fd0715db36e2b7b2ab47ea29a8844f5">route_map_lookup_match</a> (match_name);
  <span class="keywordflow">if</span> (cmd == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da26f041059a9ab0d72a8fdfd1e2f43041">RMAP_RULE_MISSING</a>;

  <span class="comment">/* Next call compile function for this match statement. */</span>
  <span class="keywordflow">if</span> (cmd-&gt;<a class="code" href="structroute__map__rule__cmd.html#a6cc51dc65417685ca9d25d2c2e4a2c9e">func_compile</a>)
    {
      compile= (*cmd-&gt;<a class="code" href="structroute__map__rule__cmd.html#a6cc51dc65417685ca9d25d2c2e4a2c9e">func_compile</a>)(match_arg);
      <span class="keywordflow">if</span> (compile == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da91019d02c673a0a43dcbb38d88d8c11b">RMAP_COMPILE_ERROR</a>;
    }
  <span class="keywordflow">else</span>
    compile = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* If argument is completely same ignore it. */</span>
  <span class="keywordflow">for</span> (rule = index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; rule; rule = next)
    {
      next = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>;
      <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a> == cmd)
    {   
      <a class="code" href="routemap_8c.html#a04df950efca694f82162d78d314c6365">route_map_rule_delete</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>, rule);
      replaced = 1;
    }
    }

  <span class="comment">/* Add new route map match rule. */</span>
  rule = <a class="code" href="routemap_8c.html#a16578a172d35d72320302e8721fff56a">route_map_rule_new</a> ();
  rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a> = cmd;
  rule-&gt;<a class="code" href="structroute__map__rule.html#a411e49063eebaa16ad291e8993893ff9">value</a> = compile;
  <span class="keywordflow">if</span> (match_arg)
    rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a> = <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba5d0465d22fb5c23c1f01fd7b5980bd0a">MTYPE_ROUTE_MAP_RULE_STR</a>, match_arg);
  <span class="keywordflow">else</span>
    rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Add new route match rule to linked list. */</span>
  <a class="code" href="routemap_8c.html#ad228f2b1da226db26498dc26e77af01a">route_map_rule_add</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>, rule);

  <span class="comment">/* Execute event hook. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>)
    (*<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>) (replaced ?
                    <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9afc82b7344dc78f87c949b18f6bee4c05">RMAP_EVENT_MATCH_REPLACED</a>:
                    <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a6cb33171cd983930c4dc99dbf3df8d66">RMAP_EVENT_MATCH_ADDED</a>,
                    index-&gt;<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8219e7b29162a411fbadd874ec4d7c0a"></a><!-- doxytag: member="routemap.c::route_map_add_set" ref="a8219e7b29162a411fbadd874ec4d7c0a" args="(struct route_map_index *index, const char *set_name, const char *set_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int route_map_add_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>set_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>set_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00612">612</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *rule;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *cmd;
  <span class="keywordtype">void</span> *compile;
  <span class="keywordtype">int</span> replaced = 0;

  cmd = <a class="code" href="routemap_8c.html#a6b110bee31d24fc873c5292710dc8321">route_map_lookup_set</a> (set_name);
  <span class="keywordflow">if</span> (cmd == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da26f041059a9ab0d72a8fdfd1e2f43041">RMAP_RULE_MISSING</a>;

  <span class="comment">/* Next call compile function for this match statement. */</span>
  <span class="keywordflow">if</span> (cmd-&gt;<a class="code" href="structroute__map__rule__cmd.html#a6cc51dc65417685ca9d25d2c2e4a2c9e">func_compile</a>)
    {
      compile= (*cmd-&gt;<a class="code" href="structroute__map__rule__cmd.html#a6cc51dc65417685ca9d25d2c2e4a2c9e">func_compile</a>)(set_arg);
      <span class="keywordflow">if</span> (compile == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da91019d02c673a0a43dcbb38d88d8c11b">RMAP_COMPILE_ERROR</a>;
    }
  <span class="keywordflow">else</span>
    compile = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

 <span class="comment">/* Add by WJL. if old set command of same kind exist, delete it first</span>
<span class="comment">    to ensure only one set command of same kind exist under a</span>
<span class="comment">    route_map_index. */</span>
  <span class="keywordflow">for</span> (rule = index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; rule; rule = next)
    {
      next = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>;
      <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a> == cmd)
    {
      <a class="code" href="routemap_8c.html#a04df950efca694f82162d78d314c6365">route_map_rule_delete</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>, rule);
      replaced = 1;
    }
    }

  <span class="comment">/* Add new route map match rule. */</span>
  rule = <a class="code" href="routemap_8c.html#a16578a172d35d72320302e8721fff56a">route_map_rule_new</a> ();
  rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a> = cmd;
  rule-&gt;<a class="code" href="structroute__map__rule.html#a411e49063eebaa16ad291e8993893ff9">value</a> = compile;
  <span class="keywordflow">if</span> (set_arg)
    rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a> = <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba5d0465d22fb5c23c1f01fd7b5980bd0a">MTYPE_ROUTE_MAP_RULE_STR</a>, set_arg);
  <span class="keywordflow">else</span>
    rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Add new route match rule to linked list. */</span>
  <a class="code" href="routemap_8c.html#ad228f2b1da226db26498dc26e77af01a">route_map_rule_add</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>, rule);

  <span class="comment">/* Execute event hook. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>)
    (*<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>) (replaced ?
                    <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ab0f3542140f2de92e3e287329172423d">RMAP_EVENT_SET_REPLACED</a>:
                    <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ad056989d35054c77033943aa34e87785">RMAP_EVENT_SET_ADDED</a>,
                    index-&gt;<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>);
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3372553a024332702cfd603e1f4c08d6"></a><!-- doxytag: member="routemap.c::route_map_apply" ref="a3372553a024332702cfd603e1f4c08d6" args="(struct route_map *map, struct prefix *prefix, route_map_object_t type, void *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> route_map_apply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00774">774</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> <span class="keywordtype">int</span> recursion = 0;
  <span class="keywordtype">int</span> ret = 0;
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *<span class="keyword">set</span>;

  <span class="keywordflow">if</span> (recursion &gt; <a class="code" href="routemap_8h.html#a224e629a9ef35235b56a21a975179df1">RMAP_RECURSION_LIMIT</a>)
    {
      <a class="code" href="log_8c.html#a34f80af784b8ec394e7a7154a7ec7364">zlog</a> (<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, LOG_WARNING,
            <span class="stringliteral">&quot;route-map recursion limit (%d) reached, discarding route&quot;</span>,
            <a class="code" href="routemap_8h.html#a224e629a9ef35235b56a21a975179df1">RMAP_RECURSION_LIMIT</a>);
      recursion = 0;
      <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">RMAP_DENYMATCH</a>;
    }

  <span class="keywordflow">if</span> (map == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">RMAP_DENYMATCH</a>;

  <span class="keywordflow">for</span> (index = map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>; index; index = index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>)
    {
      <span class="comment">/* Apply this index. */</span>
      ret = <a class="code" href="routemap_8c.html#a09a3929d57dafc7f9a45c978624b5c79">route_map_apply_match</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>, prefix, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>, <span class="keywordtype">object</span>);

      <span class="comment">/* Now we apply the matrix from above */</span>
      <span class="keywordflow">if</span> (ret == <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516ad7644e3e4542899815c7e987cb7bd604">RMAP_NOMATCH</a>)
        <span class="comment">/* &#39;cont&#39; from matrix - continue to next route-map sequence */</span>
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516acce76d634db613fd27f63c57d4438e3f">RMAP_MATCH</a>)
        {
          <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">type</a> == <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644aa7d1859ac879fafcd59953ee1e27b134">RMAP_PERMIT</a>)
            <span class="comment">/* &#39;action&#39; */</span>
            {
              <span class="comment">/* permit+match must execute sets */</span>
              <span class="keywordflow">for</span> (<span class="keyword">set</span> = index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; <span class="keyword">set</span>; <span class="keyword">set</span> = set-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
                ret = (*<span class="keyword">set</span>-&gt;cmd-&gt;func_apply) (set-&gt;value, prefix,
                                               <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>, <span class="keywordtype">object</span>);

              <span class="comment">/* Call another route-map if available */</span>
              <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>)
                {
                  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *nextrm =
                                    <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>);

                  <span class="keywordflow">if</span> (nextrm) <span class="comment">/* Target route-map found, jump to it */</span>
                    {
                      recursion++;
                      ret = <a class="code" href="routemap_8c.html#a3372553a024332702cfd603e1f4c08d6">route_map_apply</a> (nextrm, prefix, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>, <span class="keywordtype">object</span>);
                      recursion--;
                    }

                  <span class="comment">/* If nextrm returned &#39;deny&#39;, finish. */</span>
                  <span class="keywordflow">if</span> (ret == <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">RMAP_DENYMATCH</a>)
                    <span class="keywordflow">return</span> ret;
                }
                
              <span class="keywordflow">switch</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a>)
                {
                  <span class="keywordflow">case</span> <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65ac96396419f989b1550d26b3c26b344b3">RMAP_EXIT</a>:
                    <span class="keywordflow">return</span> ret;
                  <span class="keywordflow">case</span> <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a626a8c0ef7d48240fa6cc70fab0025ca">RMAP_NEXT</a>:
                    <span class="keywordflow">continue</span>;
                  <span class="keywordflow">case</span> <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a288188a3b834bdcf6d4992443836bfad">RMAP_GOTO</a>:
                    {
                      <span class="comment">/* Find the next clause to jump to */</span>
                      <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a> = index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>;
                      <span class="keywordtype">int</span> <a class="code" href="structroute__map__index.html#ac6d8da597d7a10032f4f28e281cb2e92">nextpref</a> = index-&gt;<a class="code" href="structroute__map__index.html#ac6d8da597d7a10032f4f28e281cb2e92">nextpref</a>;

                      <span class="keywordflow">while</span> (next &amp;&amp; next-&gt;<a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a> &lt; nextpref)
                        {
                          index = <a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>;
                          next = next-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>;
                        }
                      <span class="keywordflow">if</span> (next == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
                        {
                          <span class="comment">/* No clauses match! */</span>
                          <span class="keywordflow">return</span> ret;
                        }
                    }
                }
            }
          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">type</a> == <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644ad79be2f4afd690ef956924415e6724bf">RMAP_DENY</a>)
            <span class="comment">/* &#39;deny&#39; */</span>
            {
                <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">RMAP_DENYMATCH</a>;
            }
        }
    }
  <span class="comment">/* Finally route-map does not match at all. */</span>
  <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">RMAP_DENYMATCH</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a09a3929d57dafc7f9a45c978624b5c79"></a><!-- doxytag: member="routemap.c::route_map_apply_match" ref="a09a3929d57dafc7f9a45c978624b5c79" args="(struct route_map_rule_list *match_list, struct prefix *prefix, route_map_object_t type, void *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> route_map_apply_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__rule__list.html">route_map_rule_list</a> *&#160;</td>
          <td class="paramname"><em>match_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00743">743</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> ret = <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516ad7644e3e4542899815c7e987cb7bd604">RMAP_NOMATCH</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *match;


  <span class="comment">/* Check all match rule and if there is no match rule, go to the</span>
<span class="comment">     set statement. */</span>
  <span class="keywordflow">if</span> (!match_list-&gt;<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>)
    ret = <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516acce76d634db613fd27f63c57d4438e3f">RMAP_MATCH</a>;
  <span class="keywordflow">else</span>
    {
      <span class="keywordflow">for</span> (match = match_list-&gt;<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; match; match = match-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
        {
          <span class="comment">/* Try each match statement in turn, If any do not return</span>
<span class="comment">             RMAP_MATCH, return, otherwise continue on to next match </span>
<span class="comment">             statement. All match statements must match for end-result</span>
<span class="comment">             to be a match. */</span>
          ret = (*match-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a>-&gt;<a class="code" href="structroute__map__rule__cmd.html#a27e01b75ae06c3e33583b51f797f021c">func_apply</a>) (match-&gt;<a class="code" href="structroute__map__rule.html#a411e49063eebaa16ad291e8993893ff9">value</a>, prefix,
                                           <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>, <span class="keywordtype">object</span>);
          <span class="keywordflow">if</span> (ret != <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516acce76d634db613fd27f63c57d4438e3f">RMAP_MATCH</a>)
            <span class="keywordflow">return</span> ret;
        }
    }
  <span class="keywordflow">return</span> ret;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a46b2d0cf34e586f3ccb50da4afdcaba7"></a><!-- doxytag: member="routemap.c::route_map_config_write" ref="a46b2d0cf34e586f3ccb50da4afdcaba7" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int route_map_config_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01246">1246</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *map;
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *rule;
  <span class="keywordtype">int</span> first = 1;
  <span class="keywordtype">int</span> write = 0;

  <span class="keywordflow">for</span> (map = <a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#ae9d1dd67bf65f3ada0c99674b8f752ab">head</a>; map; map = map-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a>)
    <span class="keywordflow">for</span> (index = map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>; index; index = index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>)
      {
    <span class="keywordflow">if</span> (!first)
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;!%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    <span class="keywordflow">else</span>
      first = 0;

    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;route-map %s %s %d%s&quot;</span>, 
         map-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>,
         <a class="code" href="routemap_8c.html#aaf5529b7c369386cbad49975fff64482">route_map_type_str</a> (index-&gt;<a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">type</a>),
         index-&gt;<a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

    <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>)
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; description %s%s&quot;</span>, index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

    <span class="keywordflow">for</span> (rule = index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; rule; rule = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; match %s %s%s&quot;</span>, rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a>-&gt;<a class="code" href="structroute__map__rule__cmd.html#aed1f103e93fd6bd1f1c9cfe41a15cdce">str</a>, 
           rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a> ? rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a> : <span class="stringliteral">&quot;&quot;</span>,
           <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

    <span class="keywordflow">for</span> (rule = index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; rule; rule = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; set %s %s%s&quot;</span>, rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a>-&gt;<a class="code" href="structroute__map__rule__cmd.html#aed1f103e93fd6bd1f1c9cfe41a15cdce">str</a>,
           rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a> ? rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a> : <span class="stringliteral">&quot;&quot;</span>,
           <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
   <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>)
     <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; call %s%s&quot;</span>, index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> == <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a288188a3b834bdcf6d4992443836bfad">RMAP_GOTO</a>)
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; on-match goto %d%s&quot;</span>, index-&gt;<a class="code" href="structroute__map__index.html#ac6d8da597d7a10032f4f28e281cb2e92">nextpref</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> == <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a626a8c0ef7d48240fa6cc70fab0025ca">RMAP_NEXT</a>)
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty,<span class="stringliteral">&quot; on-match next%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    
    write++;
      }
  <span class="keywordflow">return</span> write;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a426a0c816c058cc8000e1d4ddca7e733"></a><!-- doxytag: member="routemap.c::route_map_delete" ref="a426a0c816c058cc8000e1d4ddca7e733" args="(struct route_map *map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void route_map_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00115">115</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__list.html">route_map_list</a> *<a class="code" href="structlist.html">list</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;
  <span class="keywordtype">char</span> *<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>;
  
  <span class="keywordflow">while</span> ((index = map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="routemap_8c.html#a0ed5d7e2a98379576055221d565c6b26">route_map_index_delete</a> (index, 0);

  name = map-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>;

  list = &amp;<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>;

  <span class="keywordflow">if</span> (map-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a>)
    map-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a>-&gt;<a class="code" href="structroute__map.html#a0ca47cdae22577cf0b150ce0a778581e">prev</a> = map-&gt;<a class="code" href="structroute__map.html#a0ca47cdae22577cf0b150ce0a778581e">prev</a>;
  <span class="keywordflow">else</span>
    list-&gt;<a class="code" href="structroute__map__list.html#ab6833c6b483708c6bff1107b99c5d5fb">tail</a> = map-&gt;<a class="code" href="structroute__map.html#a0ca47cdae22577cf0b150ce0a778581e">prev</a>;

  <span class="keywordflow">if</span> (map-&gt;<a class="code" href="structroute__map.html#a0ca47cdae22577cf0b150ce0a778581e">prev</a>)
    map-&gt;<a class="code" href="structroute__map.html#a0ca47cdae22577cf0b150ce0a778581e">prev</a>-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a> = map-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a>;
  <span class="keywordflow">else</span>
    list-&gt;<a class="code" href="structroute__map__list.html#ae9d1dd67bf65f3ada0c99674b8f752ab">head</a> = map-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a>;

  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba07614dd042b28253188ad1a8730df347">MTYPE_ROUTE_MAP</a>, map);

  <span class="comment">/* Execute deletion hook. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a45bdf98be63318bf6ce34ac54df43f96">delete_hook</a>)
    (*<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a45bdf98be63318bf6ce34ac54df43f96">delete_hook</a>) (name);

  <span class="keywordflow">if</span> (name)
    <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba34efea77984ba4d82e05b369f7b1ac27">MTYPE_ROUTE_MAP_NAME</a>, name);

}
</pre></div>
</div>
</div>
<a class="anchor" id="a60b69b789fa511ded8504c5b20fb63d4"></a><!-- doxytag: member="routemap.c::route_map_delete_hook" ref="a60b69b789fa511ded8504c5b20fb63d4" args="(void(*func)(const char *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_map_delete_hook </td>
          <td>(</td>
          <td class="paramtype">void(*)(const char *)&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00874">874</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a45bdf98be63318bf6ce34ac54df43f96">delete_hook</a> = <a class="code" href="bgp__fsm_8c.html#aad6d5d0fbfe60193366eaab88413f7af">func</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a884d3e1e22cd928a1e894005199f46c8"></a><!-- doxytag: member="routemap.c::route_map_delete_match" ref="a884d3e1e22cd928a1e894005199f46c8" args="(struct route_map_index *index, const char *match_name, const char *match_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int route_map_delete_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>match_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>match_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00585">585</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *rule;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *cmd;

  cmd = <a class="code" href="routemap_8c.html#a9fd0715db36e2b7b2ab47ea29a8844f5">route_map_lookup_match</a> (match_name);
  <span class="keywordflow">if</span> (cmd == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 1;
  
  <span class="keywordflow">for</span> (rule = index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; rule; rule = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
    <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a> == cmd &amp;&amp; 
    (<a class="code" href="routemap_8c.html#a6245552aa96f9ceff45b09187edc2737">rulecmp</a> (rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a>, match_arg) == 0 || match_arg == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))
      {
    <a class="code" href="routemap_8c.html#a04df950efca694f82162d78d314c6365">route_map_rule_delete</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>, rule);
    <span class="comment">/* Execute event hook. */</span>
    <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>)
      (*<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>) (<a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a56b052336a5f888e0f36edf89a7841e4">RMAP_EVENT_MATCH_DELETED</a>,
                      index-&gt;<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>);
    <span class="keywordflow">return</span> 0;
      }
  <span class="comment">/* Can&#39;t find matched rule. */</span>
  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af03929ed1dd4f46e3284412d6ec1e30e"></a><!-- doxytag: member="routemap.c::route_map_delete_set" ref="af03929ed1dd4f46e3284412d6ec1e30e" args="(struct route_map_index *index, const char *set_name, const char *set_arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int route_map_delete_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>set_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>set_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00671">671</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *rule;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *cmd;

  cmd = <a class="code" href="routemap_8c.html#a6b110bee31d24fc873c5292710dc8321">route_map_lookup_set</a> (set_name);
  <span class="keywordflow">if</span> (cmd == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 1;
  
  <span class="keywordflow">for</span> (rule = index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; rule; rule = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
    <span class="keywordflow">if</span> ((rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a> == cmd) &amp;&amp;
         (<a class="code" href="routemap_8c.html#a6245552aa96f9ceff45b09187edc2737">rulecmp</a> (rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a>, set_arg) == 0 || set_arg == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))
      {
        <a class="code" href="routemap_8c.html#a04df950efca694f82162d78d314c6365">route_map_rule_delete</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>, rule);
    <span class="comment">/* Execute event hook. */</span>
    <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>)
      (*<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>) (<a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ad3a6b3993521f8aa102e3d6312f423a9">RMAP_EVENT_SET_DELETED</a>,
                      index-&gt;<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>);
        <span class="keywordflow">return</span> 0;
      }
  <span class="comment">/* Can&#39;t find matched rule. */</span>
  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0d554d6eaf63b2106b04f03b5eaa5258"></a><!-- doxytag: member="routemap.c::route_map_empty" ref="a0d554d6eaf63b2106b04f03b5eaa5258" args="(struct route_map *map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int route_map_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00193">193</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; map-&gt;<a class="code" href="structroute__map.html#af222f8801c1593c2bea0a40ea7d4c638">tail</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 1;
  <span class="keywordflow">else</span>
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac75964232495c0982befc4c0a09baec1"></a><!-- doxytag: member="routemap.c::route_map_event_hook" ref="ac75964232495c0982befc4c0a09baec1" args="(void(*func)(route_map_event_t, const char *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_map_event_hook </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9">route_map_event_t</a>, const char *)&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00880">880</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a> = <a class="code" href="bgp__fsm_8c.html#aad6d5d0fbfe60193366eaab88413f7af">func</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8223809b8e0a33fb4d91c78cee55478b"></a><!-- doxytag: member="routemap.c::route_map_finish" ref="a8223809b8e0a33fb4d91c78cee55478b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_map_finish </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00894">894</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="vector_8c.html#af535d7daaa1dc88a3ac5c4451a6296f0">vector_free</a> (<a class="code" href="routemap_8c.html#addb3bc8c54003e94689949ab4b9b3c92">route_match_vec</a>);
  <a class="code" href="routemap_8c.html#addb3bc8c54003e94689949ab4b9b3c92">route_match_vec</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="vector_8c.html#af535d7daaa1dc88a3ac5c4451a6296f0">vector_free</a> (<a class="code" href="routemap_8c.html#a33bbb494a5e116d001aff81c90e97ad8">route_set_vec</a>);
  <a class="code" href="routemap_8c.html#a33bbb494a5e116d001aff81c90e97ad8">route_set_vec</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a42c5ff08bcfb26d0cda9e657ed90d63b"></a><!-- doxytag: member="routemap.c::route_map_get" ref="a42c5ff08bcfb26d0cda9e657ed90d63b" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map.html">route_map</a>* route_map_get </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00164">164</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *map;

  map = <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
  <span class="keywordflow">if</span> (map == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    map = <a class="code" href="routemap_8c.html#a12cb2cd975043bc18e20b2794982ae18">route_map_add</a> (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
  <span class="keywordflow">return</span> map;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a962f025a62dbe393f93e864236109541"></a><!-- doxytag: member="routemap.c::route_map_index_add" ref="a962f025a62dbe393f93e864236109541" args="(struct route_map *map, enum route_map_type type, int pref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map__index.html">route_map_index</a>* route_map_index_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00345">345</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *point;

  <span class="comment">/* Allocate new route map inex. */</span>
  index = <a class="code" href="routemap_8c.html#a860d974a943e334433da3327a6140e82">route_map_index_new</a> ();
  index-&gt;<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a> = <a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>;
  index-&gt;<a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">type</a> = <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;
  index-&gt;<a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a> = <a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>;
  
  <span class="comment">/* Compare preference. */</span>
  <span class="keywordflow">for</span> (point = map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>; point; point = point-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>)
    <span class="keywordflow">if</span> (point-&gt;<a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a> &gt;= <a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>)
      <span class="keywordflow">break</span>;

  <span class="keywordflow">if</span> (map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a> = map-&gt;<a class="code" href="structroute__map.html#af222f8801c1593c2bea0a40ea7d4c638">tail</a> = index;
    }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (point == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      index-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a> = map-&gt;<a class="code" href="structroute__map.html#af222f8801c1593c2bea0a40ea7d4c638">tail</a>;
      map-&gt;<a class="code" href="structroute__map.html#af222f8801c1593c2bea0a40ea7d4c638">tail</a>-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a> = index;
      map-&gt;<a class="code" href="structroute__map.html#af222f8801c1593c2bea0a40ea7d4c638">tail</a> = index;
    }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (point == map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>)
    {
      index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a> = map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>;
      map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a> = index;
      map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a> = index;
    }
  <span class="keywordflow">else</span>
    {
      index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a> = point;
      index-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a> = point-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a>;
      <span class="keywordflow">if</span> (point-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a>)
    point-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a>-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a> = index;
      point-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a> = index;
    }

  <span class="comment">/* Execute event hook. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>)
    (*<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>) (<a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a9edd138a59d6e9b2db1f8cd995ae777a">RMAP_EVENT_INDEX_ADDED</a>,
                    map-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>);

  <span class="keywordflow">return</span> index;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0ed5d7e2a98379576055221d565c6b26"></a><!-- doxytag: member="routemap.c::route_map_index_delete" ref="a0ed5d7e2a98379576055221d565c6b26" args="(struct route_map_index *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void route_map_index_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__index.html">route_map_index</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>notify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00294">294</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *rule;

  <span class="comment">/* Free route match. */</span>
  <span class="keywordflow">while</span> ((rule = index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="routemap_8c.html#a04df950efca694f82162d78d314c6365">route_map_rule_delete</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>, rule);

  <span class="comment">/* Free route set. */</span>
  <span class="keywordflow">while</span> ((rule = index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="routemap_8c.html#a04df950efca694f82162d78d314c6365">route_map_rule_delete</a> (&amp;index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>, rule);

  <span class="comment">/* Remove index from route map list. */</span>
  <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>)
    index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a> = index-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a>;
  <span class="keywordflow">else</span>
    index-&gt;<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>-&gt;<a class="code" href="structroute__map.html#af222f8801c1593c2bea0a40ea7d4c638">tail</a> = index-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a>;

  <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a>)
    index-&gt;<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a>-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a> = index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>;
  <span class="keywordflow">else</span>
    index-&gt;<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a> = index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>;

  <span class="comment">/* Free &#39;char *nextrm&#39; if not NULL */</span>
  <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>)
    <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba34efea77984ba4d82e05b369f7b1ac27">MTYPE_ROUTE_MAP_NAME</a>, index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>);

    <span class="comment">/* Execute event hook. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a> &amp;&amp; notify)
    (*<a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#a70072999578adc5ed0a3ed5a89c3bfa9">event_hook</a>) (<a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a49be32e9ce9d24366de94b24a0c07ae2">RMAP_EVENT_INDEX_DELETED</a>,
                    index-&gt;<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>);

  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba8c8042160f909ab4cca108355cd301a8">MTYPE_ROUTE_MAP_INDEX</a>, index);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aef70e13dfe5c474bf4c1ea9cf45cc75d"></a><!-- doxytag: member="routemap.c::route_map_index_get" ref="aef70e13dfe5c474bf4c1ea9cf45cc75d" args="(struct route_map *map, enum route_map_type type, int pref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map__index.html">route_map_index</a>* route_map_index_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00397">397</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  index = <a class="code" href="routemap_8c.html#a54d568cbc801032d2fcb2f04882df5bc">route_map_index_lookup</a> (map, <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644a3e1cf1ee8daf4831cff903b956538dc4">RMAP_ANY</a>, <a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>);
  <span class="keywordflow">if</span> (index &amp;&amp; index-&gt;<a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">type</a> != <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>)
    {
      <span class="comment">/* Delete index from route map. */</span>
      <a class="code" href="routemap_8c.html#a0ed5d7e2a98379576055221d565c6b26">route_map_index_delete</a> (index, 1);
      index = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }
  <span class="keywordflow">if</span> (index == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    index = <a class="code" href="routemap_8c.html#a962f025a62dbe393f93e864236109541">route_map_index_add</a> (map, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>, <a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>);
  <span class="keywordflow">return</span> index;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a54d568cbc801032d2fcb2f04882df5bc"></a><!-- doxytag: member="routemap.c::route_map_index_lookup" ref="a54d568cbc801032d2fcb2f04882df5bc" args="(struct route_map *map, enum route_map_type type, int pref)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map__index.html">route_map_index</a>* route_map_index_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00331">331</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;

  <span class="keywordflow">for</span> (index = map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>; index; index = index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>)
    <span class="keywordflow">if</span> ((index-&gt;<a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">type</a> == <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> || <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> == <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644a3e1cf1ee8daf4831cff903b956538dc4">RMAP_ANY</a>)
    &amp;&amp; index-&gt;<a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a> == <a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>)
      <span class="keywordflow">return</span> index;
  <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a860d974a943e334433da3327a6140e82"></a><!-- doxytag: member="routemap.c::route_map_index_new" ref="a860d974a943e334433da3327a6140e82" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map__index.html">route_map_index</a>* route_map_index_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00283">283</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *<span class="keyword">new</span>;

  <span class="keyword">new</span> =  <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba8c8042160f909ab4cca108355cd301a8">MTYPE_ROUTE_MAP_INDEX</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a>));
  <span class="keyword">new</span>-&gt;exitpolicy = <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65ac96396419f989b1550d26b3c26b344b3">RMAP_EXIT</a>; <span class="comment">/* Default to Cisco-style */</span>
  <span class="keywordflow">return</span> <span class="keyword">new</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4e07135a4ac1643e0a3c2e9460322636"></a><!-- doxytag: member="routemap.c::route_map_init" ref="a4e07135a4ac1643e0a3c2e9460322636" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_map_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00886">886</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Make vector for match and set. */</span>
  <a class="code" href="routemap_8c.html#addb3bc8c54003e94689949ab4b9b3c92">route_match_vec</a> = <a class="code" href="vector_8c.html#ae6a929ac3530de06eee1df3629d15247">vector_init</a> (1);
  <a class="code" href="routemap_8c.html#a33bbb494a5e116d001aff81c90e97ad8">route_set_vec</a> = <a class="code" href="vector_8c.html#ae6a929ac3530de06eee1df3629d15247">vector_init</a> (1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a09855551d0ef6f569e32d56cc4bb2857"></a><!-- doxytag: member="routemap.c::route_map_init_vty" ref="a09855551d0ef6f569e32d56cc4bb2857" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_map_init_vty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l01301">1301</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Install route map top node. */</span>
  <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;<a class="code" href="routemap_8c.html#a000ff6b0687a1583316c548e31d26aaf">rmap_node</a>, <a class="code" href="routemap_8c.html#a46b2d0cf34e586f3ccb50da4afdcaba7">route_map_config_write</a>);

  <span class="comment">/* Install route map commands. */</span>
  <a class="code" href="command_8h.html#affb2f399c88b8a225b2719bbe928e4de">install_default</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;route_map_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_route_map_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_route_map_all_cmd);

  <span class="comment">/* Install the on-match stuff */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;route_map_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;rmap_onmatch_next_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;no_rmap_onmatch_next_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;rmap_onmatch_goto_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;no_rmap_onmatch_goto_cmd);
  
  <span class="comment">/* Install the continue stuff (ALIAS of on-match). */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;rmap_continue_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;no_rmap_continue_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;rmap_continue_index_cmd);
  
  <span class="comment">/* Install the call stuff. */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;rmap_call_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;no_rmap_call_cmd);

  <span class="comment">/* Install description commands. */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;rmap_description_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;no_rmap_description_cmd);
   
  <span class="comment">/* Install show command */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;rmap_show_name_cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ada69b48e1c884e20ef5a90dc1d0a0b82"></a><!-- doxytag: member="routemap.c::route_map_install_match" ref="ada69b48e1c884e20ef5a90dc1d0a0b82" args="(struct route_map_rule_cmd *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_map_install_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00426">426</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="vector_8c.html#a09dff784fcc0e322c64e5975b3255fe0">vector_set</a> (<a class="code" href="routemap_8c.html#addb3bc8c54003e94689949ab4b9b3c92">route_match_vec</a>, cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a13c839a968e8eba43c4e83ce35929d41"></a><!-- doxytag: member="routemap.c::route_map_install_set" ref="a13c839a968e8eba43c4e83ce35929d41" args="(struct route_map_rule_cmd *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void route_map_install_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00433">433</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="vector_8c.html#a09dff784fcc0e322c64e5975b3255fe0">vector_set</a> (<a class="code" href="routemap_8c.html#a33bbb494a5e116d001aff81c90e97ad8">route_set_vec</a>, cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a52006340e589dda4244d35cafc9f6f10"></a><!-- doxytag: member="routemap.c::route_map_lookup_by_name" ref="a52006340e589dda4244d35cafc9f6f10" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute__map.html">route_map</a>* route_map_lookup_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00151">151</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *map;

  <span class="keywordflow">for</span> (map = <a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#ae9d1dd67bf65f3ada0c99674b8f752ab">head</a>; map; map = map-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a>)
    <span class="keywordflow">if</span> (strcmp (map-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>) == 0)
      <span class="keywordflow">return</span> map;
  <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9fd0715db36e2b7b2ab47ea29a8844f5"></a><!-- doxytag: member="routemap.c::route_map_lookup_match" ref="a9fd0715db36e2b7b2ab47ea29a8844f5" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a>* route_map_lookup_match </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00440">440</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *rule;

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (<a class="code" href="routemap_8c.html#addb3bc8c54003e94689949ab4b9b3c92">route_match_vec</a>); i++)
    <span class="keywordflow">if</span> ((rule = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="routemap_8c.html#addb3bc8c54003e94689949ab4b9b3c92">route_match_vec</a>, i)) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <span class="keywordflow">if</span> (strcmp (rule-&gt;<a class="code" href="structroute__map__rule__cmd.html#aed1f103e93fd6bd1f1c9cfe41a15cdce">str</a>, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>) == 0)
    <span class="keywordflow">return</span> rule;
  <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6b110bee31d24fc873c5292710dc8321"></a><!-- doxytag: member="routemap.c::route_map_lookup_set" ref="a6b110bee31d24fc873c5292710dc8321" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a>* route_map_lookup_set </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00454">454</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *rule;

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (<a class="code" href="routemap_8c.html#a33bbb494a5e116d001aff81c90e97ad8">route_set_vec</a>); i++)
    <span class="keywordflow">if</span> ((rule = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="routemap_8c.html#a33bbb494a5e116d001aff81c90e97ad8">route_set_vec</a>, i)) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <span class="keywordflow">if</span> (strcmp (rule-&gt;<a class="code" href="structroute__map__rule__cmd.html#aed1f103e93fd6bd1f1c9cfe41a15cdce">str</a>, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>) == 0)
    <span class="keywordflow">return</span> rule;
  <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a74faeef4d5ee28bb9e19228dd4cb2942"></a><!-- doxytag: member="routemap.c::route_map_new" ref="a74faeef4d5ee28bb9e19228dd4cb2942" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map.html">route_map</a>* route_map_new </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00079">79</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *<span class="keyword">new</span>;

  <span class="keyword">new</span> =  <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba07614dd042b28253188ad1a8730df347">MTYPE_ROUTE_MAP</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structroute__map.html">route_map</a>));
  <span class="keyword">new</span>-&gt;name = <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba34efea77984ba4d82e05b369f7b1ac27">MTYPE_ROUTE_MAP_NAME</a>, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
  <span class="keywordflow">return</span> <span class="keyword">new</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad228f2b1da226db26498dc26e77af01a"></a><!-- doxytag: member="routemap.c::route_map_rule_add" ref="ad228f2b1da226db26498dc26e77af01a" args="(struct route_map_rule_list *list, struct route_map_rule *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void route_map_rule_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__rule__list.html">route_map_rule_list</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structroute__map__rule.html">route_map_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00468">468</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  rule-&gt;<a class="code" href="structroute__map__rule.html#ac95d109464fd0b1e909bbf1f0026acf5">prev</a> = list-&gt;<a class="code" href="structroute__map__rule__list.html#a4092d13b8dddc332e5261de4310450cb">tail</a>;
  <span class="keywordflow">if</span> (list-&gt;<a class="code" href="structroute__map__rule__list.html#a4092d13b8dddc332e5261de4310450cb">tail</a>)
    list-&gt;<a class="code" href="structroute__map__rule__list.html#a4092d13b8dddc332e5261de4310450cb">tail</a>-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a> = rule;
  <span class="keywordflow">else</span>
    list-&gt;<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a> = rule;
  list-&gt;<a class="code" href="structroute__map__rule__list.html#a4092d13b8dddc332e5261de4310450cb">tail</a> = rule;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a04df950efca694f82162d78d314c6365"></a><!-- doxytag: member="routemap.c::route_map_rule_delete" ref="a04df950efca694f82162d78d314c6365" args="(struct route_map_rule_list *, struct route_map_rule *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void route_map_rule_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structroute__map__rule__list.html">route_map_rule_list</a> *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structroute__map__rule.html">route_map_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00482">482</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a>-&gt;<a class="code" href="structroute__map__rule__cmd.html#a4223d985644004257b4f9dbf38186774">func_free</a>)
    (*rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a>-&gt;<a class="code" href="structroute__map__rule__cmd.html#a4223d985644004257b4f9dbf38186774">func_free</a>) (rule-&gt;<a class="code" href="structroute__map__rule.html#a411e49063eebaa16ad291e8993893ff9">value</a>);

  <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a>)
    <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba5d0465d22fb5c23c1f01fd7b5980bd0a">MTYPE_ROUTE_MAP_RULE_STR</a>, rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a>);

  <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
    rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>-&gt;<a class="code" href="structroute__map__rule.html#ac95d109464fd0b1e909bbf1f0026acf5">prev</a> = rule-&gt;<a class="code" href="structroute__map__rule.html#ac95d109464fd0b1e909bbf1f0026acf5">prev</a>;
  <span class="keywordflow">else</span>
    list-&gt;<a class="code" href="structroute__map__rule__list.html#a4092d13b8dddc332e5261de4310450cb">tail</a> = rule-&gt;<a class="code" href="structroute__map__rule.html#ac95d109464fd0b1e909bbf1f0026acf5">prev</a>;
  <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structroute__map__rule.html#ac95d109464fd0b1e909bbf1f0026acf5">prev</a>)
    rule-&gt;<a class="code" href="structroute__map__rule.html#ac95d109464fd0b1e909bbf1f0026acf5">prev</a>-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a> = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>;
  <span class="keywordflow">else</span>
    list-&gt;<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a> = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>;

  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba653753eba412bb4e848d742b1644fb56">MTYPE_ROUTE_MAP_RULE</a>, rule);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a16578a172d35d72320302e8721fff56a"></a><!-- doxytag: member="routemap.c::route_map_rule_new" ref="a16578a172d35d72320302e8721fff56a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structroute__map__rule.html">route_map_rule</a>* route_map_rule_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00416">416</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *<span class="keyword">new</span>;

  <span class="keyword">new</span> = <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba653753eba412bb4e848d742b1644fb56">MTYPE_ROUTE_MAP_RULE</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structroute__map__rule.html">route_map_rule</a>));
  <span class="keywordflow">return</span> <span class="keyword">new</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaf5529b7c369386cbad49975fff64482"></a><!-- doxytag: member="routemap.c::route_map_type_str" ref="aaf5529b7c369386cbad49975fff64482" args="(enum route_map_type type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* route_map_type_str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00176">176</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">switch</span> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>)
    {
    <span class="keywordflow">case</span> <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644aa7d1859ac879fafcd59953ee1e27b134">RMAP_PERMIT</a>:
      <span class="keywordflow">return</span> <span class="stringliteral">&quot;permit&quot;</span>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644ad79be2f4afd690ef956924415e6724bf">RMAP_DENY</a>:
      <span class="keywordflow">return</span> <span class="stringliteral">&quot;deny&quot;</span>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">default</span>:
      <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
      <span class="keywordflow">break</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6245552aa96f9ceff45b09187edc2737"></a><!-- doxytag: member="routemap.c::rulecmp" ref="a6245552aa96f9ceff45b09187edc2737" args="(const char *dst, const char *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int rulecmp </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00505">505</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (dst == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <span class="keywordflow">if</span> (src ==  <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 0;
      <span class="keywordflow">else</span>
    <span class="keywordflow">return</span> 1;
    }
  <span class="keywordflow">else</span>
    {
      <span class="keywordflow">if</span> (src == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 1;
      <span class="keywordflow">else</span>
    <span class="keywordflow">return</span> strcmp (dst, src);
    }
  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae6e29609c4c1b53efae1da0a0220accc"></a><!-- doxytag: member="routemap.c::vty_show_route_map" ref="ae6e29609c4c1b53efae1da0a0220accc" args="(struct vty *vty, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int vty_show_route_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00252">252</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *map;

  <span class="keywordflow">if</span> (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)
    {
      map = <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);

      <span class="keywordflow">if</span> (map)
        {
          <a class="code" href="routemap_8c.html#ab8d9bb4f177250be9a2c93207f0c9873">vty_show_route_map_entry</a> (vty, map);
          <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
        }
      <span class="keywordflow">else</span>
        {
          <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%%route-map %s not found%s&quot;</span>, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
          <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
        }
    }
  <span class="keywordflow">else</span>
    {
      <span class="keywordflow">for</span> (map = <a class="code" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a>.<a class="code" href="structroute__map__list.html#ae9d1dd67bf65f3ada0c99674b8f752ab">head</a>; map; map = map-&gt;<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a>)
    <a class="code" href="routemap_8c.html#ab8d9bb4f177250be9a2c93207f0c9873">vty_show_route_map_entry</a> (vty, map);
    }
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab8d9bb4f177250be9a2c93207f0c9873"></a><!-- doxytag: member="routemap.c::vty_show_route_map_entry" ref="ab8d9bb4f177250be9a2c93207f0c9873" args="(struct vty *vty, struct route_map *map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vty_show_route_map_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structroute__map.html">route_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00203">203</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *index;
  <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *rule;

  <span class="comment">/* Print the name of the protocol */</span>
  <span class="keywordflow">if</span> (<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s:%s&quot;</span>, <a class="code" href="log_8c.html#a104618d1dc8bb7b6b5c36f8969f2a49e">zlog_proto_names</a>[<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#acafcb64affec5374e8e4d61fded92812">protocol</a>],
             <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <span class="keywordflow">for</span> (index = map-&gt;<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>; index; index = index-&gt;<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;route-map %s, %s, sequence %d%s&quot;</span>,
               map-&gt;<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>, <a class="code" href="routemap_8c.html#aaf5529b7c369386cbad49975fff64482">route_map_type_str</a> (index-&gt;<a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">type</a>),
               index-&gt;<a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

      <span class="comment">/* Description */</span>
      <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  Description:%s    %s%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>,
         index-&gt;<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      
      <span class="comment">/* Match clauses */</span>
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  Match clauses:%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">for</span> (rule = index-&gt;<a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; rule; rule = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %s %s%s&quot;</span>, 
                 rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a>-&gt;<a class="code" href="structroute__map__rule__cmd.html#aed1f103e93fd6bd1f1c9cfe41a15cdce">str</a>, rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  Set clauses:%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">for</span> (rule = index-&gt;<a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>.<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>; rule; rule = rule-&gt;<a class="code" href="structroute__map__rule.html#a5637bdc57e10580098f0a7533ca0c92e">next</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %s %s%s&quot;</span>,
                 rule-&gt;<a class="code" href="structroute__map__rule.html#a40d84094617a9e75f258de88e1f25acc">cmd</a>-&gt;<a class="code" href="structroute__map__rule__cmd.html#aed1f103e93fd6bd1f1c9cfe41a15cdce">str</a>, rule-&gt;<a class="code" href="structroute__map__rule.html#ad0b8cddc5b1e2c1bd6c2fe0405b233f4">rule_str</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      
      <span class="comment">/* Call clause */</span>
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  Call clause:%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Call %s%s&quot;</span>, index-&gt;<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      
      <span class="comment">/* Exit Policy */</span>
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  Action:%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> == <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a288188a3b834bdcf6d4992443836bfad">RMAP_GOTO</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Goto %d%s&quot;</span>, index-&gt;<a class="code" href="structroute__map__index.html#ac6d8da597d7a10032f4f28e281cb2e92">nextpref</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> == <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a626a8c0ef7d48240fa6cc70fab0025ca">RMAP_NEXT</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Continue to next entry%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index-&gt;<a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a> == <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65ac96396419f989b1550d26b3c26b344b3">RMAP_EXIT</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Exit routemap%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a000ff6b0687a1583316c548e31d26aaf"></a><!-- doxytag: member="routemap.c::rmap_node" ref="a000ff6b0687a1583316c548e31d26aaf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcmd__node.html">cmd_node</a> <a class="el" href="vtysh_8c.html#a000ff6b0687a1583316c548e31d26aaf">rmap_node</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>,
  <span class="stringliteral">&quot;%s(config-route-map)# &quot;</span>,
  1
}
</pre></div>
<p>Definition at line <a class="el" href="routemap_8c_source.html#l01292">1292</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad278ed0d8ec41273dcfca94297a0c3ff"></a><!-- doxytag: member="routemap.c::route_map_master" ref="ad278ed0d8ec41273dcfca94297a0c3ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute__map__list.html">route_map_list</a> <a class="el" href="routemap_8c.html#ad278ed0d8ec41273dcfca94297a0c3ff">route_map_master</a> = { NULL, NULL, NULL, NULL }<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00067">67</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>

</div>
</div>
<a class="anchor" id="addb3bc8c54003e94689949ab4b9b3c92"></a><!-- doxytag: member="routemap.c::route_match_vec" ref="addb3bc8c54003e94689949ab4b9b3c92" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vector_8h.html#a7fe85bb4f5ec8665f4ef33dab2fdc2db">vector</a> <a class="el" href="routemap_8c.html#addb3bc8c54003e94689949ab4b9b3c92">route_match_vec</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00033">33</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>

</div>
</div>
<a class="anchor" id="a33bbb494a5e116d001aff81c90e97ad8"></a><!-- doxytag: member="routemap.c::route_set_vec" ref="a33bbb494a5e116d001aff81c90e97ad8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vector_8h.html#a7fe85bb4f5ec8665f4ef33dab2fdc2db">vector</a> <a class="el" href="routemap_8c.html#a33bbb494a5e116d001aff81c90e97ad8">route_set_vec</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="routemap_8c_source.html#l00036">36</a> of file <a class="el" href="routemap_8c_source.html">routemap.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="routemap_8c.html">routemap.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:24 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
