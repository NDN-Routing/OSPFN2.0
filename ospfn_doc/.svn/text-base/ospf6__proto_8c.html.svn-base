<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: ospf6d/ospf6_proto.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ospf6__proto_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ospf6d/ospf6_proto.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__proto_8h_source.html">ospf6_proto.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ospf6_proto.c:</div>
<div class="dyncontent">
<div class="center"><img src="ospf6__proto_8c__incl.png" border="0" usemap="#ospf6d_2ospf6__proto_8c" alt=""/></div>
<map name="ospf6d_2ospf6__proto_8c" id="ospf6d_2ospf6__proto_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1345,80,1412,107"/><area shape="rect" id="node61" href="log_8h.html" title="log.h" alt="" coords="2097,80,2148,107"/><area shape="rect" id="node64" href="ospf6__proto_8h.html" title="ospf6_proto.h" alt="" coords="2173,80,2280,107"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="2572,155,2649,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="2674,155,2723,181"/></map>
</div>
</div>
<p><a href="ospf6__proto_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__proto_8c.html#ab83c2915ff6e595f4da17eaacf04c5d5">ospf6_prefix_apply_mask</a> (struct <a class="el" href="structospf6__prefix.html">ospf6_prefix</a> *op)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__proto_8c.html#a070cf45b50e4eac1f052fd9f3a9cab07">ospf6_prefix_options_printbuf</a> (u_int8_t prefix_options, char *buf, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__proto_8c.html#acfafe064fed258582397cfd39d7d69ba">ospf6_capability_printbuf</a> (char capability, char *buf, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__proto_8c.html#a70fba8cd2453bf33405c98ff2ff14a38">ospf6_options_printbuf</a> (u_char *options, char *buf, int size)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="acfafe064fed258582397cfd39d7d69ba"></a><!-- doxytag: member="ospf6_proto.c::ospf6_capability_printbuf" ref="acfafe064fed258582397cfd39d7d69ba" args="(char capability, char *buf, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_capability_printbuf </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>capability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__proto_8c_source.html#l00062">62</a> of file <a class="el" href="ospf6__proto_8c_source.html">ospf6_proto.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> w, v, e, <a class="code" href="ripng__nexthop_8h.html#a337ad8a7e52da2d584c2018f2ec2c81e">b</a>;
  w = (capability &amp; <a class="code" href="ospf6__proto_8h.html#ac2e2911de2737886a65a378de0050c8a">OSPF6_ROUTER_BIT_W</a> ? <span class="charliteral">&#39;W&#39;</span> : <span class="charliteral">&#39;-&#39;</span>);
  v = (capability &amp; <a class="code" href="ospf6__proto_8h.html#ae3c0d0e7a7292842807d077cde57269f">OSPF6_ROUTER_BIT_V</a> ? <span class="charliteral">&#39;V&#39;</span> : <span class="charliteral">&#39;-&#39;</span>);
  e = (capability &amp; <a class="code" href="ospf6__proto_8h.html#a001990a29c38d5f3b4da6bf596ccc2c5">OSPF6_ROUTER_BIT_E</a> ? <span class="charliteral">&#39;E&#39;</span> : <span class="charliteral">&#39;-&#39;</span>);
  b = (capability &amp; <a class="code" href="ospf6__proto_8h.html#a4508b95dd106578cb85a89f654f07ab9">OSPF6_ROUTER_BIT_B</a> ? <span class="charliteral">&#39;B&#39;</span> : <span class="charliteral">&#39;-&#39;</span>);
  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, size, <span class="stringliteral">&quot;----%c%c%c%c&quot;</span>, w, v, e, b);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a70fba8cd2453bf33405c98ff2ff14a38"></a><!-- doxytag: member="ospf6_proto.c::ospf6_options_printbuf" ref="a70fba8cd2453bf33405c98ff2ff14a38" args="(u_char *options, char *buf, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_options_printbuf </td>
          <td>(</td>
          <td class="paramtype">u_char *&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__proto_8c_source.html#l00073">73</a> of file <a class="el" href="ospf6__proto_8c_source.html">ospf6_proto.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <span class="keywordtype">char</span> *dc, *r, *<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>, *<a class="code" href="spgrid_8c.html#a685f4e5f6d78546e82fff08449054b92">mc</a>, *e, *v6;
  dc = (<a class="code" href="ospf6__proto_8h.html#afe698280bea2b90a4d625d25cb639c6a">OSPF6_OPT_ISSET</a> (options, <a class="code" href="ospf6__proto_8h.html#aed78f5bef7063e16ea1ef0f52df04d5f">OSPF6_OPT_DC</a>) ? <span class="stringliteral">&quot;DC&quot;</span> : <span class="stringliteral">&quot;--&quot;</span>);
  r  = (<a class="code" href="ospf6__proto_8h.html#afe698280bea2b90a4d625d25cb639c6a">OSPF6_OPT_ISSET</a> (options, <a class="code" href="ospf6__proto_8h.html#a27976221f798859182ee6c7312f6f9ac">OSPF6_OPT_R</a>)  ? <span class="stringliteral">&quot;R&quot;</span>  : <span class="stringliteral">&quot;-&quot;</span> );
  n  = (<a class="code" href="ospf6__proto_8h.html#afe698280bea2b90a4d625d25cb639c6a">OSPF6_OPT_ISSET</a> (options, <a class="code" href="ospf6__proto_8h.html#a40361e5392537156040bda0ff0909de5">OSPF6_OPT_N</a>)  ? <span class="stringliteral">&quot;N&quot;</span>  : <span class="stringliteral">&quot;-&quot;</span> );
  mc = (<a class="code" href="ospf6__proto_8h.html#afe698280bea2b90a4d625d25cb639c6a">OSPF6_OPT_ISSET</a> (options, <a class="code" href="ospf6__proto_8h.html#a81a6627fcc4659a04fdcdd79df4d5e1d">OSPF6_OPT_MC</a>) ? <span class="stringliteral">&quot;MC&quot;</span> : <span class="stringliteral">&quot;--&quot;</span>);
  e  = (<a class="code" href="ospf6__proto_8h.html#afe698280bea2b90a4d625d25cb639c6a">OSPF6_OPT_ISSET</a> (options, <a class="code" href="ospf6__proto_8h.html#af4dc4ae32aacf5b0758f247de720234e">OSPF6_OPT_E</a>)  ? <span class="stringliteral">&quot;E&quot;</span>  : <span class="stringliteral">&quot;-&quot;</span> );
  v6 = (<a class="code" href="ospf6__proto_8h.html#afe698280bea2b90a4d625d25cb639c6a">OSPF6_OPT_ISSET</a> (options, <a class="code" href="ospf6__proto_8h.html#a37745595268f6f57d52276e4dc05c54a">OSPF6_OPT_V6</a>) ? <span class="stringliteral">&quot;V6&quot;</span> : <span class="stringliteral">&quot;--&quot;</span>);
  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, size, <span class="stringliteral">&quot;%s|%s|%s|%s|%s|%s&quot;</span>, dc, r, n, mc, e, v6);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab83c2915ff6e595f4da17eaacf04c5d5"></a><!-- doxytag: member="ospf6_proto.c::ospf6_prefix_apply_mask" ref="ab83c2915ff6e595f4da17eaacf04c5d5" args="(struct ospf6_prefix *op)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_prefix_apply_mask </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__prefix.html">ospf6_prefix</a> *&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__proto_8c_source.html#l00029">29</a> of file <a class="el" href="ospf6__proto_8c_source.html">ospf6_proto.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_char *pnt, mask;
  <span class="keywordtype">int</span> index, offset;

  pnt = (u_char *)((caddr_t) op + <span class="keyword">sizeof</span> (<span class="keyword">struct </span><a class="code" href="structospf6__prefix.html">ospf6_prefix</a>));
  index = op-&gt;<a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a> / 8;
  offset = op-&gt;<a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a> % 8;
  mask = 0xff &lt;&lt; (8 - offset);

  <span class="keywordflow">if</span> (index &gt; 16)
    {
      <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;Prefix length too long: %d&quot;</span>, op-&gt;<a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a>);
      <span class="keywordflow">return</span>;
    }

  <span class="keywordflow">if</span> (index == 16)
    <span class="keywordflow">return</span>;

  pnt[index] &amp;= mask;
  index ++;

  <span class="keywordflow">while</span> (index &lt; <a class="code" href="ospf6__proto_8h.html#a95b30d77b5749feed0b8e400df5ee378">OSPF6_PREFIX_SPACE</a> (op-&gt;<a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a>))
    pnt[index++] = 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a070cf45b50e4eac1f052fd9f3a9cab07"></a><!-- doxytag: member="ospf6_proto.c::ospf6_prefix_options_printbuf" ref="a070cf45b50e4eac1f052fd9f3a9cab07" args="(u_int8_t prefix_options, char *buf, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_prefix_options_printbuf </td>
          <td>(</td>
          <td class="paramtype">u_int8_t&#160;</td>
          <td class="paramname"><em>prefix_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__proto_8c_source.html#l00056">56</a> of file <a class="el" href="ospf6__proto_8c_source.html">ospf6_proto.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, size, <span class="stringliteral">&quot;xxx&quot;</span>);
}
</pre></div>
</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ospf6__proto_8c.html">ospf6_proto.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:27 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
