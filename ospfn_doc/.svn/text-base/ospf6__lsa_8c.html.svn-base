<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: ospf6d/ospf6_lsa.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ospf6__lsa_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ospf6d/ospf6_lsa.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="linklist_8h_source.html">linklist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vector_8h_source.html">vector.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vty_8h_source.html">vty.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="thread_8h_source.html">thread.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__proto_8h_source.html">ospf6_proto.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsa_8h_source.html">ospf6_lsa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsdb_8h_source.html">ospf6_lsdb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__message_8h_source.html">ospf6_message.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__top_8h_source.html">ospf6_top.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__area_8h_source.html">ospf6_area.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__interface_8h_source.html">ospf6_interface.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__neighbor_8h_source.html">ospf6_neighbor.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__flood_8h_source.html">ospf6_flood.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6d_8h_source.html">ospf6d.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ospf6_lsa.c:</div>
<div class="dyncontent">
<div class="center"><img src="ospf6__lsa_8c__incl.png" border="0" usemap="#ospf6d_2ospf6__lsa_8c" alt=""/></div>
<map name="ospf6d_2ospf6__lsa_8c" id="ospf6d_2ospf6__lsa_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1269,80,1336,107"/><area shape="rect" id="node61" href="log_8h.html" title="log.h" alt="" coords="2798,229,2849,256"/><area shape="rect" id="node64" href="linklist_8h.html" title="linklist.h" alt="" coords="3145,80,3215,107"/><area shape="rect" id="node66" href="vector_8h.html" title="vector.h" alt="" coords="3125,155,3197,181"/><area shape="rect" id="node68" href="vty_8h.html" title="vty.h" alt="" coords="2849,155,2900,181"/><area shape="rect" id="node70" href="thread_8h.html" title="thread.h" alt="" coords="2888,229,2960,256"/><area shape="rect" id="node73" href="command_8h.html" title="command.h" alt="" coords="2977,80,3068,107"/><area shape="rect" id="node79" href="memory_8h.html" title="memory.h" alt="" coords="3240,80,3323,107"/><area shape="rect" id="node84" href="ospf6__proto_8h.html" title="ospf6_proto.h" alt="" coords="3347,80,3453,107"/><area shape="rect" id="node86" href="ospf6__lsa_8h.html" title="ospf6_lsa.h" alt="" coords="3477,80,3568,107"/><area shape="rect" id="node88" href="ospf6__lsdb_8h.html" title="ospf6_lsdb.h" alt="" coords="3593,80,3692,107"/><area shape="rect" id="node92" href="ospf6__message_8h.html" title="ospf6_message.h" alt="" coords="3717,80,3848,107"/><area shape="rect" id="node94" href="ospf6__top_8h.html" title="ospf6_top.h" alt="" coords="3882,155,3976,181"/><area shape="rect" id="node96" href="ospf6__area_8h.html" title="ospf6_area.h" alt="" coords="3923,80,4023,107"/><area shape="rect" id="node99" href="ospf6__interface_8h.html" title="ospf6_interface.h" alt="" coords="4047,80,4173,107"/><area shape="rect" id="node101" href="ospf6__neighbor_8h.html" title="ospf6_neighbor.h" alt="" coords="4198,80,4324,107"/><area shape="rect" id="node103" href="ospf6__flood_8h.html" title="ospf6_flood.h" alt="" coords="4349,80,4453,107"/><area shape="rect" id="node105" href="ospf6d_8h.html" title="ospf6d.h" alt="" coords="4479,80,4553,107"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="201,155,279,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="303,155,352,181"/><area shape="rect" id="node77" href="route__types_8h.html" title="lib/route_types.h" alt="" coords="2977,155,3100,181"/><area shape="rect" id="node81" href="memtypes_8h.html" title="lib/memtypes.h" alt="" coords="3224,155,3339,181"/><area shape="rect" id="node90" href="prefix_8h.html" title="prefix.h" alt="" coords="3609,155,3676,181"/></map>
</div>
</div>
<p><a href="ospf6__lsa_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a11e929bea3766df0637b90580e8865fc">MODX</a>&#160;&#160;&#160;4102</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#af8b70ab0c467e87579f866efea9abdc3">LSA_CHECKSUM_OFFSET</a>&#160;&#160;&#160;15</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a29e632a035b9d4c4b6225bb936eb8097">STRSIZE</a>&#160;&#160;&#160;256</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a97e33658789f1e358b937a893022c564">DOCSIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a990e88dbfef4eb4d9fbd1838f843da2d">ospf6_unknown_lsa_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a26b635cec93c3aecb54d331bff6afe8e">ospf6_install_lsa_handler</a> (struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a49253c3a7e0292e24c3680b65cb78784">ospf6_get_lsa_handler</a> (u_int16_t <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#aef56342b1e39d23bf9977353c1c2deb1">ospf6_lstype_name</a> (u_int16_t <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u_char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a3f5de0a17c09fd3a7283a30e408b69e9">ospf6_lstype_debug</a> (u_int16_t <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a8c6fe7fc9f6ae73a59c836550d3f26f6">ospf6_lsa_is_differ</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa1, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#aac858b8147185523641a9aa6e3122548">ospf6_lsa_is_changed</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa1, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#aff2a9b43d12a8c09c4a1b15eb5998652">ospf6_lsa_age_set</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u_int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a801d1d70da30cca2f219992a62b0f0bc">ospf6_lsa_age_update_to_send</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa, u_int32_t transdelay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#aee63bc21d208725601a588e998ad54a7">ospf6_lsa_premature_aging</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#af1665de6eac6dab108363c1bf6320c69">ospf6_lsa_compare</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *a, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a34cdba4ab38f091041b8cd3723803a64">ospf6_lsa_printbuf</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa, char *buf, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a2b62fc9a6c54cec82d621993b4c83e82">ospf6_lsa_header_print_raw</a> (struct <a class="el" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *header)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a6f102ec07a6a8c18ae5567b1fab4e845">ospf6_lsa_header_print</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#aeb6d48db7670307d45fd68a1ce987641">ospf6_lsa_show_summary_header</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a5670a31f9f83712652e5a97b88c338d2">ospf6_lsa_show_summary</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a16d934de0b5261fadc2866b4a94266a5">ospf6_lsa_show_dump</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a1aa59cacfea65952fb2bffa23abb6ee3">ospf6_lsa_show_internal</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a93c51ce5620dbf2b4d5b7568e74d1f52">ospf6_lsa_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#ab8a6a2c7b84b7e0c48eb7be6a3a0cf9c">ospf6_lsa_create</a> (struct <a class="el" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *header)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a8bf58d5701076e46ec5317268c83eea2">ospf6_lsa_create_headeronly</a> (struct <a class="el" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *header)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#ab0741562e3873b904b0a77c2071a690f">ospf6_lsa_delete</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a98dc000e578715b010159ca0c5b38a07">ospf6_lsa_copy</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a8ca45d94e6f66ee89c1b7e8f45f3f753">ospf6_lsa_lock</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#ae6a337ae60488897392e2ecaa480ea62">ospf6_lsa_unlock</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#aec0a8277db29406323e2f7508b60eebe">ospf6_lsa_expire</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a370c05db1f992a6e7f8657ad937f3a5f">ospf6_lsa_refresh</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a033e364d9b61664964b29893c5070c0d">ospf6_lsa_checksum</a> (struct <a class="el" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *<a class="el" href="structlsa__header.html">lsa_header</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#aeecfe44e25747ae40fdd7e8fe5158f34">ospf6_lsa_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#abf7b1e91e0b5924f62ec6046f2a8c335">ospf6_lsa_handler_name</a> (struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#abe93320ae27aef8638c8690ab3f95ef8">DEFUN</a> (debug_ospf6_lsa_type, debug_ospf6_lsa_hex_cmd,&quot;debug <a class="el" href="structospf6.html">ospf6</a> lsa XXXX/0xXXXX&quot;, DEBUG_STR OSPF6_STR&quot;Debug Link State Advertisements (LSAs)\n&quot;&quot;Specify LS type as Hexadecimal\n&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a816395164f9cd36d2311b92ee981c155">DEFUN</a> (no_debug_ospf6_lsa_type, no_debug_ospf6_lsa_hex_cmd,&quot;no debug <a class="el" href="structospf6.html">ospf6</a> lsa XXXX/0xXXXX&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug Link State Advertisements (LSAs)\n&quot;&quot;Specify LS type as Hexadecimal\n&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a5dc670f3a291e9f4b8b140c271c82b17">install_element_ospf6_debug_lsa</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#ab8df1330d3a72281d917f4b863afa1c9">config_write_ospf6_debug_lsa</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vector_8h.html#a7fe85bb4f5ec8665f4ef33dab2fdc2db">vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a18604f892ba8069a915985952860246a">unknown_handler</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcmd__element.html">cmd_element</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a52068e2ac7b6fadb54ffe13251b986de">debug_ospf6_lsa_type_cmd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcmd__element.html">cmd_element</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a77939e36dd7895b1ded2fd87b067a9e8">debug_ospf6_lsa_type_detail_cmd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcmd__element.html">cmd_element</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a96181a914c6f9edba1862ac6d976ada0">no_debug_ospf6_lsa_type_cmd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcmd__element.html">cmd_element</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__lsa_8c.html#a6c5701d161a579f861cd4e5a5e6c3469">no_debug_ospf6_lsa_type_detail_cmd</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a97e33658789f1e358b937a893022c564"></a><!-- doxytag: member="ospf6_lsa.c::DOCSIZE" ref="a97e33658789f1e358b937a893022c564" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DOCSIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af8b70ab0c467e87579f866efea9abdc3"></a><!-- doxytag: member="ospf6_lsa.c::LSA_CHECKSUM_OFFSET" ref="af8b70ab0c467e87579f866efea9abdc3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LSA_CHECKSUM_OFFSET&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00667">667</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>

</div>
</div>
<a class="anchor" id="a11e929bea3766df0637b90580e8865fc"></a><!-- doxytag: member="ospf6_lsa.c::MODX" ref="a11e929bea3766df0637b90580e8865fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODX&#160;&#160;&#160;4102</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00666">666</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>

</div>
</div>
<a class="anchor" id="a29e632a035b9d4c4b6225bb936eb8097"></a><!-- doxytag: member="ospf6_lsa.c::STRSIZE" ref="a29e632a035b9d4c4b6225bb936eb8097" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STRSIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ab8df1330d3a72281d917f4b863afa1c9"></a><!-- doxytag: member="ospf6_lsa.c::config_write_ospf6_debug_lsa" ref="ab8df1330d3a72281d917f4b863afa1c9" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int config_write_ospf6_debug_lsa </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00977">977</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler;

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>); i++)
    {
      handler = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>, i);
      <span class="keywordflow">if</span> (handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#a300dd196df2177326255bec844a3e3ed">OSPF6_LSA_DEBUG</a>))
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;debug ospf6 lsa %s%s&quot;</span>,
                 <a class="code" href="ospf6__lsa_8c.html#abf7b1e91e0b5924f62ec6046f2a8c335">ospf6_lsa_handler_name</a> (handler), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#acb7b160c9f708d4fe635703d6cd0b5a0">OSPF6_LSA_DEBUG_ORIGINATE</a>))
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;debug ospf6 lsa %s originate%s&quot;</span>,
                 <a class="code" href="ospf6__lsa_8c.html#abf7b1e91e0b5924f62ec6046f2a8c335">ospf6_lsa_handler_name</a> (handler), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#a8c94907931f3998ecf33bc73469a9f64">OSPF6_LSA_DEBUG_EXAMIN</a>))
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;debug ospf6 lsa %s examin%s&quot;</span>,
                 <a class="code" href="ospf6__lsa_8c.html#abf7b1e91e0b5924f62ec6046f2a8c335">ospf6_lsa_handler_name</a> (handler), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#abeaefa7754c97c4b0dd7328a68bfd8c3">OSPF6_LSA_DEBUG_FLOOD</a>))
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;debug ospf6 lsa %s flooding%s&quot;</span>,
                 <a class="code" href="ospf6__lsa_8c.html#abf7b1e91e0b5924f62ec6046f2a8c335">ospf6_lsa_handler_name</a> (handler), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abe93320ae27aef8638c8690ab3f95ef8"></a><!-- doxytag: member="ospf6_lsa.c::DEFUN" ref="abe93320ae27aef8638c8690ab3f95ef8" args="(debug_ospf6_lsa_type, debug_ospf6_lsa_hex_cmd,&quot;debug ospf6 lsa XXXX/0xXXXX&quot;, DEBUG_STR OSPF6_STR&quot;Debug Link State Advertisements (LSAs)\n&quot;&quot;Specify LS type as Hexadecimal\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">debug_ospf6_lsa_type&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">debug_ospf6_lsa_hex_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;debug <a class="el" href="structospf6.html">ospf6</a> lsa XXXX/0xXXXX&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEBUG_STR OSPF6_STR&quot;Debug Link State Advertisements (LSAs)\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Specify LS <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> as Hexadecimal\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00741">741</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="prefix_8h.html#a43e03366be2dd9176e91229d76541ce9">val</a>;
  <span class="keywordtype">char</span> *endptr = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  u_int16_t <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> = 0;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (argc);

  <span class="keywordflow">if</span> ((strlen (argv[0]) == 6 &amp;&amp; ! strncmp (argv[0], <span class="stringliteral">&quot;0x&quot;</span>, 2)) ||
      (strlen (argv[0]) == 4))
    {
      val = strtoul (argv[0], &amp;endptr, 16);
      <span class="keywordflow">if</span> (*endptr == <span class="charliteral">&#39;\0&#39;</span>)
        type = <a class="code" href="prefix_8h.html#a43e03366be2dd9176e91229d76541ce9">val</a>;
    }

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>); i++)
    {
      handler = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>, i);
      <span class="keywordflow">if</span> (handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">if</span> (type &amp;&amp; handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a15052033ac478d25500e4dccecc7194d">type</a> == type)
        <span class="keywordflow">break</span>;
      <span class="keywordflow">if</span> (! strcasecmp (argv[0], handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>))
        <span class="keywordflow">break</span>;
      handler = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }

  <span class="keywordflow">if</span> (type &amp;&amp; handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      handler = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *)
        <a class="code" href="regex_8c.html#ab7e36af3707843f77cc5b4e831c2fa6d">malloc</a> (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a>));
      memset (handler, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a>));
      handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a15052033ac478d25500e4dccecc7194d">type</a> = <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;
      handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a> = <span class="stringliteral">&quot;Unknown&quot;</span>;
      handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a98bed12539087487ad020c107d7a1cda">show</a> = <a class="code" href="ospf6__lsa_8c.html#a990e88dbfef4eb4d9fbd1838f843da2d">ospf6_unknown_lsa_show</a>;
      <a class="code" href="vector_8c.html#a4ab15201b63a93279459a6d3d90600e5">vector_set_index</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>,
                        handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a15052033ac478d25500e4dccecc7194d">type</a> &amp; <a class="code" href="ospf6__lsa_8h.html#a1f7796f681d2921cd812bc490158ade9">OSPF6_LSTYPE_FCODE_MASK</a>, handler);
    }

  <span class="keywordflow">if</span> (handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    handler = &amp;<a class="code" href="ospf6__lsa_8c.html#a18604f892ba8069a915985952860246a">unknown_handler</a>;

  <span class="keywordflow">if</span> (argc &gt;= 2)
    {
      <span class="keywordflow">if</span> (! strcmp (argv[1], <span class="stringliteral">&quot;originate&quot;</span>))
        <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#acb7b160c9f708d4fe635703d6cd0b5a0">OSPF6_LSA_DEBUG_ORIGINATE</a>);
      <span class="keywordflow">if</span> (! strcmp (argv[1], <span class="stringliteral">&quot;examin&quot;</span>))
        <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#a8c94907931f3998ecf33bc73469a9f64">OSPF6_LSA_DEBUG_EXAMIN</a>);
      <span class="keywordflow">if</span> (! strcmp (argv[1], <span class="stringliteral">&quot;flooding&quot;</span>))
        <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#abeaefa7754c97c4b0dd7328a68bfd8c3">OSPF6_LSA_DEBUG_FLOOD</a>);
    }
  <span class="keywordflow">else</span>
    <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#a300dd196df2177326255bec844a3e3ed">OSPF6_LSA_DEBUG</a>);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a816395164f9cd36d2311b92ee981c155"></a><!-- doxytag: member="ospf6_lsa.c::DEFUN" ref="a816395164f9cd36d2311b92ee981c155" args="(no_debug_ospf6_lsa_type, no_debug_ospf6_lsa_hex_cmd,&quot;no debug ospf6 lsa XXXX/0xXXXX&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug Link State Advertisements (LSAs)\n&quot;&quot;Specify LS type as Hexadecimal\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_debug_ospf6_lsa_type&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_debug_ospf6_lsa_hex_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no debug <a class="el" href="structospf6.html">ospf6</a> lsa XXXX/0xXXXX&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR DEBUG_STR OSPF6_STR&quot;Debug Link State Advertisements (LSAs)\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Specify LS <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> as Hexadecimal\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00808">808</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="prefix_8h.html#a43e03366be2dd9176e91229d76541ce9">val</a>;
  <span class="keywordtype">char</span> *endptr = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  u_int16_t <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> = 0;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (argc);

  <span class="keywordflow">if</span> ((strlen (argv[0]) == 6 &amp;&amp; ! strncmp (argv[0], <span class="stringliteral">&quot;0x&quot;</span>, 2)) ||
      (strlen (argv[0]) == 4))
    {
      val = strtoul (argv[0], &amp;endptr, 16);
      <span class="keywordflow">if</span> (*endptr == <span class="charliteral">&#39;\0&#39;</span>)
        type = <a class="code" href="prefix_8h.html#a43e03366be2dd9176e91229d76541ce9">val</a>;
    }

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>); i++)
    {
      handler = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>, i);
      <span class="keywordflow">if</span> (handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">if</span> (type &amp;&amp; handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a15052033ac478d25500e4dccecc7194d">type</a> == type)
        <span class="keywordflow">break</span>;
      <span class="keywordflow">if</span> (! strcasecmp (argv[0], handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>))
        <span class="keywordflow">break</span>;
    }

  <span class="keywordflow">if</span> (handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <span class="keywordflow">if</span> (argc &gt;= 2)
    {
      <span class="keywordflow">if</span> (! strcmp (argv[1], <span class="stringliteral">&quot;originate&quot;</span>))
        <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#acb7b160c9f708d4fe635703d6cd0b5a0">OSPF6_LSA_DEBUG_ORIGINATE</a>);
      <span class="keywordflow">if</span> (! strcmp (argv[1], <span class="stringliteral">&quot;examin&quot;</span>))
        <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#a8c94907931f3998ecf33bc73469a9f64">OSPF6_LSA_DEBUG_EXAMIN</a>);
      <span class="keywordflow">if</span> (! strcmp (argv[1], <span class="stringliteral">&quot;flooding&quot;</span>))
        <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#abeaefa7754c97c4b0dd7328a68bfd8c3">OSPF6_LSA_DEBUG_FLOOD</a>);
    }
  <span class="keywordflow">else</span>
    <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>, <a class="code" href="ospf6__lsa_8h.html#a300dd196df2177326255bec844a3e3ed">OSPF6_LSA_DEBUG</a>);

  <span class="keywordflow">if</span> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a> == 0 &amp;&amp;
      !strcmp(handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>, <span class="stringliteral">&quot;Unknown&quot;</span>) &amp;&amp; type != <a class="code" href="ospf6__lsa_8h.html#ac702d850b3ca87ee937996e5f6a931cc">OSPF6_LSTYPE_UNKNOWN</a>)
    {
      free (handler);
      <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>, i) = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5dc670f3a291e9f4b8b140c271c82b17"></a><!-- doxytag: member="ospf6_lsa.c::install_element_ospf6_debug_lsa" ref="a5dc670f3a291e9f4b8b140c271c82b17" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void install_element_ospf6_debug_lsa </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00876">876</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler;
<span class="preprocessor">#define STRSIZE  256</span>
<span class="preprocessor"></span><span class="preprocessor">#define DOCSIZE  1024</span>
<span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keywordtype">char</span> strbuf[<a class="code" href="ospf6__lsa_8c.html#a29e632a035b9d4c4b6225bb936eb8097">STRSIZE</a>];
  <span class="keyword">static</span> <span class="keywordtype">char</span> docbuf[<a class="code" href="ospf6__lsa_8c.html#a97e33658789f1e358b937a893022c564">DOCSIZE</a>];
  <span class="keyword">static</span> <span class="keywordtype">char</span> detail_strbuf[<a class="code" href="ospf6__lsa_8c.html#a29e632a035b9d4c4b6225bb936eb8097">STRSIZE</a>];
  <span class="keyword">static</span> <span class="keywordtype">char</span> detail_docbuf[<a class="code" href="ospf6__lsa_8c.html#a97e33658789f1e358b937a893022c564">DOCSIZE</a>];
  <span class="keywordtype">char</span> *<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, *no_str;
  <span class="keywordtype">char</span> *doc, *no_doc;

  strbuf[0] = <span class="charliteral">&#39;\0&#39;</span>;
  no_str = &amp;strbuf[strlen (strbuf)];
  strncat (strbuf, <span class="stringliteral">&quot;no &quot;</span>, STRSIZE - strlen (strbuf));
  str = &amp;strbuf[strlen (strbuf)];

  strncat (strbuf, <span class="stringliteral">&quot;debug ospf6 lsa (&quot;</span>, STRSIZE - strlen (strbuf));
  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>); i++)
    {
      handler = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>, i);
      <span class="keywordflow">if</span> (handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        <span class="keywordflow">continue</span>;
      strncat (strbuf, <a class="code" href="ospf6__lsa_8c.html#abf7b1e91e0b5924f62ec6046f2a8c335">ospf6_lsa_handler_name</a> (handler),
               STRSIZE - strlen (strbuf));
      strncat (strbuf, <span class="stringliteral">&quot;|&quot;</span>, STRSIZE - strlen (strbuf));
    }
  strbuf[strlen (strbuf) - 1] = <span class="charliteral">&#39;)&#39;</span>;
  strbuf[strlen (strbuf)] = <span class="charliteral">&#39;\0&#39;</span>;

  docbuf[0] = <span class="charliteral">&#39;\0&#39;</span>;
  no_doc = &amp;docbuf[strlen (docbuf)];
  strncat (docbuf, <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>, DOCSIZE - strlen (docbuf));
  doc = &amp;docbuf[strlen (docbuf)];

  strncat (docbuf, <a class="code" href="command_8h.html#aa32f22e2cc4c90e73981459688712288">DEBUG_STR</a>, DOCSIZE - strlen (docbuf));
  strncat (docbuf, <a class="code" href="command_8h.html#a46e5b0a7baf38db964a69848c26aa96a">OSPF6_STR</a>, DOCSIZE - strlen (docbuf));
  strncat (docbuf, <span class="stringliteral">&quot;Debug Link State Advertisements (LSAs)\n&quot;</span>,
           DOCSIZE - strlen (docbuf));

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>); i++)
    {
      handler = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>, i);
      <span class="keywordflow">if</span> (handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        <span class="keywordflow">continue</span>;
      strncat (docbuf, <span class="stringliteral">&quot;Debug &quot;</span>, DOCSIZE - strlen (docbuf));
      strncat (docbuf, handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>, DOCSIZE - strlen (docbuf));
      strncat (docbuf, <span class="stringliteral">&quot;-LSA\n&quot;</span>, DOCSIZE - strlen (docbuf));
    }
  docbuf[strlen (docbuf)] = <span class="charliteral">&#39;\0&#39;</span>;

  <a class="code" href="ospf6__lsa_8c.html#a52068e2ac7b6fadb54ffe13251b986de">debug_ospf6_lsa_type_cmd</a>.<a class="code" href="structcmd__element.html#a8c80d3a57bae0cb6d6f1d6f6bf2ba1a3">string</a> = <a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;
  <a class="code" href="ospf6__lsa_8c.html#a52068e2ac7b6fadb54ffe13251b986de">debug_ospf6_lsa_type_cmd</a>.<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a> = debug_ospf6_lsa_type;
  <a class="code" href="ospf6__lsa_8c.html#a52068e2ac7b6fadb54ffe13251b986de">debug_ospf6_lsa_type_cmd</a>.<a class="code" href="structcmd__element.html#a9df8375f83b1b959904bee103df60a40">doc</a> = doc;

  <a class="code" href="ospf6__lsa_8c.html#a96181a914c6f9edba1862ac6d976ada0">no_debug_ospf6_lsa_type_cmd</a>.<a class="code" href="structcmd__element.html#a8c80d3a57bae0cb6d6f1d6f6bf2ba1a3">string</a> = no_str;
  <a class="code" href="ospf6__lsa_8c.html#a96181a914c6f9edba1862ac6d976ada0">no_debug_ospf6_lsa_type_cmd</a>.<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a> = no_debug_ospf6_lsa_type;
  <a class="code" href="ospf6__lsa_8c.html#a96181a914c6f9edba1862ac6d976ada0">no_debug_ospf6_lsa_type_cmd</a>.<a class="code" href="structcmd__element.html#a9df8375f83b1b959904bee103df60a40">doc</a> = no_doc;

  strncpy (detail_strbuf, strbuf, STRSIZE);
  strncat (detail_strbuf, <span class="stringliteral">&quot; (originate|examin|flooding)&quot;</span>,
           STRSIZE - strlen (detail_strbuf));
  detail_strbuf[strlen (detail_strbuf)] = <span class="charliteral">&#39;\0&#39;</span>;
  no_str = &amp;detail_strbuf[0];
  str = &amp;detail_strbuf[strlen (<span class="stringliteral">&quot;no &quot;</span>)];

  strncpy (detail_docbuf, docbuf, DOCSIZE);
  strncat (detail_docbuf, <span class="stringliteral">&quot;Debug Originating LSA\n&quot;</span>,
           DOCSIZE - strlen (detail_docbuf));
  strncat (detail_docbuf, <span class="stringliteral">&quot;Debug Examining LSA\n&quot;</span>,
           DOCSIZE - strlen (detail_docbuf));
  strncat (detail_docbuf, <span class="stringliteral">&quot;Debug Flooding LSA\n&quot;</span>,
           DOCSIZE - strlen (detail_docbuf));
  detail_docbuf[strlen (detail_docbuf)] = <span class="charliteral">&#39;\0&#39;</span>;
  no_doc = &amp;detail_docbuf[0];
  doc = &amp;detail_docbuf[strlen (<a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>)];

  <a class="code" href="ospf6__lsa_8c.html#a77939e36dd7895b1ded2fd87b067a9e8">debug_ospf6_lsa_type_detail_cmd</a>.<a class="code" href="structcmd__element.html#a8c80d3a57bae0cb6d6f1d6f6bf2ba1a3">string</a> = <a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;
  <a class="code" href="ospf6__lsa_8c.html#a77939e36dd7895b1ded2fd87b067a9e8">debug_ospf6_lsa_type_detail_cmd</a>.<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a> = debug_ospf6_lsa_type;
  <a class="code" href="ospf6__lsa_8c.html#a77939e36dd7895b1ded2fd87b067a9e8">debug_ospf6_lsa_type_detail_cmd</a>.<a class="code" href="structcmd__element.html#a9df8375f83b1b959904bee103df60a40">doc</a> = doc;

  <a class="code" href="ospf6__lsa_8c.html#a6c5701d161a579f861cd4e5a5e6c3469">no_debug_ospf6_lsa_type_detail_cmd</a>.<a class="code" href="structcmd__element.html#a8c80d3a57bae0cb6d6f1d6f6bf2ba1a3">string</a> = no_str;
  <a class="code" href="ospf6__lsa_8c.html#a6c5701d161a579f861cd4e5a5e6c3469">no_debug_ospf6_lsa_type_detail_cmd</a>.<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a> = no_debug_ospf6_lsa_type;
  <a class="code" href="ospf6__lsa_8c.html#a6c5701d161a579f861cd4e5a5e6c3469">no_debug_ospf6_lsa_type_detail_cmd</a>.<a class="code" href="structcmd__element.html#a9df8375f83b1b959904bee103df60a40">doc</a> = no_doc;

  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;debug_ospf6_lsa_hex_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;<a class="code" href="ospf6__lsa_8c.html#a52068e2ac7b6fadb54ffe13251b986de">debug_ospf6_lsa_type_cmd</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;<a class="code" href="ospf6__lsa_8c.html#a77939e36dd7895b1ded2fd87b067a9e8">debug_ospf6_lsa_type_detail_cmd</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;no_debug_ospf6_lsa_hex_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;<a class="code" href="ospf6__lsa_8c.html#a96181a914c6f9edba1862ac6d976ada0">no_debug_ospf6_lsa_type_cmd</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;<a class="code" href="ospf6__lsa_8c.html#a6c5701d161a579f861cd4e5a5e6c3469">no_debug_ospf6_lsa_type_detail_cmd</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;debug_ospf6_lsa_hex_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;<a class="code" href="ospf6__lsa_8c.html#a52068e2ac7b6fadb54ffe13251b986de">debug_ospf6_lsa_type_cmd</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;<a class="code" href="ospf6__lsa_8c.html#a77939e36dd7895b1ded2fd87b067a9e8">debug_ospf6_lsa_type_detail_cmd</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_debug_ospf6_lsa_hex_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;<a class="code" href="ospf6__lsa_8c.html#a96181a914c6f9edba1862ac6d976ada0">no_debug_ospf6_lsa_type_cmd</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;<a class="code" href="ospf6__lsa_8c.html#a6c5701d161a579f861cd4e5a5e6c3469">no_debug_ospf6_lsa_type_detail_cmd</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a49253c3a7e0292e24c3680b65cb78784"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_get_lsa_handler" ref="a49253c3a7e0292e24c3680b65cb78784" args="(u_int16_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a>* ospf6_get_lsa_handler </td>
          <td>(</td>
          <td class="paramtype">u_int16_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00090">90</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = ntohs (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) &amp; <a class="code" href="ospf6__lsa_8h.html#a1f7796f681d2921cd812bc490158ade9">OSPF6_LSTYPE_FCODE_MASK</a>;

  <span class="keywordflow">if</span> (index &gt;= <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>))
    handler = &amp;<a class="code" href="ospf6__lsa_8c.html#a18604f892ba8069a915985952860246a">unknown_handler</a>;
  <span class="keywordflow">else</span>
    handler = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>, index);

  <span class="keywordflow">if</span> (handler == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    handler = &amp;<a class="code" href="ospf6__lsa_8c.html#a18604f892ba8069a915985952860246a">unknown_handler</a>;

  <span class="keywordflow">return</span> handler;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a26b635cec93c3aecb54d331bff6afe8e"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_install_lsa_handler" ref="a26b635cec93c3aecb54d331bff6afe8e" args="(struct ospf6_lsa_handler *handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_install_lsa_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00082">82</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* type in handler is host byte order */</span>
  <span class="keywordtype">int</span> index = handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a15052033ac478d25500e4dccecc7194d">type</a> &amp; <a class="code" href="ospf6__lsa_8h.html#a1f7796f681d2921cd812bc490158ade9">OSPF6_LSTYPE_FCODE_MASK</a>;
  <a class="code" href="vector_8c.html#a4ab15201b63a93279459a6d3d90600e5">vector_set_index</a> (<a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a>, index, handler);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9b75b4c9e8af1958f9a5d3c49f6fd872"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_age_current" ref="a9b75b4c9e8af1958f9a5d3c49f6fd872" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u_int16_t ospf6_lsa_age_current </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00196">196</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span>timeval now;
  u_int32_t ulage;
  u_int16_t age;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);

  <span class="comment">/* current time */</span>
  <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now) &lt; 0)
    <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;LSA: quagga_gettime failed, may fail LSA AGEs: %s&quot;</span>,
               <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a> (errno));

  <span class="keywordflow">if</span> (ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a>) &gt;= <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>)
    {
      <span class="comment">/* ospf6_lsa_premature_aging () sets age to MAXAGE; when using</span>
<span class="comment">         relative time, we cannot compare against lsa birth time, so</span>
<span class="comment">         we catch this special case here. */</span>
      lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a> = htons (<a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>);
      <span class="keywordflow">return</span> <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>;
    }
  <span class="comment">/* calculate age */</span>
  ulage = now.tv_sec - lsa-&gt;<a class="code" href="structospf6__lsa.html#ac5e609908130620c41247b9dbff58b1a">birth</a>.tv_sec;

  <span class="comment">/* if over MAXAGE, set to it */</span>
  age = (ulage &gt; <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a> ? <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a> : ulage);

  lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a> = htons (age);
  <span class="keywordflow">return</span> age;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aff2a9b43d12a8c09c4a1b15eb5998652"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_age_set" ref="aff2a9b43d12a8c09c4a1b15eb5998652" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_lsa_age_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00177">177</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span>timeval now;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa &amp;&amp; lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);

  <span class="keywordflow">if</span> (<a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now) &lt; 0)
    <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;LSA: quagga_gettime failed, may fail LSA AGEs: %s&quot;</span>,
               <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a> (errno));

  lsa-&gt;<a class="code" href="structospf6__lsa.html#ac5e609908130620c41247b9dbff58b1a">birth</a>.tv_sec = now.tv_sec - ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a>);
  lsa-&gt;<a class="code" href="structospf6__lsa.html#ac5e609908130620c41247b9dbff58b1a">birth</a>.tv_usec = now.tv_usec;

  <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a801d1d70da30cca2f219992a62b0f0bc"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_age_update_to_send" ref="a801d1d70da30cca2f219992a62b0f0bc" args="(struct ospf6_lsa *lsa, u_int32_t transdelay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_age_update_to_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>transdelay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00230">230</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> age;

  age = <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (lsa) + transdelay;
  <span class="keywordflow">if</span> (age &gt; <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>)
    age = <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>;
  lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a> = htons (age);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a033e364d9b61664964b29893c5070c0d"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_checksum" ref="a033e364d9b61664964b29893c5070c0d" args="(struct ospf6_lsa_header *lsa_header)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short ospf6_lsa_checksum </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *&#160;</td>
          <td class="paramname"><em>lsa_header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00670">670</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_char *sp, *ep, *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>, *q;
  <span class="keywordtype">int</span> <a class="code" href="test-checksum_8c.html#ac18b3d0edccb2b9062a09d00b0d8b83b">c0</a> = 0, <a class="code" href="test-checksum_8c.html#a8f9aca421a560153a31ebb326da34216">c1</a> = 0;
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>, <a class="code" href="spgrid_8c.html#a04ee6b20e6d3476ab1f51397993cfeef">y</a>;
  u_int16_t <a class="code" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>;

  lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a> = 0;
  length = ntohs (lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>) - 2;
  sp = (u_char *) &amp;lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>;

  for (ep = sp + length; sp &lt; ep; sp = q)
    {
      q = sp + <a class="code" href="ospf6__lsa_8c.html#a11e929bea3766df0637b90580e8865fc">MODX</a>;
      <span class="keywordflow">if</span> (q &gt; ep)
        q = ep;
      <span class="keywordflow">for</span> (p = sp; p &lt; q; p++)
        {
          c0 += *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
          <a class="code" href="test-checksum_8c.html#a8f9aca421a560153a31ebb326da34216">c1</a> += c0;
        }
      c0 %= 255;
      <a class="code" href="test-checksum_8c.html#a8f9aca421a560153a31ebb326da34216">c1</a> %= 255;
    }

  <span class="comment">/* r = (c1 &lt;&lt; 8) + c0; */</span>
  x = ((length - <a class="code" href="ospf6__lsa_8c.html#af8b70ab0c467e87579f866efea9abdc3">LSA_CHECKSUM_OFFSET</a>) * c0 - c1) % 255;
  <span class="keywordflow">if</span> (x &lt;= 0)
    x += 255;
  y = 510 - c0 - <a class="code" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>;
  <span class="keywordflow">if</span> (y &gt; 255)
    y -= 255;

  lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a> = htons ((x &lt;&lt; 8) + y);

  <span class="keywordflow">return</span> (lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af1665de6eac6dab108363c1bf6320c69"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_compare" ref="af1665de6eac6dab108363c1bf6320c69" args="(struct ospf6_lsa *a, struct ospf6_lsa *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_lsa_compare </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00257">257</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> seqnuma, seqnumb;
  u_int16_t cksuma, cksumb;
  u_int16_t agea, ageb;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (a &amp;&amp; a-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (b &amp;&amp; b-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (<a class="code" href="ospf6__lsa_8h.html#a2c54a8d048b4fa51abdc2461dc1a9102">OSPF6_LSA_IS_SAME</a> (a, b));

  seqnuma = (int) ntohl (a-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a438027b9b7303569a6bb41b2ee97d734">seqnum</a>);
  seqnumb = (int) ntohl (b-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a438027b9b7303569a6bb41b2ee97d734">seqnum</a>);

  <span class="comment">/* compare by sequence number */</span>
  <span class="keywordflow">if</span> (seqnuma &gt; seqnumb)
    <span class="keywordflow">return</span> -1;
  <span class="keywordflow">if</span> (seqnuma &lt; seqnumb)
    <span class="keywordflow">return</span> 1;

  <span class="comment">/* Checksum */</span>
  cksuma = ntohs (a-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a>);
  cksumb = ntohs (b-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a>);
  <span class="keywordflow">if</span> (cksuma &gt; cksumb)
    <span class="keywordflow">return</span> -1;
  <span class="keywordflow">if</span> (cksuma &lt; cksumb)
    <span class="keywordflow">return</span> 0;

  <span class="comment">/* Update Age */</span>
  agea = <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (a);
  ageb = <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (b);

  <span class="comment">/* MaxAge check */</span>
  <span class="keywordflow">if</span> (agea == <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a> &amp;&amp; ageb != <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>)
    <span class="keywordflow">return</span> -1;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (agea != <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a> &amp;&amp; ageb == <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>)
    <span class="keywordflow">return</span> 1;

  <span class="comment">/* Age check */</span>
  <span class="keywordflow">if</span> (agea &gt; ageb &amp;&amp; agea - ageb &gt;= <a class="code" href="ospf6__proto_8h.html#af887400b0d563a9bc5b4e9345bba8879">MAX_AGE_DIFF</a>)
    <span class="keywordflow">return</span> 1;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (agea &lt; ageb &amp;&amp; ageb - agea &gt;= <a class="code" href="ospf6__proto_8h.html#af887400b0d563a9bc5b4e9345bba8879">MAX_AGE_DIFF</a>)
    <span class="keywordflow">return</span> -1;

  <span class="comment">/* neither recent */</span>
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98dc000e578715b010159ca0c5b38a07"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_copy" ref="a98dc000e578715b010159ca0c5b38a07" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a>* ospf6_lsa_copy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00534">534</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *copy = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (lsa);
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#a8132d817aaf58410ccfdc18a20020ce1">flag</a>, <a class="code" href="ospf6__lsa_8h.html#a8f4ae507ceb6a35f49a34b1117fe97a7">OSPF6_LSA_HEADERONLY</a>))
    copy = <a class="code" href="ospf6__lsa_8c.html#a8bf58d5701076e46ec5317268c83eea2">ospf6_lsa_create_headeronly</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
  <span class="keywordflow">else</span>
    copy = <a class="code" href="ospf6__lsa_8c.html#ab8a6a2c7b84b7e0c48eb7be6a3a0cf9c">ospf6_lsa_create</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (copy-&gt;<a class="code" href="structospf6__lsa.html#ad5cc6db207dcf7791b2b17f7e3132dc5">lock</a> == 0);

  copy-&gt;<a class="code" href="structospf6__lsa.html#ac5e609908130620c41247b9dbff58b1a">birth</a> = lsa-&gt;<a class="code" href="structospf6__lsa.html#ac5e609908130620c41247b9dbff58b1a">birth</a>;
  copy-&gt;<a class="code" href="structospf6__lsa.html#ae4bd0c2c1e47978d00f41df679d8396f">originated</a> = lsa-&gt;<a class="code" href="structospf6__lsa.html#ae4bd0c2c1e47978d00f41df679d8396f">originated</a>;
  copy-&gt;<a class="code" href="structospf6__lsa.html#a2f1541392ab9f33541bae40a37573726">received</a> = lsa-&gt;<a class="code" href="structospf6__lsa.html#a2f1541392ab9f33541bae40a37573726">received</a>;
  copy-&gt;<a class="code" href="structospf6__lsa.html#a367291986f9ddaa8157505eca1a31423">installed</a> = lsa-&gt;<a class="code" href="structospf6__lsa.html#a367291986f9ddaa8157505eca1a31423">installed</a>;
  copy-&gt;<a class="code" href="structospf6__lsa.html#a95ec15977abee01addcefa9b91748bf3">lsdb</a> = lsa-&gt;<a class="code" href="structospf6__lsa.html#a95ec15977abee01addcefa9b91748bf3">lsdb</a>;

  <span class="keywordflow">return</span> copy;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab8a6a2c7b84b7e0c48eb7be6a3a0cf9c"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_create" ref="ab8a6a2c7b84b7e0c48eb7be6a3a0cf9c" args="(struct ospf6_lsa_header *header)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a>* ospf6_lsa_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00457">457</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *new_header = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  u_int16_t lsa_size = 0;

  <span class="comment">/* size of the entire LSA */</span>
  lsa_size = ntohs (header-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>);   <span class="comment">/* XXX vulnerable */</span>

  <span class="comment">/* allocate memory for this LSA */</span>
  new_header = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *)
    <a class="code" href="memory_8h.html#a6491adf46c1d769b529a8f2f7d75f2fe">XMALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba551bcc0ed38d6b35556d547d4abca9d6">MTYPE_OSPF6_LSA</a>, lsa_size);

  <span class="comment">/* copy LSA from original header */</span>
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (new_header, header, lsa_size);

  <span class="comment">/* LSA information structure */</span>
  <span class="comment">/* allocate memory */</span>
  lsa = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *)
    <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba551bcc0ed38d6b35556d547d4abca9d6">MTYPE_OSPF6_LSA</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__lsa.html">ospf6_lsa</a>));

  lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a> = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *) new_header;

  <span class="comment">/* dump string */</span>
  <a class="code" href="ospf6__lsa_8c.html#a34cdba4ab38f091041b8cd3723803a64">ospf6_lsa_printbuf</a> (lsa, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, sizeof (lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>));

  <span class="comment">/* calculate birth of this lsa */</span>
  <a class="code" href="ospf6__lsa_8c.html#aff2a9b43d12a8c09c4a1b15eb5998652">ospf6_lsa_age_set</a> (lsa);

  <span class="keywordflow">return</span> lsa;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8bf58d5701076e46ec5317268c83eea2"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_create_headeronly" ref="a8bf58d5701076e46ec5317268c83eea2" args="(struct ospf6_lsa_header *header)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a>* ospf6_lsa_create_headeronly </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00490">490</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *new_header = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* allocate memory for this LSA */</span>
  new_header = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *)
    <a class="code" href="memory_8h.html#a6491adf46c1d769b529a8f2f7d75f2fe">XMALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba551bcc0ed38d6b35556d547d4abca9d6">MTYPE_OSPF6_LSA</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a>));

  <span class="comment">/* copy LSA from original header */</span>
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (new_header, header, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a>));

  <span class="comment">/* LSA information structure */</span>
  <span class="comment">/* allocate memory */</span>
  lsa = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *)
    <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba551bcc0ed38d6b35556d547d4abca9d6">MTYPE_OSPF6_LSA</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__lsa.html">ospf6_lsa</a>));

  lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a> = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *) new_header;
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#a8132d817aaf58410ccfdc18a20020ce1">flag</a>, <a class="code" href="ospf6__lsa_8h.html#a8f4ae507ceb6a35f49a34b1117fe97a7">OSPF6_LSA_HEADERONLY</a>);

  <span class="comment">/* dump string */</span>
  <a class="code" href="ospf6__lsa_8c.html#a34cdba4ab38f091041b8cd3723803a64">ospf6_lsa_printbuf</a> (lsa, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, sizeof (lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>));

  <span class="comment">/* calculate birth of this lsa */</span>
  <a class="code" href="ospf6__lsa_8c.html#aff2a9b43d12a8c09c4a1b15eb5998652">ospf6_lsa_age_set</a> (lsa);

  <span class="keywordflow">return</span> lsa;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab0741562e3873b904b0a77c2071a690f"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_delete" ref="ab0741562e3873b904b0a77c2071a690f" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00520">520</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad5cc6db207dcf7791b2b17f7e3132dc5">lock</a> == 0);

  <span class="comment">/* cancel threads */</span>
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#a6f546aa95ed513d684623f1b65869f85">expire</a>);
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#a8ea4daae222c63b142c5072764b7233f">refresh</a>);

  <span class="comment">/* do free */</span>
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba551bcc0ed38d6b35556d547d4abca9d6">MTYPE_OSPF6_LSA</a>, lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba551bcc0ed38d6b35556d547d4abca9d6">MTYPE_OSPF6_LSA</a>, lsa);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aec0a8277db29406323e2f7508b60eebe"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_expire" ref="aec0a8277db29406323e2f7508b60eebe" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_lsa_expire </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00579">579</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;

  lsa = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa &amp;&amp; lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (<a class="code" href="ospf6__lsa_8h.html#acde3ad184b10ca14f3eef7b2ab655ce6">OSPF6_LSA_IS_MAXAGE</a> (lsa));
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (! lsa-&gt;<a class="code" href="structospf6__lsa.html#a8ea4daae222c63b142c5072764b7233f">refresh</a>);

  lsa-&gt;<a class="code" href="structospf6__lsa.html#a6f546aa95ed513d684623f1b65869f85">expire</a> = (<span class="keyword">struct </span>thread *) <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a3bf7d5a2afba1551fff365aae68acaea">IS_OSPF6_DEBUG_LSA_TYPE</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>))
    {
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;LSA Expire:&quot;</span>);
      <a class="code" href="ospf6__lsa_8c.html#a6f102ec07a6a8c18ae5567b1fab4e845">ospf6_lsa_header_print</a> (lsa);
    }

  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#a8132d817aaf58410ccfdc18a20020ce1">flag</a>, <a class="code" href="ospf6__lsa_8h.html#a8f4ae507ceb6a35f49a34b1117fe97a7">OSPF6_LSA_HEADERONLY</a>))
    <span class="keywordflow">return</span> 0;    <span class="comment">/* dbexchange will do something ... */</span>

  <span class="comment">/* reflood lsa */</span>
  <a class="code" href="ospf6__flood_8c.html#a075f0016b6d4205102b23b32b79b7da3">ospf6_flood</a> (<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, lsa);

  <span class="comment">/* reinstall lsa */</span>
  <a class="code" href="ospf6__flood_8c.html#abb7a5d2b0b4d7595d4fadbf9725ac45f">ospf6_install_lsa</a> (lsa);

  <span class="comment">/* schedule maxage remover */</span>
  <a class="code" href="ospf6__top_8c.html#a0f863937b01896d48b1756f169fb0e19">ospf6_maxage_remove</a> (<a class="code" href="structospf6.html">ospf6</a>);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abf7b1e91e0b5924f62ec6046f2a8c335"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_handler_name" ref="abf7b1e91e0b5924f62ec6046f2a8c335" args="(struct ospf6_lsa_handler *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* ospf6_lsa_handler_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00717">717</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> <span class="keywordtype">char</span> buf[64];
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>; 
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size = strlen (h-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>);

  <span class="keywordflow">if</span> (!strcmp(h-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>, <span class="stringliteral">&quot;Unknown&quot;</span>) &amp;&amp;
      h-&gt;<a class="code" href="structospf6__lsa__handler.html#a15052033ac478d25500e4dccecc7194d">type</a> != <a class="code" href="ospf6__lsa_8h.html#ac702d850b3ca87ee937996e5f6a931cc">OSPF6_LSTYPE_UNKNOWN</a>)
    {
      <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, <span class="keyword">sizeof</span> (buf), <span class="stringliteral">&quot;%#04hx&quot;</span>, h-&gt;<a class="code" href="structospf6__lsa__handler.html#a15052033ac478d25500e4dccecc7194d">type</a>);
      <span class="keywordflow">return</span> buf;
    }

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="regex_8c.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a> (size, <span class="keyword">sizeof</span> (buf)); i++)
    {
      <span class="keywordflow">if</span> (! islower (h-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>[i]))
        buf[i] = tolower (h-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>[i]);
      <span class="keywordflow">else</span>
        buf[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>] = h-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>];
    }
  buf[size] = <span class="charliteral">&#39;\0&#39;</span>;
  <span class="keywordflow">return</span> buf;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6f102ec07a6a8c18ae5567b1fab4e845"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_header_print" ref="a6f102ec07a6a8c18ae5567b1fab4e845" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_header_print </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00331">331</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (lsa);
  <a class="code" href="ospf6__lsa_8c.html#a2b62fc9a6c54cec82d621993b4c83e82">ospf6_lsa_header_print_raw</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2b62fc9a6c54cec82d621993b4c83e82"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_header_print_raw" ref="a2b62fc9a6c54cec82d621993b4c83e82" args="(struct ospf6_lsa_header *header)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_header_print_raw </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00317">317</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> <span class="keywordtype">id</span>[16], <a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>[16];
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;header-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>, <span class="keywordtype">id</span>, sizeof (<span class="keywordtype">id</span>));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;header-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>, adv_router,
             sizeof (adv_router));
  <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;    [%s Id:%s Adv:%s]&quot;</span>,
          <a class="code" href="ospf6__lsa_8c.html#aef56342b1e39d23bf9977353c1c2deb1">ospf6_lstype_name</a> (header-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>), <span class="keywordtype">id</span>, adv_router);
  <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;    Age: %4hu SeqNum: %#08lx Cksum: %04hx Len: %d&quot;</span>,
          ntohs (header-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a>), (u_long) ntohl (header-&gt;<a class="code" href="structospf6__lsa__header.html#a438027b9b7303569a6bb41b2ee97d734">seqnum</a>),
          ntohs (header-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a>), ntohs (header-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>));
}
</pre></div>
</div>
</div>
<a class="anchor" id="aeecfe44e25747ae40fdd7e8fe5158f34"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_init" ref="aeecfe44e25747ae40fdd7e8fe5158f34" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00709">709</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a> = <a class="code" href="vector_8c.html#ae6a929ac3530de06eee1df3629d15247">vector_init</a> (0);
  <a class="code" href="ospf6__lsa_8c.html#a26b635cec93c3aecb54d331bff6afe8e">ospf6_install_lsa_handler</a> (&amp;<a class="code" href="ospf6__lsa_8c.html#a18604f892ba8069a915985952860246a">unknown_handler</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aac858b8147185523641a9aa6e3122548"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_is_changed" ref="aac858b8147185523641a9aa6e3122548" args="(struct ospf6_lsa *lsa1, struct ospf6_lsa *lsa2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_lsa_is_changed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00157">157</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#acde3ad184b10ca14f3eef7b2ab655ce6">OSPF6_LSA_IS_MAXAGE</a> (lsa1) ^ <a class="code" href="ospf6__lsa_8h.html#acde3ad184b10ca14f3eef7b2ab655ce6">OSPF6_LSA_IS_MAXAGE</a> (lsa2))
    <span class="keywordflow">return</span> 1;
  <span class="keywordflow">if</span> (ntohs (lsa1-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>) != ntohs (lsa2-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>))
    <span class="keywordflow">return</span> 1;

  length = <a class="code" href="ospf6__lsa_8h.html#af20378c406bcfdfa9dde9213c2ceb684">OSPF6_LSA_SIZE</a> (lsa1-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>) - <span class="keyword">sizeof</span> (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (length &gt; 0);

  <span class="keywordflow">return</span> <a class="code" href="regex_8c.html#a98d0dff0c7366f08562d8e8583df9bb9">memcmp</a> (<a class="code" href="ospf6__lsa_8h.html#ade3057c51a01c081c6c753a03c1ffc3f">OSPF6_LSA_HEADER_END</a> (lsa1-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>),
                 <a class="code" href="ospf6__lsa_8h.html#ade3057c51a01c081c6c753a03c1ffc3f">OSPF6_LSA_HEADER_END</a> (lsa2-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>), length);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8c6fe7fc9f6ae73a59c836550d3f26f6"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_is_differ" ref="a8c6fe7fc9f6ae73a59c836550d3f26f6" args="(struct ospf6_lsa *lsa1, struct ospf6_lsa *lsa2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_lsa_is_differ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00130">130</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> len;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (<a class="code" href="ospf6__lsa_8h.html#a2c54a8d048b4fa51abdc2461dc1a9102">OSPF6_LSA_IS_SAME</a> (lsa1, lsa2));

  <span class="comment">/* XXX, Options ??? */</span>

  <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (lsa1);
  <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (lsa2);
  <span class="keywordflow">if</span> (ntohs (lsa1-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a>) == <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a> &amp;&amp;
      ntohs (lsa2-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a>) != <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>)
    <span class="keywordflow">return</span> 1;
  <span class="keywordflow">if</span> (ntohs (lsa1-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a>) != <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a> &amp;&amp;
      ntohs (lsa2-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a>) == <a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>)
    <span class="keywordflow">return</span> 1;

  <span class="comment">/* compare body */</span>
  <span class="keywordflow">if</span> (ntohs (lsa1-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>) != ntohs (lsa2-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>))
    <span class="keywordflow">return</span> 1;

  len = ntohs (lsa1-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>) - <span class="keyword">sizeof</span> (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a>);
  <span class="keywordflow">return</span> <a class="code" href="regex_8c.html#a98d0dff0c7366f08562d8e8583df9bb9">memcmp</a> (lsa1-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a> + 1, lsa2-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a> + 1, len);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8ca45d94e6f66ee89c1b7e8f45f3f753"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_lock" ref="a8ca45d94e6f66ee89c1b7e8f45f3f753" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00556">556</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  lsa-&gt;<a class="code" href="structospf6__lsa.html#ad5cc6db207dcf7791b2b17f7e3132dc5">lock</a>++;
  <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aee63bc21d208725601a588e998ad54a7"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_premature_aging" ref="aee63bc21d208725601a588e998ad54a7" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_premature_aging </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00241">241</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* log */</span>
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a3bf7d5a2afba1551fff365aae68acaea">IS_OSPF6_DEBUG_LSA_TYPE</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;LSA: Premature aging: %s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>);

  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#a6f546aa95ed513d684623f1b65869f85">expire</a>);
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#a8ea4daae222c63b142c5072764b7233f">refresh</a>);

  lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a> = htons (<a class="code" href="ospf6__proto_8h.html#a7d8ba9ac46dd686ffb8bd269f903b589">MAXAGE</a>);
  <a class="code" href="thread_8h.html#adfc9185c89375a240b90ab50241c497d">thread_execute</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__lsa_8c.html#aec0a8277db29406323e2f7508b60eebe">ospf6_lsa_expire</a>, lsa, 0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a34cdba4ab38f091041b8cd3723803a64"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_printbuf" ref="a34cdba4ab38f091041b8cd3723803a64" args="(struct ospf6_lsa *lsa, char *buf, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ospf6_lsa_printbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00305">305</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> <span class="keywordtype">id</span>[16], <a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>[16];
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>, <span class="keywordtype">id</span>, sizeof (<span class="keywordtype">id</span>));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>, adv_router,
             sizeof (adv_router));
  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, size, <span class="stringliteral">&quot;[%s Id:%s Adv:%s]&quot;</span>,
            <a class="code" href="ospf6__lsa_8c.html#aef56342b1e39d23bf9977353c1c2deb1">ospf6_lstype_name</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>), <span class="keywordtype">id</span>, adv_router);
  <span class="keywordflow">return</span> buf;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a370c05db1f992a6e7f8657ad937f3a5f"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_refresh" ref="a370c05db1f992a6e7f8657ad937f3a5f" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_lsa_refresh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00613">613</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *old, *<span class="keyword">self</span>, *<span class="keyword">new</span>;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsdb.html">ospf6_lsdb</a> *lsdb_self;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (thread);
  old = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (old &amp;&amp; old-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);

  old-&gt;<a class="code" href="structospf6__lsa.html#a8ea4daae222c63b142c5072764b7233f">refresh</a> = (<span class="keyword">struct </span>thread *) <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  lsdb_self = <a class="code" href="ospf6__flood_8c.html#a622d03fd6aa40466ef3d3551b118843e">ospf6_get_scoped_lsdb_self</a> (old);
  <span class="keyword">self</span> = <a class="code" href="ospf6__lsdb_8c.html#aa49ea0d4a8edbec90f266bf3a541a421">ospf6_lsdb_lookup</a> (old-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>, old-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>,
                            old-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>, lsdb_self);
  <span class="keywordflow">if</span> (<span class="keyword">self</span> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a3bf7d5a2afba1551fff365aae68acaea">IS_OSPF6_DEBUG_LSA_TYPE</a> (old-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Refresh: could not find self LSA, flush %s&quot;</span>, old-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>);
      <a class="code" href="ospf6__lsa_8c.html#aee63bc21d208725601a588e998ad54a7">ospf6_lsa_premature_aging</a> (old);
      <span class="keywordflow">return</span> 0;
    }

  <span class="comment">/* Reset age, increment LS sequence number. */</span>
  <span class="keyword">self</span>-&gt;header-&gt;age = htons (0);
  <span class="keyword">self</span>-&gt;header-&gt;seqnum =
    <a class="code" href="ospf6__lsdb_8c.html#ad286ac62b7fc40113b536203ecd9499d">ospf6_new_ls_seqnum</a> (self-&gt;header-&gt;type, self-&gt;header-&gt;id,
                         self-&gt;header-&gt;adv_router, old-&gt;<a class="code" href="structospf6__lsa.html#a95ec15977abee01addcefa9b91748bf3">lsdb</a>);
  <a class="code" href="ospf6__lsa_8c.html#a033e364d9b61664964b29893c5070c0d">ospf6_lsa_checksum</a> (self-&gt;header);

  <span class="keyword">new</span> = <a class="code" href="ospf6__lsa_8c.html#ab8a6a2c7b84b7e0c48eb7be6a3a0cf9c">ospf6_lsa_create</a> (self-&gt;header);
  <span class="keyword">new</span>-&gt;lsdb = old-&gt;<a class="code" href="structospf6__lsa.html#a95ec15977abee01addcefa9b91748bf3">lsdb</a>;
  <span class="keyword">new</span>-&gt;refresh = <a class="code" href="thread_8h.html#aca77b3bbd166d3573de5ecd9756a590c">thread_add_timer</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__lsa_8c.html#a370c05db1f992a6e7f8657ad937f3a5f">ospf6_lsa_refresh</a>, <span class="keyword">new</span>,
                                   <a class="code" href="ospf6__proto_8h.html#ab08ddbd72ec04be1ff6959a492fc3795">LS_REFRESH_TIME</a>);

  <span class="comment">/* store it in the LSDB for self-originated LSAs */</span>
  <a class="code" href="ospf6__lsdb_8c.html#a0b328a0b2493e0e549d003f50003a199">ospf6_lsdb_add</a> (<a class="code" href="ospf6__lsa_8c.html#a98dc000e578715b010159ca0c5b38a07">ospf6_lsa_copy</a> (<span class="keyword">new</span>), lsdb_self);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a3bf7d5a2afba1551fff365aae68acaea">IS_OSPF6_DEBUG_LSA_TYPE</a> (new-&gt;header-&gt;type))
    {
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;LSA Refresh:&quot;</span>);
      <a class="code" href="ospf6__lsa_8c.html#a6f102ec07a6a8c18ae5567b1fab4e845">ospf6_lsa_header_print</a> (<span class="keyword">new</span>);
    }

  <a class="code" href="ospf6__flood_8c.html#adbe9dd92c0ae6afb40021b33ce7d7894">ospf6_flood_clear</a> (old);
  <a class="code" href="ospf6__flood_8c.html#a075f0016b6d4205102b23b32b79b7da3">ospf6_flood</a> (<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">new</span>);
  <a class="code" href="ospf6__flood_8c.html#abb7a5d2b0b4d7595d4fadbf9725ac45f">ospf6_install_lsa</a> (<span class="keyword">new</span>);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a93c51ce5620dbf2b4d5b7568e74d1f52"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_show" ref="a93c51ce5620dbf2b4d5b7568e74d1f52" args="(struct vty *vty, struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00426">426</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> <a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>[64], <span class="keywordtype">id</span>[64];
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa &amp;&amp; lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);

  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>, <span class="keywordtype">id</span>, sizeof (<span class="keywordtype">id</span>));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>,
             adv_router, sizeof (adv_router));

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Age: %4hu Type: %s%s&quot;</span>, <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (lsa),
           <a class="code" href="ospf6__lsa_8c.html#aef56342b1e39d23bf9977353c1c2deb1">ospf6_lstype_name</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Link State ID: %s%s&quot;</span>, <span class="keywordtype">id</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Advertising Router: %s%s&quot;</span>, adv_router, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;LS Sequence Number: %#010lx%s&quot;</span>,
           (u_long) ntohl (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a438027b9b7303569a6bb41b2ee97d734">seqnum</a>), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;CheckSum: %#06hx Length: %hu%s&quot;</span>,
           ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a>),
           ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  handler = <a class="code" href="ospf6__lsa_8c.html#a49253c3a7e0292e24c3680b65cb78784">ospf6_get_lsa_handler</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>);
  <span class="keywordflow">if</span> (handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a98bed12539087487ad020c107d7a1cda">show</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    handler = &amp;<a class="code" href="ospf6__lsa_8c.html#a18604f892ba8069a915985952860246a">unknown_handler</a>;
  (*handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a98bed12539087487ad020c107d7a1cda">show</a>) (vty, lsa);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a16d934de0b5261fadc2866b4a94266a5"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_show_dump" ref="a16d934de0b5261fadc2866b4a94266a5" args="(struct vty *vty, struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_show_dump </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00372">372</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_char *start, *end, *current;
  <span class="keywordtype">char</span> byte[4];

  start = (u_char *) lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>;
  end = (u_char *) lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a> + ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s:%s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="keywordflow">for</span> (current = start; current &lt; end; current ++)
    {
      <span class="keywordflow">if</span> ((current - start) % 16 == 0)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s        &quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((current - start) % 4 == 0)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; &quot;</span>);

      <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (byte, <span class="keyword">sizeof</span> (byte), <span class="stringliteral">&quot;%02x&quot;</span>, *current);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, byte);
    }

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1aa59cacfea65952fb2bffa23abb6ee3"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_show_internal" ref="a1aa59cacfea65952fb2bffa23abb6ee3" args="(struct vty *vty, struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_show_internal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00399">399</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> <a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>[64], <span class="keywordtype">id</span>[64];

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa &amp;&amp; lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);

  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>, <span class="keywordtype">id</span>, sizeof (<span class="keywordtype">id</span>));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>,
             adv_router, sizeof (adv_router));

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Age: %4hu Type: %s%s&quot;</span>, <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (lsa),
           <a class="code" href="ospf6__lsa_8c.html#aef56342b1e39d23bf9977353c1c2deb1">ospf6_lstype_name</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Link State ID: %s%s&quot;</span>, <span class="keywordtype">id</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Advertising Router: %s%s&quot;</span>, adv_router, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;LS Sequence Number: %#010lx%s&quot;</span>,
           (u_long) ntohl (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a438027b9b7303569a6bb41b2ee97d734">seqnum</a>), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;CheckSum: %#06hx Length: %hu%s&quot;</span>,
           ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a>),
           ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Prev: %p This: %p Next: %p%s&quot;</span>,
           lsa-&gt;<a class="code" href="structospf6__lsa.html#a0004e0511f7b539ba52f9b059fae6510">prev</a>, lsa, lsa-&gt;<a class="code" href="structospf6__lsa.html#aede2585aa30fdb62855c10829fba600b">next</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5670a31f9f83712652e5a97b88c338d2"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_show_summary" ref="a5670a31f9f83712652e5a97b88c338d2" args="(struct vty *vty, struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_show_summary </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00346">346</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> <a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>[16], <span class="keywordtype">id</span>[16];
  <span class="keyword">struct </span>timeval now, res;
  <span class="keywordtype">char</span> duration[16];

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);

  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>, <span class="keywordtype">id</span>, sizeof (<span class="keywordtype">id</span>));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>, adv_router,
             sizeof (adv_router));

  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now);
  <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;now, &amp;lsa-&gt;<a class="code" href="structospf6__lsa.html#a367291986f9ddaa8157505eca1a31423">installed</a>, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-12s %-15s %-15s %4hu %8lx %04hx %4hu %8s%s&quot;</span>,
           <a class="code" href="ospf6__lsa_8c.html#aef56342b1e39d23bf9977353c1c2deb1">ospf6_lstype_name</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>),
           <span class="keywordtype">id</span>, adv_router, <a class="code" href="ospf6__lsa_8c.html#a9b75b4c9e8af1958f9a5d3c49f6fd872">ospf6_lsa_age_current</a> (lsa),
           (u_long) ntohl (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a438027b9b7303569a6bb41b2ee97d734">seqnum</a>),
           ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a08277c4580d5ac978c263391401cd455">checksum</a>), ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>),
           duration, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aeb6d48db7670307d45fd68a1ce987641"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_show_summary_header" ref="aeb6d48db7670307d45fd68a1ce987641" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_show_summary_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00338">338</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-12s %-15s %-15s %4s %8s %4s %4s %-8s%s&quot;</span>,
           <span class="stringliteral">&quot;Type&quot;</span>, <span class="stringliteral">&quot;LSId&quot;</span>, <span class="stringliteral">&quot;AdvRouter&quot;</span>, <span class="stringliteral">&quot;Age&quot;</span>, <span class="stringliteral">&quot;SeqNum&quot;</span>,
           <span class="stringliteral">&quot;Cksm&quot;</span>, <span class="stringliteral">&quot;Len&quot;</span>, <span class="stringliteral">&quot;Duration&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae6a337ae60488897392e2ecaa480ea62"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_unlock" ref="ae6a337ae60488897392e2ecaa480ea62" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_lsa_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00564">564</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* decrement reference counter */</span>
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad5cc6db207dcf7791b2b17f7e3132dc5">lock</a> &gt; 0);
  lsa-&gt;<a class="code" href="structospf6__lsa.html#ad5cc6db207dcf7791b2b17f7e3132dc5">lock</a>--;

  <span class="keywordflow">if</span> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad5cc6db207dcf7791b2b17f7e3132dc5">lock</a> != 0)
    <span class="keywordflow">return</span>;

  <a class="code" href="ospf6__lsa_8c.html#ab0741562e3873b904b0a77c2071a690f">ospf6_lsa_delete</a> (lsa);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3f5de0a17c09fd3a7283a30e408b69e9"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lstype_debug" ref="a3f5de0a17c09fd3a7283a30e408b69e9" args="(u_int16_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u_char ospf6_lstype_debug </td>
          <td>(</td>
          <td class="paramtype">u_int16_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00121">121</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler;
  handler = <a class="code" href="ospf6__lsa_8c.html#a49253c3a7e0292e24c3680b65cb78784">ospf6_get_lsa_handler</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);
  <span class="keywordflow">return</span> handler-&gt;<a class="code" href="structospf6__lsa__handler.html#aea19a88278fb5905edc4ea260ac14481">debug</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aef56342b1e39d23bf9977353c1c2deb1"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lstype_name" ref="aef56342b1e39d23bf9977353c1c2deb1" args="(u_int16_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ospf6_lstype_name </td>
          <td>(</td>
          <td class="paramtype">u_int16_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00107">107</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> <span class="keywordtype">char</span> buf[8];
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> *handler;

  handler = <a class="code" href="ospf6__lsa_8c.html#a49253c3a7e0292e24c3680b65cb78784">ospf6_get_lsa_handler</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);
  <span class="keywordflow">if</span> (handler &amp;&amp; handler != &amp;<a class="code" href="ospf6__lsa_8c.html#a18604f892ba8069a915985952860246a">unknown_handler</a>)
    <span class="keywordflow">return</span> handler-&gt;<a class="code" href="structospf6__lsa__handler.html#a153e10cfb2253e4ad5013419f00482ed">name</a>;

  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, <span class="keyword">sizeof</span> (buf), <span class="stringliteral">&quot;0x%04hx&quot;</span>, ntohs (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));
  <span class="keywordflow">return</span> buf;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a990e88dbfef4eb4d9fbd1838f843da2d"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_unknown_lsa_show" ref="a990e88dbfef4eb4d9fbd1838f843da2d" args="(struct vty *vty, struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_unknown_lsa_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00049">49</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_char *start, *end, *current;
  <span class="keywordtype">char</span> byte[4];

  start = (u_char *) lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a> + sizeof (<span class="keyword">struct</span> <a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a>);
  end = (u_char *) lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a> + ntohs (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;        Unknown contents:%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (current = start; current &lt; end; current ++)
    {
      <span class="keywordflow">if</span> ((current - start) % 16 == 0)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s        &quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((current - start) % 4 == 0)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; &quot;</span>);

      <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (byte, <span class="keyword">sizeof</span> (byte), <span class="stringliteral">&quot;%02x&quot;</span>, *current);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, byte);
    }

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a52068e2ac7b6fadb54ffe13251b986de"></a><!-- doxytag: member="ospf6_lsa.c::debug_ospf6_lsa_type_cmd" ref="a52068e2ac7b6fadb54ffe13251b986de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcmd__element.html">cmd_element</a> <a class="el" href="ospf6__lsa_8c.html#a52068e2ac7b6fadb54ffe13251b986de">debug_ospf6_lsa_type_cmd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00870">870</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>

</div>
</div>
<a class="anchor" id="a77939e36dd7895b1ded2fd87b067a9e8"></a><!-- doxytag: member="ospf6_lsa.c::debug_ospf6_lsa_type_detail_cmd" ref="a77939e36dd7895b1ded2fd87b067a9e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcmd__element.html">cmd_element</a> <a class="el" href="ospf6__lsa_8c.html#a77939e36dd7895b1ded2fd87b067a9e8">debug_ospf6_lsa_type_detail_cmd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00871">871</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>

</div>
</div>
<a class="anchor" id="a96181a914c6f9edba1862ac6d976ada0"></a><!-- doxytag: member="ospf6_lsa.c::no_debug_ospf6_lsa_type_cmd" ref="a96181a914c6f9edba1862ac6d976ada0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcmd__element.html">cmd_element</a> <a class="el" href="ospf6__lsa_8c.html#a96181a914c6f9edba1862ac6d976ada0">no_debug_ospf6_lsa_type_cmd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00872">872</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6c5701d161a579f861cd4e5a5e6c3469"></a><!-- doxytag: member="ospf6_lsa.c::no_debug_ospf6_lsa_type_detail_cmd" ref="a6c5701d161a579f861cd4e5a5e6c3469" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcmd__element.html">cmd_element</a> <a class="el" href="ospf6__lsa_8c.html#a6c5701d161a579f861cd4e5a5e6c3469">no_debug_ospf6_lsa_type_detail_cmd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00873">873</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3d653e61b78850618eac3954c67154e9"></a><!-- doxytag: member="ospf6_lsa.c::ospf6_lsa_handler_vector" ref="a3d653e61b78850618eac3954c67154e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vector_8h.html#a7fe85bb4f5ec8665f4ef33dab2fdc2db">vector</a> <a class="el" href="ospf6__lsa_8c.html#a3d653e61b78850618eac3954c67154e9">ospf6_lsa_handler_vector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00046">46</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>

</div>
</div>
<a class="anchor" id="a18604f892ba8069a915985952860246a"></a><!-- doxytag: member="ospf6_lsa.c::unknown_handler" ref="a18604f892ba8069a915985952860246a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> <a class="el" href="ospf6__lsa_8h.html#a18604f892ba8069a915985952860246a">unknown_handler</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <a class="code" href="ospf6__lsa_8h.html#ac702d850b3ca87ee937996e5f6a931cc">OSPF6_LSTYPE_UNKNOWN</a>,
  <span class="stringliteral">&quot;Unknown&quot;</span>,
  <a class="code" href="ospf6__lsa_8c.html#a990e88dbfef4eb4d9fbd1838f843da2d">ospf6_unknown_lsa_show</a>,
  <a class="code" href="ospf6__lsa_8h.html#a300dd196df2177326255bec844a3e3ed">OSPF6_LSA_DEBUG</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="ospf6__lsa_8c_source.html#l00073">73</a> of file <a class="el" href="ospf6__lsa_8c_source.html">ospf6_lsa.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ospf6__lsa_8c.html">ospf6_lsa.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:26 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
