<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: vtysh/vtysh_main.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('vtysh__main_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">vtysh/vtysh_main.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &lt;sys/un.h&gt;</code><br/>
<code>#include &lt;setjmp.h&gt;</code><br/>
<code>#include &lt;sys/wait.h&gt;</code><br/>
<code>#include &lt;pwd.h&gt;</code><br/>
<code>#include &lt;readline/readline.h&gt;</code><br/>
<code>#include &lt;readline/history.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="version_8h_source.html">lib/version.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="getopt_8h_source.html">getopt.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vtysh_8h_source.html">vtysh/vtysh.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vtysh__user_8h_source.html">vtysh/vtysh_user.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vtysh_main.c:</div>
<div class="dyncontent">
<div class="center"><img src="vtysh__main_8c__incl.png" border="0" usemap="#vtysh_2vtysh__main_8c" alt=""/></div>
<map name="vtysh_2vtysh__main_8c" id="vtysh_2vtysh__main_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1344,80,1411,107"/><area shape="rect" id="node72" href="version_8h.html" title="lib/version.h" alt="" coords="2611,80,2705,107"/><area shape="rect" id="node74" href="getopt_8h.html" title="getopt.h" alt="" coords="2731,80,2805,107"/><area shape="rect" id="node76" href="command_8h.html" title="command.h" alt="" coords="2830,80,2921,107"/><area shape="rect" id="node89" href="memory_8h.html" title="memory.h" alt="" coords="2947,80,3029,107"/><area shape="rect" id="node93" href="vtysh_8h.html" title="vtysh/vtysh.h" alt="" coords="3054,80,3156,107"/><area shape="rect" id="node95" href="vtysh__user_8h.html" title="vtysh/vtysh_user.h" alt="" coords="3181,80,3315,107"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="2621,155,2699,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="2723,155,2772,181"/><area shape="rect" id="node78" href="vector_8h.html" title="vector.h" alt="" coords="2797,155,2869,181"/><area shape="rect" id="node80" href="vty_8h.html" title="vty.h" alt="" coords="2894,155,2945,181"/><area shape="rect" id="node87" href="route__types_8h.html" title="lib/route_types.h" alt="" coords="2970,155,3093,181"/><area shape="rect" id="node82" href="thread_8h.html" title="thread.h" alt="" coords="2797,229,2869,256"/><area shape="rect" id="node84" href="log_8h.html" title="log.h" alt="" coords="2894,229,2945,256"/><area shape="rect" id="node91" href="memtypes_8h.html" title="lib/memtypes.h" alt="" coords="3119,155,3233,181"/></map>
</div>
</div>
<p><a href="vtysh__main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#aa8076b269f73f9c3afbad2fe03b3f4a9">sigtstp</a> (int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a663893ef10734c0143cbf812c55fcafd">sigint</a> (int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">RETSIGTYPE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a86eb0c1b4c661ce87ea39fa4e8343486">vtysh_signal_set</a> (int signo, void(*<a class="el" href="ospf__nsm_8c.html#a03307f8a561731a5c5657834da57ab11">func</a>)(int))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#ab9ede124019ff7057a35ed07dda4993f">vtysh_signal_init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a3c83d9a6df948871c9355ef7f15738a5">usage</a> (int status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a85dc1bffc3807d2a646a7fbeb35dba59">vtysh_rl_gets</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a3731d7917aab492a1960ade1915e3b31">log_it</a> (const char *line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a7b26396c9888d66d997b0007e8ff1e60">main</a> (int argc, char **argv, char **env)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#aee27bf99050b66912b35ae16e5b06c81">config_default</a> [] = SYSCONFDIR VTYSH_DEFAULT_CONFIG</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a6c4cf2e38eb490f495ff41409288623f">history_file</a> [MAXPATHLEN]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a489f9ad15bf09e3b6cbe24098f4bef89">execute_flag</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static sigjmp_buf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#ae378337376b79dab0e02b5a0a6cb911b">jmpbuf</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a0508f2c9157e9c8c80947c9c83a1da0d">jmpflag</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structthread__master.html">thread_master</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structoption.html">option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vtysh__main_8c.html#a94965649155359a4c4eb047af782bf22">longopts</a> []</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3731d7917aab492a1960ade1915e3b31"></a><!-- doxytag: member="vtysh_main.c::log_it" ref="a3731d7917aab492a1960ade1915e3b31" args="(const char *line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void log_it </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00201">201</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  time_t <a class="code" href="test-sig_8c.html#ab4ed0bba3292270af8ad67b45a21280d">t</a> = time(<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <span class="keyword">struct </span>tm *tmp = localtime(&amp;t);
  <span class="keywordtype">char</span> *user = <a class="code" href="getopt_8c.html#aee28fd8a0e40b6d958f7d20348e45368">getenv</a>(<span class="stringliteral">&quot;USER&quot;</span>) ? : <span class="stringliteral">&quot;boot&quot;</span>;
  <span class="keywordtype">char</span> tod[64];

  strftime(tod, <span class="keyword">sizeof</span> tod, <span class="stringliteral">&quot;%Y%m%d-%H:%M.%S&quot;</span>, tmp);
  
  fprintf(<a class="code" href="vtysh__main_8c.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>, <span class="stringliteral">&quot;%s:%s %s\n&quot;</span>, tod, user, line);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7b26396c9888d66d997b0007e8ff1e60"></a><!-- doxytag: member="vtysh_main.c::main" ref="a7b26396c9888d66d997b0007e8ff1e60" args="(int argc, char **argv, char **env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>env</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00215">215</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
  <span class="keywordtype">int</span> opt;
  <span class="keywordtype">int</span> dryrun = 0;
  <span class="keywordtype">int</span> boot_flag = 0;
  <span class="keyword">const</span> <span class="keywordtype">char</span> *daemon_name = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span>cmd_rec {
    <span class="keyword">const</span> <span class="keywordtype">char</span> *line;
    <span class="keyword">struct </span>cmd_rec *next;
  } *cmd = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span>cmd_rec *tail = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">int</span> echo_command = 0;
  <span class="keywordtype">int</span> no_error = 0;

  <span class="comment">/* Preserve name of myself. */</span>
  <a class="code" href="isis__main_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a> = ((p = strrchr (argv[0], <span class="charliteral">&#39;/&#39;</span>)) ? ++p : argv[0]);

  <span class="comment">/* if logging open now */</span>
  <span class="keywordflow">if</span> ((p = <a class="code" href="getopt_8c.html#aee28fd8a0e40b6d958f7d20348e45368">getenv</a>(<span class="stringliteral">&quot;VTYSH_LOG&quot;</span>)) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      <a class="code" href="vtysh__main_8c.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a> = fopen(p, <span class="stringliteral">&quot;a&quot;</span>);

  <span class="comment">/* Option handling. */</span>
  <span class="keywordflow">while</span> (1) 
    {
      opt = <a class="code" href="getopt_8h.html#a8616b8a74ae6c01a7ad95ad2876226ec">getopt_long</a> (argc, argv, <span class="stringliteral">&quot;be:c:d:nEhC&quot;</span>, <a class="code" href="bgp__main_8c.html#a94965649155359a4c4eb047af782bf22">longopts</a>, 0);
    
      <span class="keywordflow">if</span> (opt == EOF)
    <span class="keywordflow">break</span>;

      <span class="keywordflow">switch</span> (opt) 
    {
    <span class="keywordflow">case</span> 0:
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:
      boot_flag = 1;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:
    <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:
      {
        <span class="keyword">struct </span>cmd_rec *cr;
        cr = <a class="code" href="memory_8h.html#a6491adf46c1d769b529a8f2f7d75f2fe">XMALLOC</a>(0, <span class="keyword">sizeof</span>(*cr));
        cr-&gt;line = <a class="code" href="getopt_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>;
        cr-&gt;next = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
        <span class="keywordflow">if</span> (tail)
          tail-&gt;next = cr;
        <span class="keywordflow">else</span>
          cmd = cr;
        tail = cr;
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:
      daemon_name = <a class="code" href="getopt_8c.html#adb50a0eab9fed92fc3bfc7dfa4f2c410">optarg</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:
      no_error = 1;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>:
      echo_command = 1;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:
      dryrun = 1;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:
      <a class="code" href="bgp__main_8c.html#ab24f62159230cf265fc4d7ddc4c91872">usage</a> (0);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">default</span>:
      <a class="code" href="bgp__main_8c.html#ab24f62159230cf265fc4d7ddc4c91872">usage</a> (1);
      <span class="keywordflow">break</span>;
    }
    }

  <span class="comment">/* Initialize user input buffer. */</span>
  <a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  setlinebuf(stdout);

  <span class="comment">/* Signal and others. */</span>
  <a class="code" href="vtysh__main_8c.html#ab9ede124019ff7057a35ed07dda4993f">vtysh_signal_init</a> ();

  <span class="comment">/* Make vty structure and register commands. */</span>
  <a class="code" href="vtysh_8h.html#a24b0388fb74fc2f16f7741afdb3c70a2">vtysh_init_vty</a> ();
  <a class="code" href="vtysh_8h.html#a0edba4133ae8c59b950340974a8b8bf0">vtysh_init_cmd</a> ();
  <a class="code" href="vtysh_8h.html#ad4f1de0f91a294ba4893d7ec86b2a463">vtysh_user_init</a> ();
  <a class="code" href="vtysh_8h.html#a9631a6eb9cd24f7e0341155f55a7e109">vtysh_config_init</a> ();

  <a class="code" href="vty_8c.html#a29fb84300cd3b9daac807011dba67651">vty_init_vtysh</a> ();

  <a class="code" href="command_8c.html#a1096cf2835e7d5fa8407898fd3bd317d">sort_node</a> ();

  <span class="comment">/* Read vtysh configuration file before connecting to daemons. */</span>
  <a class="code" href="vtysh_8h.html#ab366803e1dbe7fd299b27b1a700608db">vtysh_read_config</a> (<a class="code" href="bgp__main_8c.html#aee27bf99050b66912b35ae16e5b06c81">config_default</a>);

  <span class="comment">/* Start execution only if not in dry-run mode */</span>
  <span class="keywordflow">if</span>(dryrun)
    <span class="keywordflow">return</span>(0);
  
  <span class="comment">/* Ignore error messages */</span>
  <span class="keywordflow">if</span> (no_error)
    freopen(<span class="stringliteral">&quot;/dev/null&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>, stdout);

  <span class="comment">/* Make sure we pass authentication before proceeding. */</span>
  <a class="code" href="vtysh__user_8c.html#af5f31df93e62c3c1d81ffd50ed20ee99">vtysh_auth</a> ();

  <span class="comment">/* Do not connect until we have passed authentication. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="vtysh_8h.html#ad0816e38098067bb34c7531b0d9002da">vtysh_connect_all</a> (daemon_name) &lt;= 0)
    {
      fprintf(stderr, <span class="stringliteral">&quot;Exiting: failed to connect to any daemons.\n&quot;</span>);
      <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>(1);
    }

  <span class="comment">/* If eval mode. */</span>
  <span class="keywordflow">if</span> (cmd)
    {
      <span class="comment">/* Enter into enable node. */</span>
      <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<span class="stringliteral">&quot;enable&quot;</span>);

      <span class="keywordflow">while</span> (cmd != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        {
      <span class="keywordtype">int</span> ret;
      <span class="keywordtype">char</span> *eol;

      <span class="keywordflow">while</span> ((eol = strchr(cmd-&gt;line, <span class="charliteral">&#39;\n&#39;</span>)) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        {
          *eol = <span class="charliteral">&#39;\0&#39;</span>;

          <span class="keywordflow">if</span> (echo_command)
        printf(<span class="stringliteral">&quot;%s%s\n&quot;</span>, <a class="code" href="vtysh_8h.html#a37f52f3b9bfc70529d876b874efda20b">vtysh_prompt</a>(), cmd-&gt;line);
          
          <span class="keywordflow">if</span> (<a class="code" href="vtysh__main_8c.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>)
        <a class="code" href="vtysh__main_8c.html#a3731d7917aab492a1960ade1915e3b31">log_it</a>(cmd-&gt;line);

          ret = <a class="code" href="vtysh_8c.html#af04c7a1095e117c5c064f96269a5f3e5">vtysh_execute_no_pager</a>(cmd-&gt;line);
          <span class="keywordflow">if</span> (!no_error &amp;&amp;
          ! (ret == <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a> ||
             ret == <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a> ||
             ret == <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>))
        <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>(1);

          cmd-&gt;line = eol+1;
        }

      <span class="keywordflow">if</span> (echo_command)
        printf(<span class="stringliteral">&quot;%s%s\n&quot;</span>, <a class="code" href="vtysh_8h.html#a37f52f3b9bfc70529d876b874efda20b">vtysh_prompt</a>(), cmd-&gt;line);

      <span class="keywordflow">if</span> (<a class="code" href="vtysh__main_8c.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a>)
        <a class="code" href="vtysh__main_8c.html#a3731d7917aab492a1960ade1915e3b31">log_it</a>(cmd-&gt;line);

      ret = <a class="code" href="vtysh_8c.html#af04c7a1095e117c5c064f96269a5f3e5">vtysh_execute_no_pager</a>(cmd-&gt;line);
      <span class="keywordflow">if</span> (!no_error &amp;&amp;
          ! (ret == <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a> ||
         ret == <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a> ||
         ret == <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>))
        <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>(1);

      {
        <span class="keyword">struct </span>cmd_rec *cr;
        cr = cmd;
        cmd = cmd-&gt;next;
        <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a>(0, cr);
      }
        }
      <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (0);
    }
  
  <span class="comment">/* Boot startup configuration file. */</span>
  <span class="keywordflow">if</span> (boot_flag)
    {
      <span class="keywordflow">if</span> (<a class="code" href="vtysh_8h.html#ab366803e1dbe7fd299b27b1a700608db">vtysh_read_config</a> (<a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>))
    {
      fprintf (stderr, <span class="stringliteral">&quot;Can&#39;t open configuration file [%s]\n&quot;</span>,
           <a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>);
      <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (1);
    }
      <span class="keywordflow">else</span>
    <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (0);
    }

  <a class="code" href="vtysh_8c.html#ab52fdf3580a2328bde104bce79f6a93d">vtysh_pager_init</a> ();

  <a class="code" href="vtysh_8h.html#a02e1e20931be865c96775437e2044ac2">vtysh_readline_init</a> ();

  <a class="code" href="vty_8c.html#aa2f6866b034e4a3f2e6b9e354ba46d95">vty_hello</a> (<a class="code" href="structvty.html">vty</a>);

  <span class="comment">/* Enter into enable node. */</span>
  <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<span class="stringliteral">&quot;enable&quot;</span>);

  <span class="comment">/* Preparation for longjmp() in sigtstp(). */</span>
  sigsetjmp (<a class="code" href="vtysh__main_8c.html#ae378337376b79dab0e02b5a0a6cb911b">jmpbuf</a>, 1);
  <a class="code" href="vtysh__main_8c.html#a0508f2c9157e9c8c80947c9c83a1da0d">jmpflag</a> = 1;

  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a>(<a class="code" href="vtysh__main_8c.html#a6c4cf2e38eb490f495ff41409288623f">history_file</a>, <span class="keyword">sizeof</span>(<a class="code" href="vtysh__main_8c.html#a6c4cf2e38eb490f495ff41409288623f">history_file</a>), <span class="stringliteral">&quot;%s/.history_quagga&quot;</span>, <a class="code" href="getopt_8c.html#aee28fd8a0e40b6d958f7d20348e45368">getenv</a>(<span class="stringliteral">&quot;HOME&quot;</span>));
  read_history(<a class="code" href="vtysh__main_8c.html#a6c4cf2e38eb490f495ff41409288623f">history_file</a>);
  <span class="comment">/* Main command loop. */</span>
  <span class="keywordflow">while</span> (<a class="code" href="vtysh__main_8c.html#a85dc1bffc3807d2a646a7fbeb35dba59">vtysh_rl_gets</a> ())
    <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a>);

  history_truncate_file(<a class="code" href="vtysh__main_8c.html#a6c4cf2e38eb490f495ff41409288623f">history_file</a>,1000);
  printf (<span class="stringliteral">&quot;\n&quot;</span>);

  <span class="comment">/* Rest in peace. */</span>
  <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a663893ef10734c0143cbf812c55fcafd"></a><!-- doxytag: member="vtysh_main.c::sigint" ref="a663893ef10734c0143cbf812c55fcafd" args="(int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sigint </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00088">88</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Check this process is not child process. */</span>
  <span class="keywordflow">if</span> (! <a class="code" href="vtysh_8h.html#a489f9ad15bf09e3b6cbe24098f4bef89">execute_flag</a>)
    {
      rl_initialize ();
      printf (<span class="stringliteral">&quot;\n&quot;</span>);
      rl_forced_update_display ();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa8076b269f73f9c3afbad2fe03b3f4a9"></a><!-- doxytag: member="vtysh_main.c::sigtstp" ref="aa8076b269f73f9c3afbad2fe03b3f4a9" args="(int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sigtstp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00067">67</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Execute &quot;end&quot; command. */</span>
  <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<span class="stringliteral">&quot;end&quot;</span>);
  
  <span class="comment">/* Initialize readline. */</span>
  rl_initialize ();
  printf (<span class="stringliteral">&quot;\n&quot;</span>);

  <span class="comment">/* Check jmpflag for duplicate siglongjmp(). */</span>
  <span class="keywordflow">if</span> (! <a class="code" href="vtysh__main_8c.html#a0508f2c9157e9c8c80947c9c83a1da0d">jmpflag</a>)
    <span class="keywordflow">return</span>;

  <a class="code" href="vtysh__main_8c.html#a0508f2c9157e9c8c80947c9c83a1da0d">jmpflag</a> = 0;

  <span class="comment">/* Back to main command loop. */</span>
  siglongjmp (<a class="code" href="vtysh__main_8c.html#ae378337376b79dab0e02b5a0a6cb911b">jmpbuf</a>, 1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3c83d9a6df948871c9355ef7f15738a5"></a><!-- doxytag: member="vtysh_main.c::usage" ref="a3c83d9a6df948871c9355ef7f15738a5" args="(int status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void usage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00134">134</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (status != 0)
    fprintf (stderr, <span class="stringliteral">&quot;Try `%s --help&#39; for more information.\n&quot;</span>, <a class="code" href="isis__main_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>);
  <span class="keywordflow">else</span>
    printf (<span class="stringliteral">&quot;Usage : %s [OPTION...]\n\n&quot;</span> \
        <span class="stringliteral">&quot;Integrated shell for Quagga routing software suite. \n\n&quot;</span> \
        <span class="stringliteral">&quot;-b, --boot               Execute boot startup configuration\n&quot;</span> \
        <span class="stringliteral">&quot;-c, --command            Execute argument as command\n&quot;</span> \
        <span class="stringliteral">&quot;-d, --daemon             Connect only to the specified daemon\n&quot;</span> \
        <span class="stringliteral">&quot;-E, --echo               Echo prompt and command in -c mode\n&quot;</span> \
        <span class="stringliteral">&quot;-C, --dryrun             Check configuration for validity and exit\n&quot;</span> \
        <span class="stringliteral">&quot;-h, --help               Display this help and exit\n\n&quot;</span> \
        <span class="stringliteral">&quot;Note that multiple commands may be executed from the command\n&quot;</span> \
        <span class="stringliteral">&quot;line by passing multiple -c args, or by embedding linefeed\n&quot;</span> \
        <span class="stringliteral">&quot;characters in one or more of the commands.\n\n&quot;</span> \
        <span class="stringliteral">&quot;Report bugs to %s\n&quot;</span>, <a class="code" href="isis__main_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="code" href="version_8h.html#a568a90422884d007e54c4f2e653ddc29">ZEBRA_BUG_ADDRESS</a>);

  <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (status);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a85dc1bffc3807d2a646a7fbeb35dba59"></a><!-- doxytag: member="vtysh_main.c::vtysh_rl_gets" ref="a85dc1bffc3807d2a646a7fbeb35dba59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* vtysh_rl_gets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00172">172</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  HIST_ENTRY *last;
  <span class="comment">/* If the buffer has already been allocated, return the memory</span>
<span class="comment">   * to the free pool. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a>)
    {
      free (<a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a>);
      <a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }
     
  <span class="comment">/* Get a line from the user.  Change prompt according to node.  XXX. */</span>
  <a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a> = readline (<a class="code" href="vtysh_8h.html#a37f52f3b9bfc70529d876b874efda20b">vtysh_prompt</a> ());
     
  <span class="comment">/* If the line has any text in it, save it on the history. But only if</span>
<span class="comment">   * last command in history isn&#39;t the same one. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a> &amp;&amp; *<a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a>)
    {
      using_history();
      last = previous_history();
      <span class="keywordflow">if</span> (!last || strcmp (last-&gt;line, <a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a>) != 0) {
    add_history (<a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a>);
    append_history(1,<a class="code" href="vtysh__main_8c.html#a6c4cf2e38eb490f495ff41409288623f">history_file</a>);
      }
    }
     
  <span class="keywordflow">return</span> (<a class="code" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab9ede124019ff7057a35ed07dda4993f"></a><!-- doxytag: member="vtysh_main.c::vtysh_signal_init" ref="ab9ede124019ff7057a35ed07dda4993f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vtysh_signal_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00125">125</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="vtysh__main_8c.html#a86eb0c1b4c661ce87ea39fa4e8343486">vtysh_signal_set</a> (SIGINT, <a class="code" href="bgp__main_8c.html#a3028bbc8ee1e04b72a2ef7fdaad1d71e">sigint</a>);
  <a class="code" href="vtysh__main_8c.html#a86eb0c1b4c661ce87ea39fa4e8343486">vtysh_signal_set</a> (SIGTSTP, <a class="code" href="vtysh__main_8c.html#aa8076b269f73f9c3afbad2fe03b3f4a9">sigtstp</a>);
  <a class="code" href="vtysh__main_8c.html#a86eb0c1b4c661ce87ea39fa4e8343486">vtysh_signal_set</a> (SIGPIPE, SIG_IGN);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a86eb0c1b4c661ce87ea39fa4e8343486"></a><!-- doxytag: member="vtysh_main.c::vtysh_signal_set" ref="a86eb0c1b4c661ce87ea39fa4e8343486" args="(int signo, void(*func)(int))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RETSIGTYPE* vtysh_signal_set </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(int)&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00102">102</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span>sigaction sig;
  <span class="keyword">struct </span>sigaction osig;

  sig.sa_handler = <a class="code" href="bgp__fsm_8c.html#aad6d5d0fbfe60193366eaab88413f7af">func</a>;
  sigemptyset (&amp;sig.sa_mask);
  sig.sa_flags = 0;
<span class="preprocessor">#ifdef SA_RESTART</span>
<span class="preprocessor"></span>  sig.sa_flags |= SA_RESTART;
<span class="preprocessor">#endif </span><span class="comment">/* SA_RESTART */</span>

  ret = sigaction (signo, &amp;sig, &amp;osig);

  <span class="keywordflow">if</span> (ret &lt; 0) 
    <span class="keywordflow">return</span> (SIG_ERR);
  <span class="keywordflow">else</span>
    <span class="keywordflow">return</span> (osig.sa_handler);
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aee27bf99050b66912b35ae16e5b06c81"></a><!-- doxytag: member="vtysh_main.c::config_default" ref="aee27bf99050b66912b35ae16e5b06c81" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="test__main_8c.html#aee27bf99050b66912b35ae16e5b06c81">config_default</a>[] = SYSCONFDIR VTYSH_DEFAULT_CONFIG</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00044">44</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a489f9ad15bf09e3b6cbe24098f4bef89"></a><!-- doxytag: member="vtysh_main.c::execute_flag" ref="a489f9ad15bf09e3b6cbe24098f4bef89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="vtysh__main_8c.html#a489f9ad15bf09e3b6cbe24098f4bef89">execute_flag</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00048">48</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6c4cf2e38eb490f495ff41409288623f"></a><!-- doxytag: member="vtysh_main.c::history_file" ref="a6c4cf2e38eb490f495ff41409288623f" args="[MAXPATHLEN]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="vtysh__main_8c.html#a6c4cf2e38eb490f495ff41409288623f">history_file</a>[MAXPATHLEN]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00045">45</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae378337376b79dab0e02b5a0a6cb911b"></a><!-- doxytag: member="vtysh_main.c::jmpbuf" ref="ae378337376b79dab0e02b5a0a6cb911b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sigjmp_buf <a class="el" href="vtysh__main_8c.html#ae378337376b79dab0e02b5a0a6cb911b">jmpbuf</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00051">51</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0508f2c9157e9c8c80947c9c83a1da0d"></a><!-- doxytag: member="vtysh_main.c::jmpflag" ref="a0508f2c9157e9c8c80947c9c83a1da0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="vtysh__main_8c.html#a0508f2c9157e9c8c80947c9c83a1da0d">jmpflag</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00054">54</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4deb21328aef40f0e915d5a8026676bf"></a><!-- doxytag: member="vtysh_main.c::line_read" ref="a4deb21328aef40f0e915d5a8026676bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="vtysh__main_8c.html#a4deb21328aef40f0e915d5a8026676bf">line_read</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00057">57</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab25a3625a8efbaa3d81ef27bbb51c9c5"></a><!-- doxytag: member="vtysh_main.c::logfile" ref="ab25a3625a8efbaa3d81ef27bbb51c9c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* <a class="el" href="vtysh__main_8c.html#ab25a3625a8efbaa3d81ef27bbb51c9c5">logfile</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00063">63</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="a94965649155359a4c4eb047af782bf22"></a><!-- doxytag: member="vtysh_main.c::longopts" ref="a94965649155359a4c4eb047af782bf22" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structoption.html">option</a> <a class="el" href="test__main_8c.html#a94965649155359a4c4eb047af782bf22">longopts</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> 
{
  { <span class="stringliteral">&quot;boot&quot;</span>,                 <a class="code" href="getopt_8h.html#a3bc1d5f667b5b4ca4b4abb685dc874ce">no_argument</a>,             <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="charliteral">&#39;b&#39;</span>},
  
  { <span class="stringliteral">&quot;eval&quot;</span>,                 <a class="code" href="getopt_8h.html#a6ece8d8dfa8378778f7290fdaba5b8bc">required_argument</a>,       <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="charliteral">&#39;e&#39;</span>},
  { <span class="stringliteral">&quot;command&quot;</span>,              <a class="code" href="getopt_8h.html#a6ece8d8dfa8378778f7290fdaba5b8bc">required_argument</a>,       <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="charliteral">&#39;c&#39;</span>},
  { <span class="stringliteral">&quot;daemon&quot;</span>,               <a class="code" href="getopt_8h.html#a6ece8d8dfa8378778f7290fdaba5b8bc">required_argument</a>,       <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="charliteral">&#39;d&#39;</span>},
  { <span class="stringliteral">&quot;echo&quot;</span>,                 <a class="code" href="getopt_8h.html#a3bc1d5f667b5b4ca4b4abb685dc874ce">no_argument</a>,             <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="charliteral">&#39;E&#39;</span>},
  { <span class="stringliteral">&quot;dryrun&quot;</span>,           <a class="code" href="getopt_8h.html#a3bc1d5f667b5b4ca4b4abb685dc874ce">no_argument</a>,         <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="charliteral">&#39;C&#39;</span>},
  { <span class="stringliteral">&quot;help&quot;</span>,                 <a class="code" href="getopt_8h.html#a3bc1d5f667b5b4ca4b4abb685dc874ce">no_argument</a>,             <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="charliteral">&#39;h&#39;</span>},
  { <span class="stringliteral">&quot;noerror&quot;</span>,          <a class="code" href="getopt_8h.html#a3bc1d5f667b5b4ca4b4abb685dc874ce">no_argument</a>,         <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="charliteral">&#39;n&#39;</span>},
  { 0 }
}
</pre></div>
<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00156">156</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="af7f9077bc08df049beb65a1c09cde5fa"></a><!-- doxytag: member="vtysh_main.c::master" ref="af7f9077bc08df049beb65a1c09cde5fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthread__master.html">thread_master</a>* <a class="el" href="test__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00060">60</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab9e1449fd00c98428516f0b41eddcb10"></a><!-- doxytag: member="vtysh_main.c::progname" ref="ab9e1449fd00c98428516f0b41eddcb10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="vtysh__main_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vtysh__main_8c_source.html#l00041">41</a> of file <a class="el" href="vtysh__main_8c_source.html">vtysh_main.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="vtysh__main_8c.html">vtysh_main.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:37 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
