<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: ospf6d/ospf6_neighbor.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ospf6__neighbor_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ospf6d/ospf6_neighbor.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="thread_8h_source.html">thread.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="linklist_8h_source.html">linklist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vty_8h_source.html">vty.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__proto_8h_source.html">ospf6_proto.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsa_8h_source.html">ospf6_lsa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsdb_8h_source.html">ospf6_lsdb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__message_8h_source.html">ospf6_message.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__top_8h_source.html">ospf6_top.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__area_8h_source.html">ospf6_area.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__interface_8h_source.html">ospf6_interface.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__neighbor_8h_source.html">ospf6_neighbor.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__intra_8h_source.html">ospf6_intra.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__flood_8h_source.html">ospf6_flood.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6d_8h_source.html">ospf6d.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ospf6_neighbor.c:</div>
<div class="dyncontent">
<div class="center"><img src="ospf6__neighbor_8c__incl.png" border="0" usemap="#ospf6d_2ospf6__neighbor_8c" alt=""/></div>
<map name="ospf6d_2ospf6__neighbor_8c" id="ospf6d_2ospf6__neighbor_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1404,80,1471,107"/><area shape="rect" id="node61" href="log_8h.html" title="log.h" alt="" coords="2799,229,2851,256"/><area shape="rect" id="node64" href="memory_8h.html" title="memory.h" alt="" coords="3095,80,3177,107"/><area shape="rect" id="node68" href="thread_8h.html" title="thread.h" alt="" coords="2889,229,2961,256"/><area shape="rect" id="node70" href="linklist_8h.html" title="linklist.h" alt="" coords="3202,80,3272,107"/><area shape="rect" id="node72" href="vty_8h.html" title="vty.h" alt="" coords="2850,155,2901,181"/><area shape="rect" id="node76" href="command_8h.html" title="command.h" alt="" coords="2978,80,3069,107"/><area shape="rect" id="node83" href="ospf6__proto_8h.html" title="ospf6_proto.h" alt="" coords="3297,80,3404,107"/><area shape="rect" id="node85" href="ospf6__lsa_8h.html" title="ospf6_lsa.h" alt="" coords="3428,80,3519,107"/><area shape="rect" id="node87" href="ospf6__lsdb_8h.html" title="ospf6_lsdb.h" alt="" coords="3543,80,3643,107"/><area shape="rect" id="node89" href="ospf6__message_8h.html" title="ospf6_message.h" alt="" coords="3668,80,3799,107"/><area shape="rect" id="node91" href="ospf6__top_8h.html" title="ospf6_top.h" alt="" coords="3833,155,3927,181"/><area shape="rect" id="node93" href="ospf6__area_8h.html" title="ospf6_area.h" alt="" coords="3874,80,3973,107"/><area shape="rect" id="node96" href="ospf6__interface_8h.html" title="ospf6_interface.h" alt="" coords="3998,80,4124,107"/><area shape="rect" id="node98" href="ospf6__neighbor_8h.html" title="ospf6_neighbor.h" alt="" coords="4149,80,4275,107"/><area shape="rect" id="node100" href="ospf6__intra_8h.html" title="ospf6_intra.h" alt="" coords="4299,80,4399,107"/><area shape="rect" id="node102" href="ospf6__flood_8h.html" title="ospf6_flood.h" alt="" coords="4423,80,4528,107"/><area shape="rect" id="node104" href="ospf6d_8h.html" title="ospf6d.h" alt="" coords="4553,80,4628,107"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="597,155,675,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="699,155,748,181"/><area shape="rect" id="node66" href="memtypes_8h.html" title="lib/memtypes.h" alt="" coords="3223,155,3337,181"/><area shape="rect" id="node78" href="vector_8h.html" title="vector.h" alt="" coords="3127,155,3199,181"/><area shape="rect" id="node81" href="route__types_8h.html" title="lib/route_types.h" alt="" coords="2978,155,3101,181"/></map>
</div>
</div>
<p><a href="ospf6__neighbor_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a5b12f8c6fcbe74bac7902e4fe37917dc">ospf6_neighbor_cmp</a> (void *va, void *vb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a4b081b7bf89453a1d197bd4ccd21fb14">ospf6_neighbor_lookup</a> (u_int32_t router_id, struct <a class="el" href="structospf6__interface.html">ospf6_interface</a> *oi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a855919070d304e94e357f2ad349a4d93">ospf6_neighbor_create</a> (u_int32_t router_id, struct <a class="el" href="structospf6__interface.html">ospf6_interface</a> *oi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#abbbc1ba6f8ca18c3308cec096c5ad8b2">ospf6_neighbor_delete</a> (struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *on)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (u_char <a class="el" href="ospf__nsm_8c.html#ac0c302bc97f010b7f5965faa07b00354">next_state</a>, struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *on)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a1acc964c73d901df9a9958319aa888c0">need_adjacency</a> (struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *on)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#ad4c742a29bb4b2eadd7d823c47027941">hello_received</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a1a46499f13697058c4433ef7e3d12645">twoway_received</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a919ab367c8cea6cb6ca56decc5dceef1">negotiation_done</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a74fd583c4b2b26c3ec3c39b30ab2c54d">exchange_done</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#affe0ecf0ece70b2d797c3efc0cfe62d8">loading_done</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#afe014f32ef6eb4b52b72806386cd16df">adj_ok</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a8e494687f908a9f68e057d004d988490">seqnumber_mismatch</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#ab25760cef92f7e894cdcf23ecad3833f">bad_lsreq</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a1fb6360380d66c19f93eeac4b9486a6b">oneway_received</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#ab053d77889fefde8115657d77f79d71a">inactivity_timer</a> (struct <a class="el" href="structthread.html">thread</a> *<a class="el" href="structthread.html">thread</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a5bfa25d1f1fc1931421f7fadb9d89b05">ospf6_neighbor_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *on)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#aa439923ed9d1d8502a154afd712ceeac">ospf6_neighbor_show_drchoice</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *on)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a0c0d6ec7b78435238e3ce6c566d7281c">ospf6_neighbor_show_detail</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *on)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a8ca4c459555f9229cfbc7f51164c63fa">DEFUN</a> (show_ipv6_ospf6_neighbor, show_ipv6_ospf6_neighbor_cmd,&quot;show ipv6 <a class="el" href="structospf6.html">ospf6</a> neighbor&quot;, SHOW_STR IP6_STR OSPF6_STR&quot;Neighbor <a class="el" href="structlist.html">list</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a9e34307cf89d461641f1f604179c1193">ALIAS</a> (show_ipv6_ospf6_neighbor, show_ipv6_ospf6_neighbor_detail_cmd,&quot;show ipv6 <a class="el" href="structospf6.html">ospf6</a> neighbor (detail|drchoice)&quot;, SHOW_STR IP6_STR OSPF6_STR&quot;Neighbor <a class="el" href="structlist.html">list</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Display details\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Display DR choices\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#aa47557f3758ddb02c9806fb4feef2d10">ospf6_neighbor_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a3d41df99cf4bf8072166cf2f37e8b90f">DEFUN</a> (debug_ospf6_neighbor, debug_ospf6_neighbor_cmd,&quot;debug <a class="el" href="structospf6.html">ospf6</a> neighbor&quot;, DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a2b0e09bc6192e39d4c14cd2eb2f412d1">ALIAS</a> (debug_ospf6_neighbor, debug_ospf6_neighbor_detail_cmd,&quot;debug <a class="el" href="structospf6.html">ospf6</a> neighbor (state|<a class="el" href="vty_8c.html#a3b65133bb9997cd1ccf311af0927fc9e">event</a>)&quot;, DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug OSPFv3 Neighbor State Change\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug OSPFv3 Neighbor Event\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a28d8be48d880973f1558b3c1ed16be9a">ALIAS</a> (no_debug_ospf6_neighbor, no_debug_ospf6_neighbor_detail_cmd,&quot;no debug <a class="el" href="structospf6.html">ospf6</a> neighbor (state|<a class="el" href="vty_8c.html#a3b65133bb9997cd1ccf311af0927fc9e">event</a>)&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug OSPFv3 Neighbor State Change\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug OSPFv3 Neighbor Event\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#ad9a4d447919173c525d12c0188ff727b">install_element_ospf6_debug_neighbor</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#a230534bdd1c87d7859a3c1e427e9dc7b">conf_debug_ospf6_neighbor</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__neighbor_8c.html#aee78e9afc46a9acd2c77382df5760c03">ospf6_neighbor_state_str</a> []</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="afe014f32ef6eb4b52b72806386cd16df"></a><!-- doxytag: member="ospf6_neighbor.c::adj_ok" ref="afe014f32ef6eb4b52b72806386cd16df" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int adj_ok </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00379">379</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *AdjOK?*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> == <a class="code" href="ospf6__neighbor_8h.html#afc191d3ebf67c52c9c2a8bb13979f915">OSPF6_NEIGHBOR_TWOWAY</a> &amp;&amp; <a class="code" href="ospf6__neighbor_8c.html#a1acc964c73d901df9a9958319aa888c0">need_adjacency</a> (on))
    {
      <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#a127b580f45ab0c59d908b0a07c8b4574">OSPF6_NEIGHBOR_EXSTART</a>, on);
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#aca7fe538d9edb962ca47fbeec7e4bf6b">OSPF6_DBDESC_MSBIT</a>);
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a6b4ff9c565893a42ee04d66d477b0802">OSPF6_DBDESC_MBIT</a>);
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a1de1fec9c59c8037fa5f6cb5f8bf35cb">OSPF6_DBDESC_IBIT</a>);

      <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>);
      on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a> =
        <a class="code" href="thread_8h.html#a1067157ad59ad46f29bf87158dffc3de">thread_add_event</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__message_8c.html#a42f57245d02e4581ca30fd1e5fc9a533">ospf6_dbdesc_send</a>, on, 0);

    }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> &gt;= <a class="code" href="ospf6__neighbor_8h.html#a127b580f45ab0c59d908b0a07c8b4574">OSPF6_NEIGHBOR_EXSTART</a> &amp;&amp;
           ! <a class="code" href="ospf6__neighbor_8c.html#a1acc964c73d901df9a9958319aa888c0">need_adjacency</a> (on))
    {
      <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#afc191d3ebf67c52c9c2a8bb13979f915">OSPF6_NEIGHBOR_TWOWAY</a>, on);
      <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
      <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>);
      <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>); lsa;
           lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
        {
          <a class="code" href="ospf6__flood_8c.html#a6bee3a2ba460b276a55915e4f96dae62">ospf6_decrement_retrans_count</a> (lsa);
          <a class="code" href="ospf6__lsdb_8c.html#a57848d384aafd619bd84c654fb9ed146">ospf6_lsdb_remove</a> (lsa, on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
        }
    }

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9e34307cf89d461641f1f604179c1193"></a><!-- doxytag: member="ospf6_neighbor.c::ALIAS" ref="a9e34307cf89d461641f1f604179c1193" args="(show_ipv6_ospf6_neighbor, show_ipv6_ospf6_neighbor_detail_cmd,&quot;show ipv6 ospf6 neighbor (detail|drchoice)&quot;, SHOW_STR IP6_STR OSPF6_STR&quot;Neighbor list\n&quot;&quot;Display details\n&quot;&quot;Display DR choices\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALIAS </td>
          <td>(</td>
          <td class="paramtype">show_ipv6_ospf6_neighbor&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">show_ipv6_ospf6_neighbor_detail_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;show ipv6 <a class="el" href="structospf6.html">ospf6</a> neighbor (detail|drchoice)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SHOW_STR IP6_STR OSPF6_STR&quot;Neighbor <a class="el" href="structlist.html">list</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Display details\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Display DR choices\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00795">795</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;
  <span class="keyword">struct </span><a class="code" href="structospf6__interface.html">ospf6_interface</a> *oi;
  <span class="keyword">struct </span><a class="code" href="structospf6__area.html">ospf6_area</a> *oa;
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>, *<a class="code" href="spgrid_8c.html#a7113d77fc628f14d4e7d1262969c613e">j</a>, *<a class="code" href="spgrid_8c.html#a166d56cfd4c4c4d27db0bd3cd0fe81d9">k</a>;
  void (*showfunc) (<span class="keyword">struct </span><a class="code" href="structvty.html">vty</a> *, <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *);
  u_int32_t <a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>;

  <a class="code" href="ospf6d_8h.html#a218f60d290e93ac6aff08e62560ad198">OSPF6_CMD_CHECK_RUNNING</a> ();
  showfunc = <a class="code" href="ospf6__neighbor_8c.html#a0c0d6ec7b78435238e3ce6c566d7281c">ospf6_neighbor_show_detail</a>;

  <span class="keywordflow">if</span> ((<a class="code" href="sockunion_8c.html#ac13c2042641ea5031bc7e244e8061b84">inet_pton</a> (AF_INET, argv[0], &amp;router_id)) != 1)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Router-ID is not parsable: %s%s&quot;</span>, argv[0],
               <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a6a8e756959f407c36b123ffc040fbe96">area_list</a>, i, oa))
    <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (oa-&gt;<a class="code" href="structospf6__area.html#ab06f65e38225287ac3fb4c67cf9dfdcd">if_list</a>, j, oi))
      <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (oi-&gt;<a class="code" href="structospf6__interface.html#ada404f0a64a2f3783445fdf2c2dccf6d">neighbor_list</a>, k, on))
        (*showfunc) (<a class="code" href="vtysh_8c.html#a15b2c4e868040617c54eaaba3663b337">vty</a>, on);
  
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2b0e09bc6192e39d4c14cd2eb2f412d1"></a><!-- doxytag: member="ospf6_neighbor.c::ALIAS" ref="a2b0e09bc6192e39d4c14cd2eb2f412d1" args="(debug_ospf6_neighbor, debug_ospf6_neighbor_detail_cmd,&quot;debug ospf6 neighbor (state|event)&quot;, DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\n&quot;&quot;Debug OSPFv3 Neighbor State Change\n&quot;&quot;Debug OSPFv3 Neighbor Event\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALIAS </td>
          <td>(</td>
          <td class="paramtype">debug_ospf6_neighbor&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">debug_ospf6_neighbor_detail_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;debug <a class="el" href="structospf6.html">ospf6</a> neighbor (state|<a class="el" href="vty_8c.html#a3b65133bb9997cd1ccf311af0927fc9e">event</a>)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug OSPFv3 Neighbor State Change\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug OSPFv3 Neighbor Event\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00873">873</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> level = 0;
  <span class="keywordflow">if</span> (argc)
    {
      <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;s&quot;</span>, 1))
        level = <a class="code" href="ospf6__neighbor_8h.html#a2ea69c944ba32e4d1dbd7d93fdd57f76">OSPF6_DEBUG_NEIGHBOR_STATE</a>;
      <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;e&quot;</span>, 1))
        level = <a class="code" href="ospf6__neighbor_8h.html#a18d6f1fc431d9a8bac61b58372ba5f47">OSPF6_DEBUG_NEIGHBOR_EVENT</a>;
    }
  <span class="keywordflow">else</span>
    level = <a class="code" href="ospf6__neighbor_8h.html#a2ea69c944ba32e4d1dbd7d93fdd57f76">OSPF6_DEBUG_NEIGHBOR_STATE</a> | <a class="code" href="ospf6__neighbor_8h.html#a18d6f1fc431d9a8bac61b58372ba5f47">OSPF6_DEBUG_NEIGHBOR_EVENT</a>;

  <a class="code" href="ospf6__neighbor_8h.html#a97a5511de2bafdb901454ff9baac0ef6">OSPF6_DEBUG_NEIGHBOR_OFF</a> (level);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a28d8be48d880973f1558b3c1ed16be9a"></a><!-- doxytag: member="ospf6_neighbor.c::ALIAS" ref="a28d8be48d880973f1558b3c1ed16be9a" args="(no_debug_ospf6_neighbor, no_debug_ospf6_neighbor_detail_cmd,&quot;no debug ospf6 neighbor (state|event)&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\n&quot;&quot;Debug OSPFv3 Neighbor State Change\n&quot;&quot;Debug OSPFv3 Neighbor Event\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALIAS </td>
          <td>(</td>
          <td class="paramtype">no_debug_ospf6_neighbor&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_debug_ospf6_neighbor_detail_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no debug <a class="el" href="structospf6.html">ospf6</a> neighbor (state|<a class="el" href="vty_8c.html#a3b65133bb9997cd1ccf311af0927fc9e">event</a>)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug OSPFv3 Neighbor State Change\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug OSPFv3 Neighbor Event\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00907">907</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (STATE) &amp;&amp;
      <a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;debug ospf6 neighbor%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (STATE))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;debug ospf6 neighbor state%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;debug ospf6 neighbor event%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab25760cef92f7e894cdcf23ecad3833f"></a><!-- doxytag: member="ospf6_neighbor.c::bad_lsreq" ref="ab25760cef92f7e894cdcf23ecad3833f" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bad_lsreq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00456">456</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> &lt; <a class="code" href="ospf6__neighbor_8h.html#afa0419c15460d1d703d2b3cfa7859984">OSPF6_NEIGHBOR_EXCHANGE</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *BadLSReq*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#a127b580f45ab0c59d908b0a07c8b4574">OSPF6_NEIGHBOR_EXSTART</a>, on);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#aca7fe538d9edb962ca47fbeec7e4bf6b">OSPF6_DBDESC_MSBIT</a>);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a6b4ff9c565893a42ee04d66d477b0802">OSPF6_DBDESC_MBIT</a>);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a1de1fec9c59c8037fa5f6cb5f8bf35cb">OSPF6_DBDESC_IBIT</a>);

  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    {
      <a class="code" href="ospf6__flood_8c.html#a6bee3a2ba460b276a55915e4f96dae62">ospf6_decrement_retrans_count</a> (lsa);
      <a class="code" href="ospf6__lsdb_8c.html#a57848d384aafd619bd84c654fb9ed146">ospf6_lsdb_remove</a> (lsa, on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
    }

  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>);
  on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a> =
    <a class="code" href="thread_8h.html#a1067157ad59ad46f29bf87158dffc3de">thread_add_event</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__message_8c.html#a42f57245d02e4581ca30fd1e5fc9a533">ospf6_dbdesc_send</a>, on, 0);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8ca4c459555f9229cfbc7f51164c63fa"></a><!-- doxytag: member="ospf6_neighbor.c::DEFUN" ref="a8ca4c459555f9229cfbc7f51164c63fa" args="(show_ipv6_ospf6_neighbor, show_ipv6_ospf6_neighbor_cmd,&quot;show ipv6 ospf6 neighbor&quot;, SHOW_STR IP6_STR OSPF6_STR&quot;Neighbor list\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">show_ipv6_ospf6_neighbor&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">show_ipv6_ospf6_neighbor_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;show ipv6 <a class="el" href="structospf6.html">ospf6</a> neighbor&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SHOW_STR IP6_STR OSPF6_STR&quot;Neighbor <a class="el" href="structlist.html">list</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00752">752</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;
  <span class="keyword">struct </span><a class="code" href="structospf6__interface.html">ospf6_interface</a> *oi;
  <span class="keyword">struct </span><a class="code" href="structospf6__area.html">ospf6_area</a> *oa;
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>, *<a class="code" href="spgrid_8c.html#a7113d77fc628f14d4e7d1262969c613e">j</a>, *<a class="code" href="spgrid_8c.html#a166d56cfd4c4c4d27db0bd3cd0fe81d9">k</a>;
  void (*showfunc) (<span class="keyword">struct </span><a class="code" href="structvty.html">vty</a> *, <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *);

  <a class="code" href="ospf6d_8h.html#a218f60d290e93ac6aff08e62560ad198">OSPF6_CMD_CHECK_RUNNING</a> ();
  showfunc = <a class="code" href="ospf6__neighbor_8c.html#a5bfa25d1f1fc1931421f7fadb9d89b05">ospf6_neighbor_show</a>;

  <span class="keywordflow">if</span> (argc)
    {
      <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;de&quot;</span>, 2))
        showfunc = <a class="code" href="ospf6__neighbor_8c.html#a0c0d6ec7b78435238e3ce6c566d7281c">ospf6_neighbor_show_detail</a>;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;dr&quot;</span>, 2))
        showfunc = <a class="code" href="ospf6__neighbor_8c.html#aa439923ed9d1d8502a154afd712ceeac">ospf6_neighbor_show_drchoice</a>;
    }

  <span class="keywordflow">if</span> (showfunc == <a class="code" href="ospf6__neighbor_8c.html#a5bfa25d1f1fc1931421f7fadb9d89b05">ospf6_neighbor_show</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%-15s %3s %11s %6s/%-12s %11s %s[%s]%s&quot;</span>,
             <span class="stringliteral">&quot;Neighbor ID&quot;</span>, <span class="stringliteral">&quot;Pri&quot;</span>, <span class="stringliteral">&quot;DeadTime&quot;</span>, <span class="stringliteral">&quot;State&quot;</span>, <span class="stringliteral">&quot;IfState&quot;</span>, <span class="stringliteral">&quot;Duration&quot;</span>,
             <span class="stringliteral">&quot;I/F&quot;</span>, <span class="stringliteral">&quot;State&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (showfunc == <a class="code" href="ospf6__neighbor_8c.html#aa439923ed9d1d8502a154afd712ceeac">ospf6_neighbor_show_drchoice</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%-15s %6s/%-11s %-15s %-15s %s[%s]%s&quot;</span>,
             <span class="stringliteral">&quot;RouterID&quot;</span>, <span class="stringliteral">&quot;State&quot;</span>, <span class="stringliteral">&quot;Duration&quot;</span>, <span class="stringliteral">&quot;DR&quot;</span>, <span class="stringliteral">&quot;BDR&quot;</span>, <span class="stringliteral">&quot;I/F&quot;</span>,
             <span class="stringliteral">&quot;State&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a6a8e756959f407c36b123ffc040fbe96">area_list</a>, i, oa))
    <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (oa-&gt;<a class="code" href="structospf6__area.html#ab06f65e38225287ac3fb4c67cf9dfdcd">if_list</a>, j, oi))
      <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (oi-&gt;<a class="code" href="structospf6__interface.html#ada404f0a64a2f3783445fdf2c2dccf6d">neighbor_list</a>, k, on))
        (*showfunc) (<a class="code" href="vtysh_8c.html#a15b2c4e868040617c54eaaba3663b337">vty</a>, on);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3d41df99cf4bf8072166cf2f37e8b90f"></a><!-- doxytag: member="ospf6_neighbor.c::DEFUN" ref="a3d41df99cf4bf8072166cf2f37e8b90f" args="(debug_ospf6_neighbor, debug_ospf6_neighbor_cmd,&quot;debug ospf6 neighbor&quot;, DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">debug_ospf6_neighbor&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">debug_ospf6_neighbor_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;debug <a class="el" href="structospf6.html">ospf6</a> neighbor&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 Neighbor\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00850">850</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> level = 0;
  <span class="keywordflow">if</span> (argc)
    {
      <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;s&quot;</span>, 1))
        level = <a class="code" href="ospf6__neighbor_8h.html#a2ea69c944ba32e4d1dbd7d93fdd57f76">OSPF6_DEBUG_NEIGHBOR_STATE</a>;
      <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;e&quot;</span>, 1))
        level = <a class="code" href="ospf6__neighbor_8h.html#a18d6f1fc431d9a8bac61b58372ba5f47">OSPF6_DEBUG_NEIGHBOR_EVENT</a>;
    }
  <span class="keywordflow">else</span>
    level = <a class="code" href="ospf6__neighbor_8h.html#a2ea69c944ba32e4d1dbd7d93fdd57f76">OSPF6_DEBUG_NEIGHBOR_STATE</a> | <a class="code" href="ospf6__neighbor_8h.html#a18d6f1fc431d9a8bac61b58372ba5f47">OSPF6_DEBUG_NEIGHBOR_EVENT</a>;

  <a class="code" href="ospf6__neighbor_8h.html#a3ead4c8690863d6aa7dc2882dae94b5b">OSPF6_DEBUG_NEIGHBOR_ON</a> (level);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a74fd583c4b2b26c3ec3c39b30ab2c54d"></a><!-- doxytag: member="ospf6_neighbor.c::exchange_done" ref="a74fd583c4b2b26c3ec3c39b30ab2c54d" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int exchange_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00328">328</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> != <a class="code" href="ospf6__neighbor_8h.html#afa0419c15460d1d703d2b3cfa7859984">OSPF6_NEIGHBOR_EXCHANGE</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *ExchangeDone*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6f48add846713a088741ffa99ad6b1e6">dbdesc_list</a>);

<span class="comment">/* XXX</span>
<span class="comment">  thread_add_timer (master, ospf6_neighbor_last_dbdesc_release, on,</span>
<span class="comment">                    on-&gt;ospf6_if-&gt;dead_interval);</span>
<span class="comment">*/</span>

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a> == 0)
    <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#aae1490b2e9d8ca36df8b2127dcc289c1">OSPF6_NEIGHBOR_FULL</a>, on);
  <span class="keywordflow">else</span>
    <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#aa50b6edd6d1268220ae4e13b2fef14e8">OSPF6_NEIGHBOR_LOADING</a>, on);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad4c742a29bb4b2eadd7d823c47027941"></a><!-- doxytag: member="ospf6_neighbor.c::hello_received" ref="ad4c742a29bb4b2eadd7d823c47027941" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hello_received </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00202">202</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *HelloReceived*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <span class="comment">/* reset Inactivity Timer */</span>
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a9ad2b87db5f53544c260a3fa073ee214">inactivity_timer</a>);
  on-&gt;<a class="code" href="structospf6__neighbor.html#a9ad2b87db5f53544c260a3fa073ee214">inactivity_timer</a> = <a class="code" href="thread_8h.html#aca77b3bbd166d3573de5ecd9756a590c">thread_add_timer</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__neighbor_8c.html#ab053d77889fefde8115657d77f79d71a">inactivity_timer</a>, on,
                                           on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#abcdd28a392cf138d80f052c651e9236b">dead_interval</a>);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> &lt;= <a class="code" href="ospf6__neighbor_8h.html#aa52dad62f42e0298ecf523b72031881d">OSPF6_NEIGHBOR_DOWN</a>)
    <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#aafc5ff11ba1a9aafe6a27792d1137a7e">OSPF6_NEIGHBOR_INIT</a>, on);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab053d77889fefde8115657d77f79d71a"></a><!-- doxytag: member="ospf6_neighbor.c::inactivity_timer" ref="ab053d77889fefde8115657d77f79d71a" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inactivity_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00527">527</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *InactivityTimer*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  on-&gt;<a class="code" href="structospf6__neighbor.html#a9ad2b87db5f53544c260a3fa073ee214">inactivity_timer</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  on-&gt;<a class="code" href="structospf6__neighbor.html#a71a9a7c78bf284d3b6ccf019d5724bc4">drouter</a> = on-&gt;<a class="code" href="structospf6__neighbor.html#aa7aa920cd50d36c888eba22cef7741b4">prev_drouter</a> = 0;
  on-&gt;<a class="code" href="structospf6__neighbor.html#a51bfd494bc8b93c40f6645d8e0fb4223">bdrouter</a> = on-&gt;<a class="code" href="structospf6__neighbor.html#ab63cabfde3bd2bd93c0857d2aa446400">prev_bdrouter</a> = 0;

  <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#aa52dad62f42e0298ecf523b72031881d">OSPF6_NEIGHBOR_DOWN</a>, on);
  <a class="code" href="thread_8h.html#a1067157ad59ad46f29bf87158dffc3de">thread_add_event</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__interface_8c.html#afe0e883750ee5ad5f90ba39754467407">neighbor_change</a>, on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>, 0);

  <a class="code" href="linklist_8c.html#a8cbdaa18db1ceacaadbc457a0c634e02">listnode_delete</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#ada404f0a64a2f3783445fdf2c2dccf6d">neighbor_list</a>, on);
  <a class="code" href="ospf6__neighbor_8c.html#abbbc1ba6f8ca18c3308cec096c5ad8b2">ospf6_neighbor_delete</a> (on);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad9a4d447919173c525d12c0188ff727b"></a><!-- doxytag: member="ospf6_neighbor.c::install_element_ospf6_debug_neighbor" ref="ad9a4d447919173c525d12c0188ff727b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void install_element_ospf6_debug_neighbor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00932">932</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;debug_ospf6_neighbor_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;debug_ospf6_neighbor_detail_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;no_debug_ospf6_neighbor_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;no_debug_ospf6_neighbor_detail_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;debug_ospf6_neighbor_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;debug_ospf6_neighbor_detail_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_debug_ospf6_neighbor_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_debug_ospf6_neighbor_detail_cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="affe0ecf0ece70b2d797c3efc0cfe62d8"></a><!-- doxytag: member="ospf6_neighbor.c::loading_done" ref="affe0ecf0ece70b2d797c3efc0cfe62d8" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int loading_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00358">358</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> != <a class="code" href="ospf6__neighbor_8h.html#aa50b6edd6d1268220ae4e13b2fef14e8">OSPF6_NEIGHBOR_LOADING</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *LoadingDone*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a> == 0);

  <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#aae1490b2e9d8ca36df8b2127dcc289c1">OSPF6_NEIGHBOR_FULL</a>, on);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1acc964c73d901df9a9958319aa888c0"></a><!-- doxytag: member="ospf6_neighbor.c::need_adjacency" ref="a1acc964c73d901df9a9958319aa888c0" args="(struct ospf6_neighbor *on)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int need_adjacency </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00187">187</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#aafdfe7c67c1ff540201718b688e0a15b">state</a> == <a class="code" href="ospf6__interface_8h.html#ae27eee5093f2c674cf5d3f00324c81b7">OSPF6_INTERFACE_POINTTOPOINT</a> ||
      on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#aafdfe7c67c1ff540201718b688e0a15b">state</a> == <a class="code" href="ospf6__interface_8h.html#ad83f536f4674c165d7f393d28f087843">OSPF6_INTERFACE_DR</a> ||
      on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#aafdfe7c67c1ff540201718b688e0a15b">state</a> == <a class="code" href="ospf6__interface_8h.html#ad0b8da8f1b2db8ec33b43b223b114d51">OSPF6_INTERFACE_BDR</a>)
    <span class="keywordflow">return</span> 1;

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#a5e0184b714337299cd1fa5ae9cc87eb0">drouter</a> == on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a> ||
      on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#a7b1736cd4740da2f26d27caf31983964">bdrouter</a> == on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>)
    <span class="keywordflow">return</span> 1;

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a919ab367c8cea6cb6ca56decc5dceef1"></a><!-- doxytag: member="ospf6_neighbor.c::negotiation_done" ref="a919ab367c8cea6cb6ca56decc5dceef1" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int negotiation_done </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00258">258</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> != <a class="code" href="ospf6__neighbor_8h.html#a127b580f45ab0c59d908b0a07c8b4574">OSPF6_NEIGHBOR_EXSTART</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *NegotiationDone*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <span class="comment">/* clear ls-list */</span>
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    {
      <a class="code" href="ospf6__flood_8c.html#a6bee3a2ba460b276a55915e4f96dae62">ospf6_decrement_retrans_count</a> (lsa);
      <a class="code" href="ospf6__lsdb_8c.html#a57848d384aafd619bd84c654fb9ed146">ospf6_lsdb_remove</a> (lsa, on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
    }

  <span class="comment">/* Interface scoped LSAs */</span>
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#ab033cb877fe417705f424d1bd2f411de">lsdb</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#acde3ad184b10ca14f3eef7b2ab655ce6">OSPF6_LSA_IS_MAXAGE</a> (lsa))
        {
          <a class="code" href="ospf6__flood_8c.html#a5e4e2b43f317fbb038100a62d6aa089a">ospf6_increment_retrans_count</a> (lsa);
          <a class="code" href="ospf6__lsdb_8c.html#a0b328a0b2493e0e549d003f50003a199">ospf6_lsdb_add</a> (<a class="code" href="ospf6__lsa_8c.html#a98dc000e578715b010159ca0c5b38a07">ospf6_lsa_copy</a> (lsa), on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
        }
      <span class="keywordflow">else</span>
        <a class="code" href="ospf6__lsdb_8c.html#a0b328a0b2493e0e549d003f50003a199">ospf6_lsdb_add</a> (<a class="code" href="ospf6__lsa_8c.html#a98dc000e578715b010159ca0c5b38a07">ospf6_lsa_copy</a> (lsa), on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
    }

  <span class="comment">/* Area scoped LSAs */</span>
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#a4f6cfeea2ecb9f163edd02b78f79294d">area</a>-&gt;<a class="code" href="structospf6__area.html#a9e658e62c2d59151531bc03b95b600bb">lsdb</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#acde3ad184b10ca14f3eef7b2ab655ce6">OSPF6_LSA_IS_MAXAGE</a> (lsa))
        {
          <a class="code" href="ospf6__flood_8c.html#a5e4e2b43f317fbb038100a62d6aa089a">ospf6_increment_retrans_count</a> (lsa);
          <a class="code" href="ospf6__lsdb_8c.html#a0b328a0b2493e0e549d003f50003a199">ospf6_lsdb_add</a> (<a class="code" href="ospf6__lsa_8c.html#a98dc000e578715b010159ca0c5b38a07">ospf6_lsa_copy</a> (lsa), on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
        }
      <span class="keywordflow">else</span>
        <a class="code" href="ospf6__lsdb_8c.html#a0b328a0b2493e0e549d003f50003a199">ospf6_lsdb_add</a> (<a class="code" href="ospf6__lsa_8c.html#a98dc000e578715b010159ca0c5b38a07">ospf6_lsa_copy</a> (lsa), on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
    }

  <span class="comment">/* AS scoped LSAs */</span>
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#a4f6cfeea2ecb9f163edd02b78f79294d">area</a>-&gt;<a class="code" href="structospf6__area.html#a86562db489ba46500cda50f4fa646c69">ospf6</a>-&gt;<a class="code" href="structospf6.html#ac8cf84e34e8461f5aea2737fc2bf8fcb">lsdb</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#acde3ad184b10ca14f3eef7b2ab655ce6">OSPF6_LSA_IS_MAXAGE</a> (lsa))
        {
          <a class="code" href="ospf6__flood_8c.html#a5e4e2b43f317fbb038100a62d6aa089a">ospf6_increment_retrans_count</a> (lsa);
          <a class="code" href="ospf6__lsdb_8c.html#a0b328a0b2493e0e549d003f50003a199">ospf6_lsdb_add</a> (<a class="code" href="ospf6__lsa_8c.html#a98dc000e578715b010159ca0c5b38a07">ospf6_lsa_copy</a> (lsa), on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
        }
      <span class="keywordflow">else</span>
        <a class="code" href="ospf6__lsdb_8c.html#a0b328a0b2493e0e549d003f50003a199">ospf6_lsdb_add</a> (<a class="code" href="ospf6__lsa_8c.html#a98dc000e578715b010159ca0c5b38a07">ospf6_lsa_copy</a> (lsa), on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
    }

  <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a1de1fec9c59c8037fa5f6cb5f8bf35cb">OSPF6_DBDESC_IBIT</a>);
  <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#afa0419c15460d1d703d2b3cfa7859984">OSPF6_NEIGHBOR_EXCHANGE</a>, on);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1fb6360380d66c19f93eeac4b9486a6b"></a><!-- doxytag: member="ospf6_neighbor.c::oneway_received" ref="a1fb6360380d66c19f93eeac4b9486a6b" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oneway_received </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00492">492</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> &lt; <a class="code" href="ospf6__neighbor_8h.html#afc191d3ebf67c52c9c2a8bb13979f915">OSPF6_NEIGHBOR_TWOWAY</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *1Way-Received*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#aafc5ff11ba1a9aafe6a27792d1137a7e">OSPF6_NEIGHBOR_INIT</a>, on);
  <a class="code" href="thread_8h.html#a1067157ad59ad46f29bf87158dffc3de">thread_add_event</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__interface_8c.html#afe0e883750ee5ad5f90ba39754467407">neighbor_change</a>, on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>, 0);

  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    {
      <a class="code" href="ospf6__flood_8c.html#a6bee3a2ba460b276a55915e4f96dae62">ospf6_decrement_retrans_count</a> (lsa);
      <a class="code" href="ospf6__lsdb_8c.html#a57848d384aafd619bd84c654fb9ed146">ospf6_lsdb_remove</a> (lsa, on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
    }

  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>);
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a645f58ca5b6b428ae7ae616bc4781f51">thread_send_lsreq</a>);
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e6540e3ce6bd90bc1603a529648a86">thread_send_lsupdate</a>);
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a3efe4e76725c8138916061f7fbeccd0b">thread_send_lsack</a>);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5b12f8c6fcbe74bac7902e4fe37917dc"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_cmp" ref="a5b12f8c6fcbe74bac7902e4fe37917dc" args="(void *va, void *vb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_neighbor_cmp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>va</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00050">50</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *ona = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) va;
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *onb = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) vb;
  <span class="keywordflow">return</span> (ntohl (ona-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>) &lt; ntohl (onb-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>) ? -1 : 1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a855919070d304e94e357f2ad349a4d93"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_create" ref="a855919070d304e94e357f2ad349a4d93" args="(u_int32_t router_id, struct ospf6_interface *oi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a>* ospf6_neighbor_create </td>
          <td>(</td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>router_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__interface.html">ospf6_interface</a> *&#160;</td>
          <td class="paramname"><em>oi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00073">73</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;
  <span class="keywordtype">char</span> buf[16];

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *)
    <a class="code" href="memory_8h.html#a6491adf46c1d769b529a8f2f7d75f2fe">XMALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba2f09388f36f20f8e72133d0b0da91245">MTYPE_OSPF6_NEIGHBOR</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a>));
  <span class="keywordflow">if</span> (on == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;neighbor: malloc failed&quot;</span>);
      <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }

  memset (on, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a>));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>, buf, <span class="keyword">sizeof</span> (buf));
  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>, sizeof (on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>), <span class="stringliteral">&quot;%s%%%s&quot;</span>,
            buf, oi-&gt;<a class="code" href="structospf6__interface.html#ab77617d3c7c82e25b6c035d9e1856c22">interface</a>-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>);
  on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a> = oi;
  on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> = <a class="code" href="ospf6__neighbor_8h.html#aa52dad62f42e0298ecf523b72031881d">OSPF6_NEIGHBOR_DOWN</a>;
  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a1c30326f637c12728614900461641df6">last_changed</a>);
  on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a> = <a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>;

  on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a> = <a class="code" href="ospf6__lsdb_8c.html#a0f837765be7e053d492b402a43627c85">ospf6_lsdb_create</a> (on);
  on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a> = <a class="code" href="ospf6__lsdb_8c.html#a0f837765be7e053d492b402a43627c85">ospf6_lsdb_create</a> (on);
  on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a> = <a class="code" href="ospf6__lsdb_8c.html#a0f837765be7e053d492b402a43627c85">ospf6_lsdb_create</a> (on);

  on-&gt;<a class="code" href="structospf6__neighbor.html#a6f48add846713a088741ffa99ad6b1e6">dbdesc_list</a> = <a class="code" href="ospf6__lsdb_8c.html#a0f837765be7e053d492b402a43627c85">ospf6_lsdb_create</a> (on);
  on-&gt;<a class="code" href="structospf6__neighbor.html#a006c1039e7be2c1dc1509accfa39634a">lsreq_list</a> = <a class="code" href="ospf6__lsdb_8c.html#a0f837765be7e053d492b402a43627c85">ospf6_lsdb_create</a> (on);
  on-&gt;<a class="code" href="structospf6__neighbor.html#ac3f142375bf4e9e7c8e54daed55b4ca4">lsupdate_list</a> = <a class="code" href="ospf6__lsdb_8c.html#a0f837765be7e053d492b402a43627c85">ospf6_lsdb_create</a> (on);
  on-&gt;<a class="code" href="structospf6__neighbor.html#ae027726d4952b94fd753b700bd4b7dee">lsack_list</a> = <a class="code" href="ospf6__lsdb_8c.html#a0f837765be7e053d492b402a43627c85">ospf6_lsdb_create</a> (on);

  <a class="code" href="linklist_8c.html#abfe4a1419e46dc9e1235dcbe6b52a022">listnode_add_sort</a> (oi-&gt;<a class="code" href="structospf6__interface.html#ada404f0a64a2f3783445fdf2c2dccf6d">neighbor_list</a>, on);
  <span class="keywordflow">return</span> on;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abbbc1ba6f8ca18c3308cec096c5ad8b2"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_delete" ref="abbbc1ba6f8ca18c3308cec096c5ad8b2" args="(struct ospf6_neighbor *on)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_neighbor_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00109">109</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;

  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    {
      <a class="code" href="ospf6__flood_8c.html#a6bee3a2ba460b276a55915e4f96dae62">ospf6_decrement_retrans_count</a> (lsa);
      <a class="code" href="ospf6__lsdb_8c.html#a57848d384aafd619bd84c654fb9ed146">ospf6_lsdb_remove</a> (lsa, on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
    }

  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6f48add846713a088741ffa99ad6b1e6">dbdesc_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a006c1039e7be2c1dc1509accfa39634a">lsreq_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac3f142375bf4e9e7c8e54daed55b4ca4">lsupdate_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ae027726d4952b94fd753b700bd4b7dee">lsack_list</a>);

  <a class="code" href="ospf6__lsdb_8c.html#a18be7d056756a45c1170d07756a0863e">ospf6_lsdb_delete</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#a18be7d056756a45c1170d07756a0863e">ospf6_lsdb_delete</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#a18be7d056756a45c1170d07756a0863e">ospf6_lsdb_delete</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);

  <a class="code" href="ospf6__lsdb_8c.html#a18be7d056756a45c1170d07756a0863e">ospf6_lsdb_delete</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6f48add846713a088741ffa99ad6b1e6">dbdesc_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#a18be7d056756a45c1170d07756a0863e">ospf6_lsdb_delete</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a006c1039e7be2c1dc1509accfa39634a">lsreq_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#a18be7d056756a45c1170d07756a0863e">ospf6_lsdb_delete</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac3f142375bf4e9e7c8e54daed55b4ca4">lsupdate_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#a18be7d056756a45c1170d07756a0863e">ospf6_lsdb_delete</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ae027726d4952b94fd753b700bd4b7dee">lsack_list</a>);

  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a9ad2b87db5f53544c260a3fa073ee214">inactivity_timer</a>);

  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>);
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a645f58ca5b6b428ae7ae616bc4781f51">thread_send_lsreq</a>);
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e6540e3ce6bd90bc1603a529648a86">thread_send_lsupdate</a>);
  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a3efe4e76725c8138916061f7fbeccd0b">thread_send_lsack</a>);

  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba2f09388f36f20f8e72133d0b0da91245">MTYPE_OSPF6_NEIGHBOR</a>, on);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa47557f3758ddb02c9806fb4feef2d10"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_init" ref="aa47557f3758ddb02c9806fb4feef2d10" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_neighbor_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00842">842</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;show_ipv6_ospf6_neighbor_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;show_ipv6_ospf6_neighbor_detail_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;show_ipv6_ospf6_neighbor_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;show_ipv6_ospf6_neighbor_detail_cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4b081b7bf89453a1d197bd4ccd21fb14"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_lookup" ref="a4b081b7bf89453a1d197bd4ccd21fb14" args="(u_int32_t router_id, struct ospf6_interface *oi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a>* ospf6_neighbor_lookup </td>
          <td>(</td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>router_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__interface.html">ospf6_interface</a> *&#160;</td>
          <td class="paramname"><em>oi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00058">58</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;

  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (oi-&gt;<a class="code" href="structospf6__interface.html#ada404f0a64a2f3783445fdf2c2dccf6d">neighbor_list</a>, n, on))
    <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a> == <a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>)
      <span class="keywordflow">return</span> on;
  
  <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5bfa25d1f1fc1931421f7fadb9d89b05"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_show" ref="a5bfa25d1f1fc1931421f7fadb9d89b05" args="(struct vty *vty, struct ospf6_neighbor *on)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_neighbor_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *&#160;</td>
          <td class="paramname"><em>on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00555">555</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> <a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>[16];
  <span class="keywordtype">char</span> duration[16];
  <span class="keyword">struct </span>timeval now, res;
  <span class="keywordtype">char</span> nstate[16];
  <span class="keywordtype">char</span> deadtime[16];
  <span class="keywordtype">long</span> h, <a class="code" href="spgrid_8c.html#a5175b356eac1d83a42608b42a25d00b9">m</a>, <a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>;

  <span class="comment">/* Router-ID (Name) */</span>
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>, router_id, sizeof (router_id));
<span class="preprocessor">#ifdef HAVE_GETNAMEINFO</span>
<span class="preprocessor"></span>  {
  }
<span class="preprocessor">#endif </span><span class="comment">/*HAVE_GETNAMEINFO*/</span>

  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now);

  <span class="comment">/* Dead time */</span>
  h = m = s = 0;
  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a9ad2b87db5f53544c260a3fa073ee214">inactivity_timer</a>)
    {
      s = on-&gt;<a class="code" href="structospf6__neighbor.html#a9ad2b87db5f53544c260a3fa073ee214">inactivity_timer</a>-&gt;<a class="code" href="structthread.html#abc1b9676415f5150d5b49e7654d4cb27">u</a>.<a class="code" href="structthread.html#aa2f8884c80d14c6a3be307dd1f08671a">sands</a>.tv_sec - <a class="code" href="thread_8c.html#a010d58e49a3c74ae856d5cd111f7eb62">recent_relative_time</a>().tv_sec;
      h = s / 3600;
      s -= h * 3600;
      m = s / 60;
      s -= m * 60;
    }
  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (deadtime, <span class="keyword">sizeof</span> (deadtime), <span class="stringliteral">&quot;%02ld:%02ld:%02ld&quot;</span>, h, m, s);

  <span class="comment">/* Neighbor State */</span>
  <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a61aed2ccc7ec47d6822546664ea77f0c">if_is_pointopoint</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#ab77617d3c7c82e25b6c035d9e1856c22">interface</a>))
    <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (nstate, <span class="keyword">sizeof</span> (nstate), <span class="stringliteral">&quot;PointToPoint&quot;</span>);
  <span class="keywordflow">else</span>
    {
      <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a> == on-&gt;<a class="code" href="structospf6__neighbor.html#a71a9a7c78bf284d3b6ccf019d5724bc4">drouter</a>)
        <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (nstate, <span class="keyword">sizeof</span> (nstate), <span class="stringliteral">&quot;DR&quot;</span>);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a> == on-&gt;<a class="code" href="structospf6__neighbor.html#a51bfd494bc8b93c40f6645d8e0fb4223">bdrouter</a>)
        <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (nstate, <span class="keyword">sizeof</span> (nstate), <span class="stringliteral">&quot;BDR&quot;</span>);
      <span class="keywordflow">else</span>
        <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (nstate, <span class="keyword">sizeof</span> (nstate), <span class="stringliteral">&quot;DROther&quot;</span>);
    }

  <span class="comment">/* Duration */</span>
  <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;now, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a1c30326f637c12728614900461641df6">last_changed</a>, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));

  <span class="comment">/*</span>
<span class="comment">  vty_out (vty, &quot;%-15s %3d %11s %6s/%-12s %11s %s[%s]%s&quot;,</span>
<span class="comment">           &quot;Neighbor ID&quot;, &quot;Pri&quot;, &quot;DeadTime&quot;, &quot;State&quot;, &quot;&quot;, &quot;Duration&quot;,</span>
<span class="comment">           &quot;I/F&quot;, &quot;State&quot;, VNL);</span>
<span class="comment">  */</span>

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-15s %3d %11s %6s/%-12s %11s %s[%s]%s&quot;</span>,
           router_id, on-&gt;<a class="code" href="structospf6__neighbor.html#a9035e4443ced9c02caef273c1375c1a7">priority</a>, deadtime,
           <a class="code" href="ospf6__neighbor_8c.html#aee78e9afc46a9acd2c77382df5760c03">ospf6_neighbor_state_str</a>[on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a>], nstate, duration,
           on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#ab77617d3c7c82e25b6c035d9e1856c22">interface</a>-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>,
           <a class="code" href="ospf6__interface_8c.html#ae87e59ecae5232da2543307cd88795b8">ospf6_interface_state_str</a>[on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#aafdfe7c67c1ff540201718b688e0a15b">state</a>], <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0c0d6ec7b78435238e3ce6c566d7281c"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_show_detail" ref="a0c0d6ec7b78435238e3ce6c566d7281c" args="(struct vty *vty, struct ospf6_neighbor *on)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_neighbor_show_detail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *&#160;</td>
          <td class="paramname"><em>on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00645">645</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> drouter[16], bdrouter[16];
  <span class="keywordtype">char</span> linklocal_addr[64], duration[32];
  <span class="keyword">struct </span>timeval now, res;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;

  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a2b28434ae3a26d2a1e10fc30d4384920">linklocal_addr</a>, linklocal_addr,
             sizeof (linklocal_addr));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a71a9a7c78bf284d3b6ccf019d5724bc4">drouter</a>, drouter, sizeof (drouter));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a51bfd494bc8b93c40f6645d8e0fb4223">bdrouter</a>, bdrouter, sizeof (bdrouter));

  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now);
  <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;now, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a1c30326f637c12728614900461641df6">last_changed</a>, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; Neighbor %s%s&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Area %s via interface %s (ifindex %d)%s&quot;</span>,
           on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#a4f6cfeea2ecb9f163edd02b78f79294d">area</a>-&gt;<a class="code" href="structospf6__area.html#a24bd4ccc38c4e10de1b66b2d0cf885cf">name</a>,
           on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#ab77617d3c7c82e25b6c035d9e1856c22">interface</a>-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>,
           on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#ab77617d3c7c82e25b6c035d9e1856c22">interface</a>-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    His IfIndex: %d Link-local address: %s%s&quot;</span>,
           on-&gt;<a class="code" href="structospf6__neighbor.html#a730cf0c52d900626513c59975ff6dd0b">ifindex</a>, linklocal_addr,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    State %s for a duration of %s%s&quot;</span>,
           <a class="code" href="ospf6__neighbor_8c.html#aee78e9afc46a9acd2c77382df5760c03">ospf6_neighbor_state_str</a>[on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a>], duration,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    His choice of DR/BDR %s/%s, Priority %d%s&quot;</span>,
           drouter, bdrouter, on-&gt;<a class="code" href="structospf6__neighbor.html#a9035e4443ced9c02caef273c1375c1a7">priority</a>,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    DbDesc status: %s%s%s SeqNum: %#lx%s&quot;</span>,
           (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a1de1fec9c59c8037fa5f6cb5f8bf35cb">OSPF6_DBDESC_IBIT</a>) ? <span class="stringliteral">&quot;Initial &quot;</span> : <span class="stringliteral">&quot;&quot;</span>),
           (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a6b4ff9c565893a42ee04d66d477b0802">OSPF6_DBDESC_MBIT</a>) ? <span class="stringliteral">&quot;More &quot;</span> : <span class="stringliteral">&quot;&quot;</span>),
           (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#aca7fe538d9edb962ca47fbeec7e4bf6b">OSPF6_DBDESC_MSBIT</a>) ?
            <span class="stringliteral">&quot;Master&quot;</span> : <span class="stringliteral">&quot;Slave&quot;</span>), (u_long) ntohl (on-&gt;<a class="code" href="structospf6__neighbor.html#ac1d6bfb88eaad876f48cbda9787f617b">dbdesc_seqnum</a>),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Summary-List: %d LSAs%s&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a>,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;      %s%s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Request-List: %d LSAs%s&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a>,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;      %s%s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    Retrans-List: %d LSAs%s&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a>,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;      %s%s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="ospf6d_8h.html#ae2deebfe12865cbf45eaafd29882106d">timerclear</a> (&amp;res);
  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>)
    <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>-&gt;<a class="code" href="structthread.html#abc1b9676415f5150d5b49e7654d4cb27">u</a>.<a class="code" href="structthread.html#aa2f8884c80d14c6a3be307dd1f08671a">sands</a>, &amp;now, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %d Pending LSAs for DbDesc in Time %s [thread %s]%s&quot;</span>,
           on-&gt;<a class="code" href="structospf6__neighbor.html#a6f48add846713a088741ffa99ad6b1e6">dbdesc_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a>, duration,
           (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a> ? <span class="stringliteral">&quot;on&quot;</span> : <span class="stringliteral">&quot;off&quot;</span>),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6f48add846713a088741ffa99ad6b1e6">dbdesc_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;      %s%s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="ospf6d_8h.html#ae2deebfe12865cbf45eaafd29882106d">timerclear</a> (&amp;res);
  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a645f58ca5b6b428ae7ae616bc4781f51">thread_send_lsreq</a>)
    <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a645f58ca5b6b428ae7ae616bc4781f51">thread_send_lsreq</a>-&gt;<a class="code" href="structthread.html#abc1b9676415f5150d5b49e7654d4cb27">u</a>.<a class="code" href="structthread.html#aa2f8884c80d14c6a3be307dd1f08671a">sands</a>, &amp;now, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %d Pending LSAs for LSReq in Time %s [thread %s]%s&quot;</span>,
           on-&gt;<a class="code" href="structospf6__neighbor.html#a006c1039e7be2c1dc1509accfa39634a">lsreq_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a>, duration,
           (on-&gt;<a class="code" href="structospf6__neighbor.html#a645f58ca5b6b428ae7ae616bc4781f51">thread_send_lsreq</a> ? <span class="stringliteral">&quot;on&quot;</span> : <span class="stringliteral">&quot;off&quot;</span>),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a006c1039e7be2c1dc1509accfa39634a">lsreq_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;      %s%s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="ospf6d_8h.html#ae2deebfe12865cbf45eaafd29882106d">timerclear</a> (&amp;res);
  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e6540e3ce6bd90bc1603a529648a86">thread_send_lsupdate</a>)
    <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e6540e3ce6bd90bc1603a529648a86">thread_send_lsupdate</a>-&gt;<a class="code" href="structthread.html#abc1b9676415f5150d5b49e7654d4cb27">u</a>.<a class="code" href="structthread.html#aa2f8884c80d14c6a3be307dd1f08671a">sands</a>, &amp;now, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %d Pending LSAs for LSUpdate in Time %s [thread %s]%s&quot;</span>,
           on-&gt;<a class="code" href="structospf6__neighbor.html#ac3f142375bf4e9e7c8e54daed55b4ca4">lsupdate_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a>, duration,
           (on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e6540e3ce6bd90bc1603a529648a86">thread_send_lsupdate</a> ? <span class="stringliteral">&quot;on&quot;</span> : <span class="stringliteral">&quot;off&quot;</span>),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac3f142375bf4e9e7c8e54daed55b4ca4">lsupdate_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;      %s%s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="ospf6d_8h.html#ae2deebfe12865cbf45eaafd29882106d">timerclear</a> (&amp;res);
  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a3efe4e76725c8138916061f7fbeccd0b">thread_send_lsack</a>)
    <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a3efe4e76725c8138916061f7fbeccd0b">thread_send_lsack</a>-&gt;<a class="code" href="structthread.html#abc1b9676415f5150d5b49e7654d4cb27">u</a>.<a class="code" href="structthread.html#aa2f8884c80d14c6a3be307dd1f08671a">sands</a>, &amp;now, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %d Pending LSAs for LSAck in Time %s [thread %s]%s&quot;</span>,
           on-&gt;<a class="code" href="structospf6__neighbor.html#ae027726d4952b94fd753b700bd4b7dee">lsack_list</a>-&gt;<a class="code" href="structospf6__lsdb.html#aa9c852db97e2303379eacb9f82dfe456">count</a>, duration,
           (on-&gt;<a class="code" href="structospf6__neighbor.html#a3efe4e76725c8138916061f7fbeccd0b">thread_send_lsack</a> ? <span class="stringliteral">&quot;on&quot;</span> : <span class="stringliteral">&quot;off&quot;</span>),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ae027726d4952b94fd753b700bd4b7dee">lsack_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;      %s%s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

}
</pre></div>
</div>
</div>
<a class="anchor" id="aa439923ed9d1d8502a154afd712ceeac"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_show_drchoice" ref="aa439923ed9d1d8502a154afd712ceeac" args="(struct vty *vty, struct ospf6_neighbor *on)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_neighbor_show_drchoice </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *&#160;</td>
          <td class="paramname"><em>on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00616">616</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> router_id[16];
  <span class="keywordtype">char</span> drouter[16], bdrouter[16];
  <span class="keywordtype">char</span> duration[16];
  <span class="keyword">struct </span>timeval now, res;

<span class="comment">/*</span>
<span class="comment">    vty_out (vty, &quot;%-15s %6s/%-11s %-15s %-15s %s[%s]%s&quot;,</span>
<span class="comment">             &quot;RouterID&quot;, &quot;State&quot;, &quot;Duration&quot;, &quot;DR&quot;, &quot;BDR&quot;, &quot;I/F&quot;,</span>
<span class="comment">             &quot;State&quot;, VNL);</span>
<span class="comment">*/</span>

  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#ac7e3045fcc29c1083d1b638fd64e07e0">router_id</a>, router_id, sizeof (router_id));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a71a9a7c78bf284d3b6ccf019d5724bc4">drouter</a>, drouter, sizeof (drouter));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a51bfd494bc8b93c40f6645d8e0fb4223">bdrouter</a>, bdrouter, sizeof (bdrouter));

  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now);
  <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;now, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a1c30326f637c12728614900461641df6">last_changed</a>, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-15s %6s/%-11s %-15s %-15s %s[%s]%s&quot;</span>,
           router_id, <a class="code" href="ospf6__neighbor_8c.html#aee78e9afc46a9acd2c77382df5760c03">ospf6_neighbor_state_str</a>[on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a>],
           duration, drouter, bdrouter, on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#ab77617d3c7c82e25b6c035d9e1856c22">interface</a>-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>,
           <a class="code" href="ospf6__interface_8c.html#ae87e59ecae5232da2543307cd88795b8">ospf6_interface_state_str</a>[on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#aafdfe7c67c1ff540201718b688e0a15b">state</a>],
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a41337353968ccea0e022f56e59e61fba"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_state_change" ref="a41337353968ccea0e022f56e59e61fba" args="(u_char next_state, struct ospf6_neighbor *on)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_neighbor_state_change </td>
          <td>(</td>
          <td class="paramtype">u_char&#160;</td>
          <td class="paramname"><em>next_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__neighbor.html">ospf6_neighbor</a> *&#160;</td>
          <td class="paramname"><em>on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00147">147</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_char prev_state;

  prev_state = on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a>;
  on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> = <a class="code" href="bgp__fsm_8c.html#ac0c302bc97f010b7f5965faa07b00354">next_state</a>;

  <span class="keywordflow">if</span> (prev_state == <a class="code" href="bgp__fsm_8c.html#ac0c302bc97f010b7f5965faa07b00354">next_state</a>)
    <span class="keywordflow">return</span>;

  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;on-&gt;<a class="code" href="structospf6__neighbor.html#a1c30326f637c12728614900461641df6">last_changed</a>);

  <span class="comment">/* log */</span>
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (STATE))
    {
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor state change %s: [%s]-&gt;[%s]&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>,
          <a class="code" href="ospf6__neighbor_8c.html#aee78e9afc46a9acd2c77382df5760c03">ospf6_neighbor_state_str</a>[prev_state],
          <a class="code" href="ospf6__neighbor_8c.html#aee78e9afc46a9acd2c77382df5760c03">ospf6_neighbor_state_str</a>[<a class="code" href="bgp__fsm_8c.html#ac0c302bc97f010b7f5965faa07b00354">next_state</a>]);
    }

  <span class="keywordflow">if</span> (prev_state == <a class="code" href="ospf6__neighbor_8h.html#aae1490b2e9d8ca36df8b2127dcc289c1">OSPF6_NEIGHBOR_FULL</a> || <a class="code" href="bgp__fsm_8c.html#ac0c302bc97f010b7f5965faa07b00354">next_state</a> == <a class="code" href="ospf6__neighbor_8h.html#aae1490b2e9d8ca36df8b2127dcc289c1">OSPF6_NEIGHBOR_FULL</a>)
    {
      <a class="code" href="ospf6__intra_8h.html#ab8e4a09ea2a5ce941594dc24d6165519">OSPF6_ROUTER_LSA_SCHEDULE</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#a4f6cfeea2ecb9f163edd02b78f79294d">area</a>);
      <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#aafdfe7c67c1ff540201718b688e0a15b">state</a> == <a class="code" href="ospf6__interface_8h.html#ad83f536f4674c165d7f393d28f087843">OSPF6_INTERFACE_DR</a>)
        {
          <a class="code" href="ospf6__intra_8h.html#aa9749144d232f3aa259fe687e54803aa">OSPF6_NETWORK_LSA_SCHEDULE</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>);
          <a class="code" href="ospf6__intra_8h.html#af1bf24203358733b7eae1c1426dd1849">OSPF6_INTRA_PREFIX_LSA_SCHEDULE_TRANSIT</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>);
        }
      <a class="code" href="ospf6__intra_8h.html#a57780a151b320e30333bb76d55f71ad7">OSPF6_INTRA_PREFIX_LSA_SCHEDULE_STUB</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#a4f6cfeea2ecb9f163edd02b78f79294d">area</a>);
    }

  <span class="keywordflow">if</span> ((prev_state == <a class="code" href="ospf6__neighbor_8h.html#afa0419c15460d1d703d2b3cfa7859984">OSPF6_NEIGHBOR_EXCHANGE</a> ||
       prev_state == <a class="code" href="ospf6__neighbor_8h.html#aa50b6edd6d1268220ae4e13b2fef14e8">OSPF6_NEIGHBOR_LOADING</a>) &amp;&amp;
      (<a class="code" href="bgp__fsm_8c.html#ac0c302bc97f010b7f5965faa07b00354">next_state</a> != <a class="code" href="ospf6__neighbor_8h.html#afa0419c15460d1d703d2b3cfa7859984">OSPF6_NEIGHBOR_EXCHANGE</a> &amp;&amp;
       <a class="code" href="bgp__fsm_8c.html#ac0c302bc97f010b7f5965faa07b00354">next_state</a> != <a class="code" href="ospf6__neighbor_8h.html#aa50b6edd6d1268220ae4e13b2fef14e8">OSPF6_NEIGHBOR_LOADING</a>))
    <a class="code" href="ospf6__top_8c.html#a0f863937b01896d48b1756f169fb0e19">ospf6_maxage_remove</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>-&gt;<a class="code" href="structospf6__interface.html#a4f6cfeea2ecb9f163edd02b78f79294d">area</a>-&gt;<a class="code" href="structospf6__area.html#a86562db489ba46500cda50f4fa646c69">ospf6</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8e494687f908a9f68e057d004d988490"></a><!-- doxytag: member="ospf6_neighbor.c::seqnumber_mismatch" ref="a8e494687f908a9f68e057d004d988490" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int seqnumber_mismatch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00420">420</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> &lt; <a class="code" href="ospf6__neighbor_8h.html#afa0419c15460d1d703d2b3cfa7859984">OSPF6_NEIGHBOR_EXCHANGE</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *SeqNumberMismatch*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#a127b580f45ab0c59d908b0a07c8b4574">OSPF6_NEIGHBOR_EXSTART</a>, on);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#aca7fe538d9edb962ca47fbeec7e4bf6b">OSPF6_DBDESC_MSBIT</a>);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a6b4ff9c565893a42ee04d66d477b0802">OSPF6_DBDESC_MBIT</a>);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a1de1fec9c59c8037fa5f6cb5f8bf35cb">OSPF6_DBDESC_IBIT</a>);

  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a10465c504ad56aefb723065acddc0b34">summary_list</a>);
  <a class="code" href="ospf6__lsdb_8c.html#afe227d03e9560c745dd0ba9a901875b0">ospf6_lsdb_remove_all</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1e0692790f663381e86374ed0e829f95">request_list</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#ab9d15a52a7be50c379748fe7ba91251f">ospf6_lsdb_head</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a7fccfd842f6c1849beb8237ccca195d0">ospf6_lsdb_next</a> (lsa))
    {
      <a class="code" href="ospf6__flood_8c.html#a6bee3a2ba460b276a55915e4f96dae62">ospf6_decrement_retrans_count</a> (lsa);
      <a class="code" href="ospf6__lsdb_8c.html#a57848d384aafd619bd84c654fb9ed146">ospf6_lsdb_remove</a> (lsa, on-&gt;<a class="code" href="structospf6__neighbor.html#a6e96ad2f82d2741e769bc179d35e583f">retrans_list</a>);
    }

  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>);
  on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a> =
    <a class="code" href="thread_8h.html#a1067157ad59ad46f29bf87158dffc3de">thread_add_event</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__message_8c.html#a42f57245d02e4581ca30fd1e5fc9a533">ospf6_dbdesc_send</a>, on, 0);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1a46499f13697058c4433ef7e3d12645"></a><!-- doxytag: member="ospf6_neighbor.c::twoway_received" ref="a1a46499f13697058c4433ef7e3d12645" args="(struct thread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int twoway_received </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00224">224</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *on;

  on = (<span class="keyword">struct </span><a class="code" href="structospf6__neighbor.html">ospf6_neighbor</a> *) <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (thread);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (on);

  <span class="keywordflow">if</span> (on-&gt;<a class="code" href="structospf6__neighbor.html#a4c749b4db801c300f6b11b0340a37600">state</a> &gt; <a class="code" href="ospf6__neighbor_8h.html#aafc5ff11ba1a9aafe6a27792d1137a7e">OSPF6_NEIGHBOR_INIT</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__neighbor_8h.html#a4b979a47d7816762a04fe6d375f23301">IS_OSPF6_DEBUG_NEIGHBOR</a> (EVENT))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Neighbor Event %s: *2Way-Received*&quot;</span>, on-&gt;<a class="code" href="structospf6__neighbor.html#aa0ccec2f7b9c56628ce2e4a0bc37d463">name</a>);

  <a class="code" href="thread_8h.html#a1067157ad59ad46f29bf87158dffc3de">thread_add_event</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__interface_8c.html#afe0e883750ee5ad5f90ba39754467407">neighbor_change</a>, on-&gt;<a class="code" href="structospf6__neighbor.html#af9f1a59e8aba26ea269d4423980af20b">ospf6_if</a>, 0);

  <span class="keywordflow">if</span> (! <a class="code" href="ospf6__neighbor_8c.html#a1acc964c73d901df9a9958319aa888c0">need_adjacency</a> (on))
    {
      <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#afc191d3ebf67c52c9c2a8bb13979f915">OSPF6_NEIGHBOR_TWOWAY</a>, on);
      <span class="keywordflow">return</span> 0;
    }

  <a class="code" href="ospf6__neighbor_8c.html#a41337353968ccea0e022f56e59e61fba">ospf6_neighbor_state_change</a> (<a class="code" href="ospf6__neighbor_8h.html#a127b580f45ab0c59d908b0a07c8b4574">OSPF6_NEIGHBOR_EXSTART</a>, on);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#aca7fe538d9edb962ca47fbeec7e4bf6b">OSPF6_DBDESC_MSBIT</a>);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a6b4ff9c565893a42ee04d66d477b0802">OSPF6_DBDESC_MBIT</a>);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#ac15b90e0b312bdbd6fe1c95b1008b52a">dbdesc_bits</a>, <a class="code" href="ospf6__message_8h.html#a1de1fec9c59c8037fa5f6cb5f8bf35cb">OSPF6_DBDESC_IBIT</a>);

  <a class="code" href="thread_8h.html#a7e1de4fc338e4feae498978461742dbb">THREAD_OFF</a> (on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a>);
  on-&gt;<a class="code" href="structospf6__neighbor.html#a1a4c0c39a774eea8cd35f2f4d96f77b6">thread_send_dbdesc</a> =
    <a class="code" href="thread_8h.html#a1067157ad59ad46f29bf87158dffc3de">thread_add_event</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf6__message_8c.html#a42f57245d02e4581ca30fd1e5fc9a533">ospf6_dbdesc_send</a>, on, 0);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a230534bdd1c87d7859a3c1e427e9dc7b"></a><!-- doxytag: member="ospf6_neighbor.c::conf_debug_ospf6_neighbor" ref="a230534bdd1c87d7859a3c1e427e9dc7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="ospf6__neighbor_8h.html#a230534bdd1c87d7859a3c1e427e9dc7b">conf_debug_ospf6_neighbor</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00043">43</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>

</div>
</div>
<a class="anchor" id="aee78e9afc46a9acd2c77382df5760c03"></a><!-- doxytag: member="ospf6_neighbor.c::ospf6_neighbor_state_str" ref="aee78e9afc46a9acd2c77382df5760c03" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="ospf6__neighbor_8h.html#aee78e9afc46a9acd2c77382df5760c03">ospf6_neighbor_state_str</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{ <span class="stringliteral">&quot;None&quot;</span>, <span class="stringliteral">&quot;Down&quot;</span>, <span class="stringliteral">&quot;Attempt&quot;</span>, <span class="stringliteral">&quot;Init&quot;</span>, <span class="stringliteral">&quot;Twoway&quot;</span>, <span class="stringliteral">&quot;ExStart&quot;</span>, <span class="stringliteral">&quot;ExChange&quot;</span>,
  <span class="stringliteral">&quot;Loading&quot;</span>, <span class="stringliteral">&quot;Full&quot;</span>, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> }
</pre></div>
<p>Definition at line <a class="el" href="ospf6__neighbor_8c_source.html#l00045">45</a> of file <a class="el" href="ospf6__neighbor_8c_source.html">ospf6_neighbor.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ospf6__neighbor_8c.html">ospf6_neighbor.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:27 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
