<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: ospf6d/ospf6_zebra.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ospf6__zebra_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ospf6d/ospf6_zebra.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vty_8h_source.html">vty.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="prefix_8h_source.html">prefix.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="stream_8h_source.html">stream.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="zclient_8h_source.html">zclient.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__proto_8h_source.html">ospf6_proto.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__top_8h_source.html">ospf6_top.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__interface_8h_source.html">ospf6_interface.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__route_8h_source.html">ospf6_route.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsa_8h_source.html">ospf6_lsa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsdb_8h_source.html">ospf6_lsdb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__asbr_8h_source.html">ospf6_asbr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__zebra_8h_source.html">ospf6_zebra.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6d_8h_source.html">ospf6d.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ospf6_zebra.c:</div>
<div class="dyncontent">
<div class="center"><img src="ospf6__zebra_8c__incl.png" border="0" usemap="#ospf6d_2ospf6__zebra_8c" alt=""/></div>
<map name="ospf6d_2ospf6__zebra_8c" id="ospf6d_2ospf6__zebra_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1385,80,1452,107"/><area shape="rect" id="node61" href="log_8h.html" title="log.h" alt="" coords="2773,229,2824,256"/><area shape="rect" id="node64" href="vty_8h.html" title="vty.h" alt="" coords="2849,155,2900,181"/><area shape="rect" id="node69" href="command_8h.html" title="command.h" alt="" coords="2906,80,2997,107"/><area shape="rect" id="node76" href="prefix_8h.html" title="prefix.h" alt="" coords="3181,155,3248,181"/><area shape="rect" id="node80" href="stream_8h.html" title="stream.h" alt="" coords="3023,80,3097,107"/><area shape="rect" id="node83" href="zclient_8h.html" title="zclient.h" alt="" coords="4175,155,4247,181"/><area shape="rect" id="node85" href="memory_8h.html" title="memory.h" alt="" coords="3303,80,3385,107"/><area shape="rect" id="node87" href="ospf6__proto_8h.html" title="ospf6_proto.h" alt="" coords="3409,80,3516,107"/><area shape="rect" id="node89" href="ospf6__top_8h.html" title="ospf6_top.h" alt="" coords="3541,80,3635,107"/><area shape="rect" id="node91" href="ospf6__interface_8h.html" title="ospf6_interface.h" alt="" coords="3659,80,3785,107"/><area shape="rect" id="node93" href="ospf6__route_8h.html" title="ospf6_route.h" alt="" coords="3172,80,3279,107"/><area shape="rect" id="node96" href="ospf6__lsa_8h.html" title="ospf6_lsa.h" alt="" coords="3935,80,4025,107"/><area shape="rect" id="node98" href="ospf6__lsdb_8h.html" title="ospf6_lsdb.h" alt="" coords="3810,80,3909,107"/><area shape="rect" id="node101" href="ospf6__asbr_8h.html" title="ospf6_asbr.h" alt="" coords="4181,80,4280,107"/><area shape="rect" id="node103" href="ospf6__zebra_8h.html" title="ospf6_zebra.h" alt="" coords="4049,80,4156,107"/><area shape="rect" id="node106" href="ospf6d_8h.html" title="ospf6d.h" alt="" coords="4356,80,4431,107"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="2084,155,2161,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="2186,155,2235,181"/><area shape="rect" id="node66" href="thread_8h.html" title="thread.h" alt="" coords="2849,229,2921,256"/><area shape="rect" id="node71" href="vector_8h.html" title="vector.h" alt="" coords="2925,155,2997,181"/><area shape="rect" id="node74" href="route__types_8h.html" title="lib/route_types.h" alt="" coords="3022,155,3145,181"/><area shape="rect" id="node78" href="sockunion_8h.html" title="sockunion.h" alt="" coords="3168,229,3261,256"/></map>
</div>
</div>
<p><a href="ospf6__zebra_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a97fe5470fb1ac167c713671655ff3e52">ADD</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a4c0be4e2e15f7167f711d5769b01a049">REM</a>&#160;&#160;&#160;1</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a36dbf4a270686d8962163e7aefee2d90">ospf6_router_id_update_zebra</a> (int command, struct <a class="el" href="structzclient.html">zclient</a> *<a class="el" href="structzclient.html">zclient</a>, <a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a> <a class="el" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a28fc16a34b5090b29a8a4dfd54ba92db">ospf6_zebra_redistribute</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#ac66ef0344e427d1c3be675085198347f">ospf6_zebra_no_redistribute</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#aea895fdb8c6840dd2592eaa9360b8d37">ospf6_zebra_if_add</a> (int command, struct <a class="el" href="structzclient.html">zclient</a> *<a class="el" href="structzclient.html">zclient</a>, <a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a> <a class="el" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#ab1e3f78bd8490197a1aee852e95bdcda">ospf6_zebra_if_del</a> (int command, struct <a class="el" href="structzclient.html">zclient</a> *<a class="el" href="structzclient.html">zclient</a>, <a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a> <a class="el" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#aff34bd3ad49a0b8d9e823fb3190e3462">ospf6_zebra_if_state_update</a> (int command, struct <a class="el" href="structzclient.html">zclient</a> *<a class="el" href="structzclient.html">zclient</a>, <a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a> <a class="el" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a64d24f807dfb14d8e817b008b76abfc7">ospf6_zebra_if_address_update_add</a> (int command, struct <a class="el" href="structzclient.html">zclient</a> *<a class="el" href="structzclient.html">zclient</a>, <a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a> <a class="el" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a08e394300bbe26852dd32804a5209042">ospf6_zebra_if_address_update_delete</a> (int command, struct <a class="el" href="structzclient.html">zclient</a> *<a class="el" href="structzclient.html">zclient</a>, <a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a> <a class="el" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a558e8c04db945571fc9ed104accad4b1">ospf6_zebra_read_ipv6</a> (int command, struct <a class="el" href="structzclient.html">zclient</a> *<a class="el" href="structzclient.html">zclient</a>, <a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a> <a class="el" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a2c05b8c97515b8c8cb1daa43e83d3619">DEFUN</a> (show_zebra, show_zebra_cmd,&quot;show <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;, SHOW_STR&quot;Zebra information\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a7416b744aaac2eb65e774170baa811ea">DEFUN</a> (router_zebra, router_zebra_cmd,&quot;router <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;,&quot;Enable a routing process\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Make connection to <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a> <a class="el" href="structdaemon.html">daemon</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a412979182e4b5198f37a3d7c632cdb89">DEFUN</a> (no_router_zebra, no_router_zebra_cmd,&quot;no router <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;, NO_STR&quot;Configure routing process\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Disable connection to <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a> <a class="el" href="structdaemon.html">daemon</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a7b9df7b480e7820c6b48e94412a9e871">config_write_ospf6_zebra</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a2b400180abaf1848f4ae6bd70d9f4276">ospf6_zebra_route_update</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, struct <a class="el" href="structospf6__route.html">ospf6_route</a> *request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#adcf0815d46c5bb8c7b7147fcca711468">ospf6_zebra_route_update_add</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#abd2654bb97cf702df7ab692eff8edfa2">ospf6_zebra_route_update_remove</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a8b659a5ae0b62e5ed2f285cf47a53ca9">DEFUN</a> (redistribute_ospf6, redistribute_ospf6_cmd,&quot;redistribute <a class="el" href="structospf6.html">ospf6</a>&quot;,&quot;Redistribute control\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a73df6a72d698708ea772b30cb8220ef0">DEFUN</a> (no_redistribute_ospf6, no_redistribute_ospf6_cmd,&quot;no redistribute <a class="el" href="structospf6.html">ospf6</a>&quot;, NO_STR&quot;Redistribute control\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a85a70eaa85cf71f96aea213861cae97d">ospf6_zebra_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a1822ba638ac03de78d010578c529b513">DEFUN</a> (debug_ospf6_zebra_sendrecv, debug_ospf6_zebra_sendrecv_cmd,&quot;debug <a class="el" href="structospf6.html">ospf6</a> <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a> (send|recv)&quot;, DEBUG_STR OSPF6_STR&quot;Debug connection between <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug Sending <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug Receiving <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a4423a12440a5d8ad504255ec60c17d47">ALIAS</a> (debug_ospf6_zebra_sendrecv, debug_ospf6_zebra_cmd,&quot;debug <a class="el" href="structospf6.html">ospf6</a> <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;, DEBUG_STR OSPF6_STR&quot;Debug connection between <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a91362f07abf2ec0ac2a9542aa7b95fc1">ALIAS</a> (no_debug_ospf6_zebra_sendrecv, no_debug_ospf6_zebra_cmd,&quot;no debug <a class="el" href="structospf6.html">ospf6</a> <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug connection between <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a7ecd9c2bb234a3e7c05665f98396ae34">install_element_ospf6_debug_zebra</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a83c447fc2d1bf33fcee8141e092151e3">conf_debug_ospf6_zebra</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structzclient.html">zclient</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#abe1502972ba9aa40adc080e419c496bf">zclient</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct in_addr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a5ff73fe88ce576fe7fc3877984367add">router_id_zebra</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcmd__node.html">cmd_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__zebra_8c.html#a6683c482f9e771c44b2279e90606739e">zebra_node</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a97fe5470fb1ac167c713671655ff3e52"></a><!-- doxytag: member="ospf6_zebra.c::ADD" ref="a97fe5470fb1ac167c713671655ff3e52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00345">345</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4c0be4e2e15f7167f711d5769b01a049"></a><!-- doxytag: member="ospf6_zebra.c::REM" ref="a4c0be4e2e15f7167f711d5769b01a049" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REM&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00346">346</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4423a12440a5d8ad504255ec60c17d47"></a><!-- doxytag: member="ospf6_zebra.c::ALIAS" ref="a4423a12440a5d8ad504255ec60c17d47" args="(debug_ospf6_zebra_sendrecv, debug_ospf6_zebra_cmd,&quot;debug ospf6 zebra&quot;, DEBUG_STR OSPF6_STR&quot;Debug connection between zebra\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALIAS </td>
          <td>(</td>
          <td class="paramtype">debug_ospf6_zebra_sendrecv&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">debug_ospf6_zebra_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;debug <a class="el" href="structospf6.html">ospf6</a> <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEBUG_STR OSPF6_STR&quot;Debug connection between <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00621">621</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> level = 0;

  <span class="keywordflow">if</span> (argc)
    {
      <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;s&quot;</span>, 1))
        level = <a class="code" href="ospf6__zebra_8h.html#a9e47158cf4713065a1a6767ab9fd3acf">OSPF6_DEBUG_ZEBRA_SEND</a>;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;r&quot;</span>, 1))
        level = <a class="code" href="ospf6__zebra_8h.html#ab303e9b29581d0ac03cac8397eb90501">OSPF6_DEBUG_ZEBRA_RECV</a>;
    }
  <span class="keywordflow">else</span>
    level = <a class="code" href="ospf6__zebra_8h.html#a9e47158cf4713065a1a6767ab9fd3acf">OSPF6_DEBUG_ZEBRA_SEND</a> | <a class="code" href="ospf6__zebra_8h.html#ab303e9b29581d0ac03cac8397eb90501">OSPF6_DEBUG_ZEBRA_RECV</a>;

  <a class="code" href="ospf6__zebra_8h.html#ac79b5e38970d583a80a97f17602fface">OSPF6_DEBUG_ZEBRA_OFF</a> (level);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a91362f07abf2ec0ac2a9542aa7b95fc1"></a><!-- doxytag: member="ospf6_zebra.c::ALIAS" ref="a91362f07abf2ec0ac2a9542aa7b95fc1" args="(no_debug_ospf6_zebra_sendrecv, no_debug_ospf6_zebra_cmd,&quot;no debug ospf6 zebra&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug connection between zebra\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALIAS </td>
          <td>(</td>
          <td class="paramtype">no_debug_ospf6_zebra_sendrecv&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_debug_ospf6_zebra_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no debug <a class="el" href="structospf6.html">ospf6</a> <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR DEBUG_STR OSPF6_STR&quot;Debug connection between <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00657">657</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>) &amp;&amp; <a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#a5c3976553336476b6fea4108b844ecf2">RECV</a>))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;debug ospf6 zebra%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">else</span>
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>))
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;debug ospf6 zebra send%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#a5c3976553336476b6fea4108b844ecf2">RECV</a>))
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;debug ospf6 zebra recv%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7b9df7b480e7820c6b48e94412a9e871"></a><!-- doxytag: member="ospf6_zebra.c::config_write_ospf6_zebra" ref="a7b9df7b480e7820c6b48e94412a9e871" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int config_write_ospf6_zebra </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00322">322</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (! <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7867dfbcd3b504d2edd22f70ef4277b6">enable</a>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;no router zebra%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;!%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>])
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;router zebra%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; no redistribute ospf6%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;!%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2c05b8c97515b8c8cb1daa43e83d3619"></a><!-- doxytag: member="ospf6_zebra.c::DEFUN" ref="a2c05b8c97515b8c8cb1daa43e83d3619" args="(show_zebra, show_zebra_cmd,&quot;show zebra&quot;, SHOW_STR&quot;Zebra information\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">show_zebra&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">show_zebra_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;show <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SHOW_STR&quot;Zebra information\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00268">268</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Not connected to zebra%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Zebra Infomation%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;  enable: %d fail: %d%s&quot;</span>,
           <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7867dfbcd3b504d2edd22f70ef4277b6">enable</a>, <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#af497cf3a311b3ffc692e874564d99f20">fail</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;  redistribute default: %d%s&quot;</span>, <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c2ac97dd71c8f3a0db036c6c0216208">redist_default</a>,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;  redistribute:&quot;</span>);
  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="zebra_8h.html#aec97442680d773fd62f9af5c9426b842">ZEBRA_ROUTE_MAX</a>; i++)
    {
      <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[i])
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot; %s&quot;</span>, <a class="code" href="log_8c.html#ae87aa85b5b05b120d376956ce5d13444">zebra_route_string</a>(i));
    }
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7416b744aaac2eb65e774170baa811ea"></a><!-- doxytag: member="ospf6_zebra.c::DEFUN" ref="a7416b744aaac2eb65e774170baa811ea" args="(router_zebra, router_zebra_cmd,&quot;router zebra&quot;,&quot;Enable a routing process\n&quot;&quot;Make connection to zebra daemon\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">router_zebra&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">router_zebra_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;router <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Enable a routing process\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Make connection to <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a> <a class="el" href="structdaemon.html">daemon</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00296">296</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682af7fc20f627618eee254477289b890df3">ZEBRA_NODE</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7867dfbcd3b504d2edd22f70ef4277b6">enable</a> = 1;
  <a class="code" href="zclient_8c.html#a9c8f7389bb01919b00e7f95403a3c112">zclient_start</a> (<a class="code" href="structzclient.html">zclient</a>);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a412979182e4b5198f37a3d7c632cdb89"></a><!-- doxytag: member="ospf6_zebra.c::DEFUN" ref="a412979182e4b5198f37a3d7c632cdb89" args="(no_router_zebra, no_router_zebra_cmd,&quot;no router zebra&quot;, NO_STR&quot;Configure routing process\n&quot;&quot;Disable connection to zebra daemon\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_router_zebra&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_router_zebra_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no router <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Configure routing process\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Disable connection to <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a> <a class="el" href="structdaemon.html">daemon</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00308">308</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7867dfbcd3b504d2edd22f70ef4277b6">enable</a> = 0;
  <a class="code" href="zclient_8c.html#a380163204583292d5924050e26a8989d">zclient_stop</a> (<a class="code" href="structzclient.html">zclient</a>);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8b659a5ae0b62e5ed2f285cf47a53ca9"></a><!-- doxytag: member="ospf6_zebra.c::DEFUN" ref="a8b659a5ae0b62e5ed2f285cf47a53ca9" args="(redistribute_ospf6, redistribute_ospf6_cmd,&quot;redistribute ospf6&quot;,&quot;Redistribute control\n&quot;&quot;OSPF6 route\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">redistribute_ospf6&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">redistribute_ospf6_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;redistribute <a class="el" href="structospf6.html">ospf6</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Redistribute control\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00501">501</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>])
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>] = 1;

  <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <span class="comment">/* send ospf6 route to zebra route table */</span>
  <span class="keywordflow">for</span> (route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>); route;
       route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route))
    <a class="code" href="ospf6__zebra_8c.html#adcf0815d46c5bb8c7b7147fcca711468">ospf6_zebra_route_update_add</a> (route);

  <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a> = <a class="code" href="ospf6__zebra_8c.html#adcf0815d46c5bb8c7b7147fcca711468">ospf6_zebra_route_update_add</a>;
  <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>-&gt;<a class="code" href="structospf6__route__table.html#a1c69b4917bafb6ef7a03299b262f0839">hook_remove</a> = <a class="code" href="ospf6__zebra_8c.html#abd2654bb97cf702df7ab692eff8edfa2">ospf6_zebra_route_update_remove</a>;

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a73df6a72d698708ea772b30cb8220ef0"></a><!-- doxytag: member="ospf6_zebra.c::DEFUN" ref="a73df6a72d698708ea772b30cb8220ef0" args="(no_redistribute_ospf6, no_redistribute_ospf6_cmd,&quot;no redistribute ospf6&quot;, NO_STR&quot;Redistribute control\n&quot;&quot;OSPF6 route\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_redistribute_ospf6&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_redistribute_ospf6_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no redistribute <a class="el" href="structospf6.html">ospf6</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Redistribute control\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00528">528</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  <span class="keywordflow">if</span> (! <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>])
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>] = 0;

  <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>-&gt;<a class="code" href="structospf6__route__table.html#a1c69b4917bafb6ef7a03299b262f0839">hook_remove</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* withdraw ospf6 route from zebra route table */</span>
  <span class="keywordflow">for</span> (route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>); route;
       route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route))
    <a class="code" href="ospf6__zebra_8c.html#abd2654bb97cf702df7ab692eff8edfa2">ospf6_zebra_route_update_remove</a> (route);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1822ba638ac03de78d010578c529b513"></a><!-- doxytag: member="ospf6_zebra.c::DEFUN" ref="a1822ba638ac03de78d010578c529b513" args="(debug_ospf6_zebra_sendrecv, debug_ospf6_zebra_sendrecv_cmd,&quot;debug ospf6 zebra (send|recv)&quot;, DEBUG_STR OSPF6_STR&quot;Debug connection between zebra\n&quot;&quot;Debug Sending zebra\n&quot;&quot;Debug Receiving zebra\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">debug_ospf6_zebra_sendrecv&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">debug_ospf6_zebra_sendrecv_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;debug <a class="el" href="structospf6.html">ospf6</a> <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a> (send|recv)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEBUG_STR OSPF6_STR&quot;Debug connection between <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug Sending <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug Receiving <a class="el" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00595">595</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> level = 0;

  <span class="keywordflow">if</span> (argc)
    {
      <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;s&quot;</span>, 1))
        level = <a class="code" href="ospf6__zebra_8h.html#a9e47158cf4713065a1a6767ab9fd3acf">OSPF6_DEBUG_ZEBRA_SEND</a>;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;r&quot;</span>, 1))
        level = <a class="code" href="ospf6__zebra_8h.html#ab303e9b29581d0ac03cac8397eb90501">OSPF6_DEBUG_ZEBRA_RECV</a>;
    }
  <span class="keywordflow">else</span>
    level = <a class="code" href="ospf6__zebra_8h.html#a9e47158cf4713065a1a6767ab9fd3acf">OSPF6_DEBUG_ZEBRA_SEND</a> | <a class="code" href="ospf6__zebra_8h.html#ab303e9b29581d0ac03cac8397eb90501">OSPF6_DEBUG_ZEBRA_RECV</a>;

  <a class="code" href="ospf6__zebra_8h.html#ae2ffd45b7af623a4656ae5f7928efa60">OSPF6_DEBUG_ZEBRA_ON</a> (level);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7ecd9c2bb234a3e7c05665f98396ae34"></a><!-- doxytag: member="ospf6_zebra.c::install_element_ospf6_debug_zebra" ref="a7ecd9c2bb234a3e7c05665f98396ae34" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void install_element_ospf6_debug_zebra </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00682">682</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;debug_ospf6_zebra_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;no_debug_ospf6_zebra_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;debug_ospf6_zebra_sendrecv_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;no_debug_ospf6_zebra_sendrecv_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;debug_ospf6_zebra_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_debug_ospf6_zebra_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;debug_ospf6_zebra_sendrecv_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_debug_ospf6_zebra_sendrecv_cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a36dbf4a270686d8962163e7aefee2d90"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_router_id_update_zebra" ref="a36dbf4a270686d8962163e7aefee2d90" args="(int command, struct zclient *zclient, zebra_size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_router_id_update_zebra </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structzclient.html">zclient</a> *&#160;</td>
          <td class="paramname"><em>zclient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00051">51</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> router_id;
  <span class="keyword">struct </span><a class="code" href="structospf6.html">ospf6</a> *o = <a class="code" href="ospf6__top_8c.html#a8582e616268aaf3087d9c367a5b814be">ospf6</a>;

  <a class="code" href="zclient_8c.html#a6adcd87e46d205582c81673f669067f3">zebra_router_id_update_read</a>(zclient-&gt;<a class="code" href="structzclient.html#a1b9d2a1e869c1008c2bc70d14ce2bf49">ibuf</a>,&amp;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a>);
  <a class="code" href="bgp__vty_8c.html#a5ff73fe88ce576fe7fc3877984367add">router_id_zebra</a> = <a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a>.u.prefix4;

  <span class="keywordflow">if</span> (o == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (o-&gt;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a>  == 0)
    o-&gt;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a> = (u_int32_t) <a class="code" href="bgp__vty_8c.html#a5ff73fe88ce576fe7fc3877984367add">router_id_zebra</a>.s_addr;

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aea895fdb8c6840dd2592eaa9360b8d37"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_if_add" ref="aea895fdb8c6840dd2592eaa9360b8d37" args="(int command, struct zclient *zclient, zebra_size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_zebra_if_add </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structzclient.html">zclient</a> *&#160;</td>
          <td class="paramname"><em>zclient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00092">92</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;

  ifp = <a class="code" href="zclient_8c.html#af2dbed49848c57eaae1185751ec18648">zebra_interface_add_read</a> (zclient-&gt;<a class="code" href="structzclient.html#a1b9d2a1e869c1008c2bc70d14ce2bf49">ibuf</a>);
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#a5c3976553336476b6fea4108b844ecf2">RECV</a>))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra Interface add: %s index %d mtu %d&quot;</span>,
        ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>, ifp-&gt;<a class="code" href="structinterface.html#a75a892a4df0f60191a13ca07b6625cb1">mtu6</a>);
  <a class="code" href="ospf6__interface_8c.html#ab89387542a0c75dbeeeacb2f9104ba5b">ospf6_interface_if_add</a> (ifp);
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a64d24f807dfb14d8e817b008b76abfc7"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_if_address_update_add" ref="a64d24f807dfb14d8e817b008b76abfc7" args="(int command, struct zclient *zclient, zebra_size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_zebra_if_address_update_add </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structzclient.html">zclient</a> *&#160;</td>
          <td class="paramname"><em>zclient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00146">146</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *c;
  <span class="keywordtype">char</span> buf[128];

  c = <a class="code" href="zclient_8c.html#a361d54ec3dad267afc3335fe155367a2">zebra_interface_address_read</a> (<a class="code" href="zebra_8h.html#aea532f1b7734390e98af1be9c18b0964">ZEBRA_INTERFACE_ADDRESS_ADD</a>, zclient-&gt;<a class="code" href="structzclient.html#a1b9d2a1e869c1008c2bc70d14ce2bf49">ibuf</a>);
  <span class="keywordflow">if</span> (c == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#a5c3976553336476b6fea4108b844ecf2">RECV</a>))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra Interface address add: %s %5s %s/%d&quot;</span>,
        c-&gt;<a class="code" href="structconnected.html#a93c575385a71507f8c29ec26344d09d3">ifp</a>-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, <a class="code" href="prefix_8c.html#a857a677dba88a14eab7a4090d0bcd3fe">prefix_family_str</a> (c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>),
        <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a>, &amp;c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;u.<a class="code" href="structprefix.html#af508982a05429729278c96708bd9e337">prefix</a>,
               buf, sizeof (buf)), c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a>);

  <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET6)
    <a class="code" href="ospf6__interface_8c.html#a524bafd29fa3104f2a8d9b3afdc339a6">ospf6_interface_connected_route_update</a> (c-&gt;<a class="code" href="structconnected.html#a93c575385a71507f8c29ec26344d09d3">ifp</a>);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a08e394300bbe26852dd32804a5209042"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_if_address_update_delete" ref="a08e394300bbe26852dd32804a5209042" args="(int command, struct zclient *zclient, zebra_size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_zebra_if_address_update_delete </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structzclient.html">zclient</a> *&#160;</td>
          <td class="paramname"><em>zclient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00169">169</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *c;
  <span class="keywordtype">char</span> buf[128];

  c = <a class="code" href="zclient_8c.html#a361d54ec3dad267afc3335fe155367a2">zebra_interface_address_read</a> (<a class="code" href="zebra_8h.html#a8965100a302cd587b7afa842473c8be2">ZEBRA_INTERFACE_ADDRESS_DELETE</a>, zclient-&gt;<a class="code" href="structzclient.html#a1b9d2a1e869c1008c2bc70d14ce2bf49">ibuf</a>);
  <span class="keywordflow">if</span> (c == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#a5c3976553336476b6fea4108b844ecf2">RECV</a>))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra Interface address delete: %s %5s %s/%d&quot;</span>,
        c-&gt;<a class="code" href="structconnected.html#a93c575385a71507f8c29ec26344d09d3">ifp</a>-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, <a class="code" href="prefix_8c.html#a857a677dba88a14eab7a4090d0bcd3fe">prefix_family_str</a> (c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>),
        <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a>, &amp;c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;u.<a class="code" href="structprefix.html#af508982a05429729278c96708bd9e337">prefix</a>,
               buf, sizeof (buf)), c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a>);

  <span class="keywordflow">if</span> (c-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET6)
    <a class="code" href="ospf6__interface_8c.html#a524bafd29fa3104f2a8d9b3afdc339a6">ospf6_interface_connected_route_update</a> (c-&gt;<a class="code" href="structconnected.html#a93c575385a71507f8c29ec26344d09d3">ifp</a>);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab1e3f78bd8490197a1aee852e95bdcda"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_if_del" ref="ab1e3f78bd8490197a1aee852e95bdcda" args="(int command, struct zclient *zclient, zebra_size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_zebra_if_del </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structzclient.html">zclient</a> *&#160;</td>
          <td class="paramname"><em>zclient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00105">105</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;

  <span class="keywordflow">if</span> (!(ifp = <a class="code" href="zclient_8c.html#a989f3e044d41b4e18463027a94b846e7">zebra_interface_state_read</a>(zclient-&gt;<a class="code" href="structzclient.html#a1b9d2a1e869c1008c2bc70d14ce2bf49">ibuf</a>)))
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#ade77fc67f30030f539906dad43c239ab">if_is_up</a> (ifp))
    <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;Zebra: got delete of %s, but interface is still up&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#a5c3976553336476b6fea4108b844ecf2">RECV</a>))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra Interface delete: %s index %d mtu %d&quot;</span>,
        ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>, ifp-&gt;<a class="code" href="structinterface.html#a75a892a4df0f60191a13ca07b6625cb1">mtu6</a>);

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>  <span class="comment">/* Why is this commented out? */</span>
  <a class="code" href="ospf6__interface_8c.html#a39b788dc427d9088db9683135c9127dc">ospf6_interface_if_del</a> (ifp);
<span class="preprocessor">#endif </span><span class="comment">/*0*/</span>

  ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a> = <a class="code" href="if_8h.html#a18949aeeb4a8fbe7e3be43e6bbe86527">IFINDEX_INTERNAL</a>;
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aff34bd3ad49a0b8d9e823fb3190e3462"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_if_state_update" ref="aff34bd3ad49a0b8d9e823fb3190e3462" args="(int command, struct zclient *zclient, zebra_size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_zebra_if_state_update </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structzclient.html">zclient</a> *&#160;</td>
          <td class="paramname"><em>zclient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00129">129</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;

  ifp = <a class="code" href="zclient_8c.html#a989f3e044d41b4e18463027a94b846e7">zebra_interface_state_read</a> (zclient-&gt;<a class="code" href="structzclient.html#a1b9d2a1e869c1008c2bc70d14ce2bf49">ibuf</a>);
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#a5c3976553336476b6fea4108b844ecf2">RECV</a>))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra Interface state change: &quot;</span>
                <span class="stringliteral">&quot;%s index %d flags %llx metric %d mtu %d&quot;</span>,
        ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>)ifp-&gt;<a class="code" href="structinterface.html#a09ed96b900f31d769a76a32b67217c8f">flags</a>, 
        ifp-&gt;<a class="code" href="structinterface.html#adbb7ad89b817a388e9442e85f1e72cc8">metric</a>, ifp-&gt;<a class="code" href="structinterface.html#a75a892a4df0f60191a13ca07b6625cb1">mtu6</a>);

  <a class="code" href="ospf6__interface_8c.html#ac74b69e9b3c497946a09261fb35a9123">ospf6_interface_state_update</a> (ifp);
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a85a70eaa85cf71f96aea213861cae97d"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_init" ref="a85a70eaa85cf71f96aea213861cae97d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_zebra_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00557">557</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Allocate zebra structure. */</span>
  <a class="code" href="structzclient.html">zclient</a> = <a class="code" href="zclient_8c.html#aa521f2a71596b1dc50f76fcb57dff30b">zclient_new</a> ();
  <a class="code" href="zclient_8c.html#ac649a246f405850a3ade72de002745e3">zclient_init</a> (<a class="code" href="structzclient.html">zclient</a>, <a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>);
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a91ae88d0aa9ff087af5b7567334197f6">router_id_update</a> = <a class="code" href="ospf6__zebra_8c.html#a36dbf4a270686d8962163e7aefee2d90">ospf6_router_id_update_zebra</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a42e63c358fc87552ca16a1eea8b69c4f">interface_add</a> = <a class="code" href="ospf6__zebra_8c.html#aea895fdb8c6840dd2592eaa9360b8d37">ospf6_zebra_if_add</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a59d608db28363c236285c6323d5697ab">interface_delete</a> = <a class="code" href="ospf6__zebra_8c.html#ab1e3f78bd8490197a1aee852e95bdcda">ospf6_zebra_if_del</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a45465702e655472187e9efc3c1734daa">interface_up</a> = <a class="code" href="ospf6__zebra_8c.html#aff34bd3ad49a0b8d9e823fb3190e3462">ospf6_zebra_if_state_update</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a426b5e0ec3b5ad8843eb42deaa4fe335">interface_down</a> = <a class="code" href="ospf6__zebra_8c.html#aff34bd3ad49a0b8d9e823fb3190e3462">ospf6_zebra_if_state_update</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a75ee908bb229653f271356b982fa76e7">interface_address_add</a> = <a class="code" href="ospf6__zebra_8c.html#a64d24f807dfb14d8e817b008b76abfc7">ospf6_zebra_if_address_update_add</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a3494b722f85fe14ff8c99ddae54bad94">interface_address_delete</a> = <a class="code" href="ospf6__zebra_8c.html#a08e394300bbe26852dd32804a5209042">ospf6_zebra_if_address_update_delete</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#ac2fe2ea5a7f820e1ac572f7629be997f">ipv4_route_add</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a2fa1fdde8885665490f46edc8c102d4a">ipv4_route_delete</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a9d185464cca684ac3d024ec4be7b9881">ipv6_route_add</a> = <a class="code" href="ospf6__zebra_8c.html#a558e8c04db945571fc9ed104accad4b1">ospf6_zebra_read_ipv6</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a86d1ece8718111eee4bdd79ca320e8ea">ipv6_route_delete</a> = <a class="code" href="ospf6__zebra_8c.html#a558e8c04db945571fc9ed104accad4b1">ospf6_zebra_read_ipv6</a>;

  <span class="comment">/* redistribute connected route by default */</span>
  <span class="comment">/* ospf6_zebra_redistribute (ZEBRA_ROUTE_CONNECT); */</span>

  <span class="comment">/* Install zebra node. */</span>
  <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;<a class="code" href="ospf6__zebra_8c.html#a6683c482f9e771c44b2279e90606739e">zebra_node</a>, <a class="code" href="ospf6__zebra_8c.html#a7b9df7b480e7820c6b48e94412a9e871">config_write_ospf6_zebra</a>);

  <span class="comment">/* Install command element for zebra node. */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;show_zebra_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;show_zebra_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;router_zebra_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_router_zebra_cmd);

  <a class="code" href="command_8h.html#affb2f399c88b8a225b2719bbe928e4de">install_default</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682af7fc20f627618eee254477289b890df3">ZEBRA_NODE</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682af7fc20f627618eee254477289b890df3">ZEBRA_NODE</a>, &amp;redistribute_ospf6_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682af7fc20f627618eee254477289b890df3">ZEBRA_NODE</a>, &amp;no_redistribute_ospf6_cmd);

  <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac66ef0344e427d1c3be675085198347f"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_no_redistribute" ref="ac66ef0344e427d1c3be675085198347f" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_zebra_no_redistribute </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00081">81</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (! <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>])
    <span class="keywordflow">return</span>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>] = 0;
  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a53dfb4d4cfc1331edf8a62d04d99f08f">sock</a> &gt; 0)
    <a class="code" href="zclient_8c.html#a0ed1704cde688d0575a1394a34f6fc82">zebra_redistribute_send</a> (<a class="code" href="zebra_8h.html#a1dce1941aae01a8a16dace7591398a0d">ZEBRA_REDISTRIBUTE_DELETE</a>, <a class="code" href="structzclient.html">zclient</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a558e8c04db945571fc9ed104accad4b1"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_read_ipv6" ref="a558e8c04db945571fc9ed104accad4b1" args="(int command, struct zclient *zclient, zebra_size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_zebra_read_ipv6 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structzclient.html">zclient</a> *&#160;</td>
          <td class="paramname"><em>zclient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zebra_8h.html#a6cbec281d30ae59db10d5b28b5d1cc03">zebra_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00192">192</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structstream.html">stream</a> *<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>;
  <span class="keyword">struct </span>zapi_ipv6 api;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ifindex;
  <span class="keyword">struct </span>prefix_ipv6 <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
  <span class="keyword">struct </span>in6_addr *<a class="code" href="structnexthop.html">nexthop</a>;

  s = zclient-&gt;<a class="code" href="structzclient.html#a1b9d2a1e869c1008c2bc70d14ce2bf49">ibuf</a>;
  ifindex = 0;
  nexthop = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  memset (&amp;api, 0, <span class="keyword">sizeof</span> (api));

  <span class="comment">/* Type, flags, message. */</span>
  api.type = <a class="code" href="stream_8c.html#a7902a86d9a749707c535840654ded3f6">stream_getc</a> (s);
  api.flags = <a class="code" href="stream_8c.html#a7902a86d9a749707c535840654ded3f6">stream_getc</a> (s);
  api.message = <a class="code" href="stream_8c.html#a7902a86d9a749707c535840654ded3f6">stream_getc</a> (s);

  <span class="comment">/* IPv6 prefix. */</span>
  memset (&amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> prefix_ipv6));
  <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>.family = AF_INET6;
  <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>.prefixlen = <a class="code" href="stream_8c.html#a7902a86d9a749707c535840654ded3f6">stream_getc</a> (s);
  <a class="code" href="stream_8c.html#ab7101e57ef0d9dc1a33e7f7e30c91b9a">stream_get</a> (&amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>.prefix, s, <a class="code" href="bgpd_8h.html#a472145011d944606a257487e80cc3ace">PSIZE</a> (<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>.prefixlen));

  <span class="comment">/* Nexthop, ifindex, distance, metric. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a321bbeaddad8bc9bffaf57f7ac6cf8fd">ZAPI_MESSAGE_NEXTHOP</a>))
    {
      api.nexthop_num = <a class="code" href="stream_8c.html#a7902a86d9a749707c535840654ded3f6">stream_getc</a> (s);
      nexthop = (<span class="keyword">struct </span>in6_addr *)
        <a class="code" href="regex_8c.html#ab7e36af3707843f77cc5b4e831c2fa6d">malloc</a> (api.nexthop_num * sizeof (<span class="keyword">struct</span> in6_addr));
      <a class="code" href="stream_8c.html#ab7101e57ef0d9dc1a33e7f7e30c91b9a">stream_get</a> (nexthop, s, api.nexthop_num * sizeof (<span class="keyword">struct</span> in6_addr));
    }
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#ae8d1e48f6c2858ecda1c3aee4219a0e6">ZAPI_MESSAGE_IFINDEX</a>))
    {
      api.ifindex_num = <a class="code" href="stream_8c.html#a7902a86d9a749707c535840654ded3f6">stream_getc</a> (s);
      ifindex = <a class="code" href="stream_8c.html#af857bfab0cbe7d5681e9108b58f939f2">stream_getl</a> (s);
    }
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#abe498bb81bfbda17757173ef23e25179">ZAPI_MESSAGE_DISTANCE</a>))
    api.distance = <a class="code" href="stream_8c.html#a7902a86d9a749707c535840654ded3f6">stream_getc</a> (s);
  <span class="keywordflow">else</span>
    api.distance = 0;
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a4a5d60df1ef02f794476ea1daa6ba024">ZAPI_MESSAGE_METRIC</a>))
    api.metric = <a class="code" href="stream_8c.html#af857bfab0cbe7d5681e9108b58f939f2">stream_getl</a> (s);
  <span class="keywordflow">else</span>
    api.metric = 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#a5c3976553336476b6fea4108b844ecf2">RECV</a>))
    {
      <span class="keywordtype">char</span> prefixstr[128], nexthopstr[128];
      <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> ((<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *)&amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>, prefixstr, <span class="keyword">sizeof</span> (prefixstr));
      <span class="keywordflow">if</span> (nexthop)
        <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, nexthop, nexthopstr, <span class="keyword">sizeof</span> (nexthopstr));
      <span class="keywordflow">else</span>
        <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (nexthopstr, <span class="keyword">sizeof</span> (nexthopstr), <span class="stringliteral">&quot;::&quot;</span>);

      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra Receive route %s: %s %s nexthop %s ifindex %ld&quot;</span>,
          (command == <a class="code" href="zebra_8h.html#a2d0f19502bde040501c7ad64bc955739">ZEBRA_IPV6_ROUTE_ADD</a> ? <span class="stringliteral">&quot;add&quot;</span> : <span class="stringliteral">&quot;delete&quot;</span>),
          <a class="code" href="log_8c.html#ae87aa85b5b05b120d376956ce5d13444">zebra_route_string</a>(api.type), prefixstr, nexthopstr, ifindex);
    }
 
  <span class="keywordflow">if</span> (command == <a class="code" href="zebra_8h.html#a2d0f19502bde040501c7ad64bc955739">ZEBRA_IPV6_ROUTE_ADD</a>)
    <a class="code" href="ospf6__asbr_8c.html#a28e49591579d5ebab190126fff7762fa">ospf6_asbr_redistribute_add</a> (api.type, ifindex, (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *) &amp;p,
                                 api.nexthop_num, nexthop);
  <span class="keywordflow">else</span>
    <a class="code" href="ospf6__asbr_8c.html#a76af4e8a926eb7373e59626cac4a5fc0">ospf6_asbr_redistribute_remove</a> (api.type, ifindex, (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *) &amp;p);

  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a321bbeaddad8bc9bffaf57f7ac6cf8fd">ZAPI_MESSAGE_NEXTHOP</a>))
    free (nexthop);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a28fc16a34b5090b29a8a4dfd54ba92db"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_redistribute" ref="a28fc16a34b5090b29a8a4dfd54ba92db" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_zebra_redistribute </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00071">71</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>])
    <span class="keywordflow">return</span>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>] = 1;
  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a53dfb4d4cfc1331edf8a62d04d99f08f">sock</a> &gt; 0)
    <a class="code" href="zclient_8c.html#a0ed1704cde688d0575a1394a34f6fc82">zebra_redistribute_send</a> (<a class="code" href="zebra_8h.html#aaf00306d6060095dd258463ee7cb0cc1">ZEBRA_REDISTRIBUTE_ADD</a>, <a class="code" href="structzclient.html">zclient</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2b400180abaf1848f4ae6bd70d9f4276"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_route_update" ref="a2b400180abaf1848f4ae6bd70d9f4276" args="(int type, struct ospf6_route *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_zebra_route_update </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00348">348</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span>zapi_ipv6 api;
  <span class="keywordtype">char</span> buf[64];
  <span class="keywordtype">int</span> nhcount;
  <span class="keyword">struct </span>in6_addr **nexthops;
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *ifindexes;
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>, ret = 0;
  <span class="keyword">struct </span>prefix_ipv6 *dest;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>))
    {
      <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;request-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Send %s route: %s&quot;</span>,
          (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> == <a class="code" href="ospf6__zebra_8c.html#a4c0be4e2e15f7167f711d5769b01a049">REM</a> ? <span class="stringliteral">&quot;remove&quot;</span> : <span class="stringliteral">&quot;add&quot;</span>), buf);
    }

  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a53dfb4d4cfc1331edf8a62d04d99f08f">sock</a> &lt; 0)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;  Not connected to Zebra&quot;</span>);
      <span class="keywordflow">return</span>;
    }

  <span class="keywordflow">if</span> (request-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#aad4727f62192e5db63a98474f9845694">adv_router</a> == <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a> &amp;&amp;
      (request-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> == <a class="code" href="ospf6__route_8h.html#ac93e11c1cfd47244e95e27b3ba4571ae">OSPF6_PATH_TYPE_EXTERNAL1</a> ||
       request-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> == <a class="code" href="ospf6__route_8h.html#a753677bbce3e5b4d74252300c43e422a">OSPF6_PATH_TYPE_EXTERNAL2</a>))
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;  Ignore self-originated external route&quot;</span>);
      <span class="keywordflow">return</span>;
    }

  <span class="comment">/* If removing is the best path and if there&#39;s another path,</span>
<span class="comment">     treat this request as add the secondary path */</span>
  <span class="keywordflow">if</span> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> == <a class="code" href="ospf6__zebra_8c.html#a4c0be4e2e15f7167f711d5769b01a049">REM</a> &amp;&amp; <a class="code" href="ospf6__route_8h.html#ab764ec517d66bed7d7de5de12ee51cf3">ospf6_route_is_best</a> (request) &amp;&amp;
      request-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a> &amp;&amp; <a class="code" href="ospf6__route_8h.html#a7133738c8b5e672f6e20d99fa76d3f90">ospf6_route_is_same</a> (request, request-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>))
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;  Best-path removal resulted Sencondary addition&quot;</span>);
      <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> = <a class="code" href="ospf6__zebra_8c.html#a97fe5470fb1ac167c713671655ff3e52">ADD</a>;
      request = request-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
    }

  <span class="comment">/* Only the best path will be sent to zebra. */</span>
  <span class="keywordflow">if</span> (! <a class="code" href="ospf6__route_8h.html#ab764ec517d66bed7d7de5de12ee51cf3">ospf6_route_is_best</a> (request))
    {
      <span class="comment">/* this is not preferred best route, ignore */</span>
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;  Ignore non-best route&quot;</span>);
      <span class="keywordflow">return</span>;
    }

  nhcount = 0;
  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ospf6__route_8h.html#a722b45cea00290e2da6ebe98934f8749">OSPF6_MULTI_PATH_LIMIT</a>; i++)
    <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#ab3d4b67ab2b8648021096e2fca7d980b">ospf6_nexthop_is_set</a> (&amp;request-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i]))
      nhcount++;

  <span class="keywordflow">if</span> (nhcount == 0)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;  No nexthop, ignore&quot;</span>);
      <span class="keywordflow">return</span>;
    }

  <span class="comment">/* allocate memory for nexthop_list */</span>
  nexthops = <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab90004830b748b2c6758994443b298f0">MTYPE_OSPF6_OTHER</a>,
                      nhcount * <span class="keyword">sizeof</span> (<span class="keyword">struct</span> in6_addr *));
  <span class="keywordflow">if</span> (nexthops == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;Can&#39;t send route to zebra: malloc failed&quot;</span>);
      <span class="keywordflow">return</span>;
    }

  <span class="comment">/* allocate memory for ifindex_list */</span>
  ifindexes = <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab90004830b748b2c6758994443b298f0">MTYPE_OSPF6_OTHER</a>,
                       nhcount * <span class="keyword">sizeof</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>));
  <span class="keywordflow">if</span> (ifindexes == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;Can&#39;t send route to zebra: malloc failed&quot;</span>);
      <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab90004830b748b2c6758994443b298f0">MTYPE_OSPF6_OTHER</a>, nexthops);
      <span class="keywordflow">return</span>;
    }

  <span class="keywordflow">for</span> (i = 0; i &lt; nhcount; i++)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__zebra_8h.html#aaf2fc648e9fd659b1d34ff209c57762b">IS_OSPF6_DEBUG_ZEBRA</a> (<a class="code" href="bgp__debug_8h.html#abc9603445bf79a3793831ee1d0ea8890">SEND</a>))
    {
      <span class="keywordtype">char</span> ifname[IFNAMSIZ];
      <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, &amp;request-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#aca0fcfd059411e2638d19d1d95288a10">address</a>,
             buf, sizeof (buf));
      <span class="keywordflow">if</span> (!<a class="code" href="if_8c.html#a2e22330f87622f0659002d0aff75b487">if_indextoname</a>(request-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>, ifname))
        <a class="code" href="str_8c.html#ad9303b16b58d176b8d7da43eec1b99c6" title="Like strncpy but does not 0 fill the buffer and always null terminates.">strlcpy</a>(ifname, <span class="stringliteral">&quot;unknown&quot;</span>, <span class="keyword">sizeof</span>(ifname));
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;  nexthop: %s%%%.*s(%d)&quot;</span>, buf, IFNAMSIZ, ifname,
              request-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>);
    }
      nexthops[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>] = &amp;request-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>].<a class="code" href="structospf6__nexthop.html#aca0fcfd059411e2638d19d1d95288a10">address</a>;
      ifindexes[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>] = request-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>;
    }

  api.type = <a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>;
  api.flags = 0;
  api.message = 0;
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a321bbeaddad8bc9bffaf57f7ac6cf8fd">ZAPI_MESSAGE_NEXTHOP</a>);
  api.nexthop_num = nhcount;
  api.nexthop = nexthops;
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#ae8d1e48f6c2858ecda1c3aee4219a0e6">ZAPI_MESSAGE_IFINDEX</a>);
  api.ifindex_num = nhcount;
  api.ifindex = ifindexes;
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a4a5d60df1ef02f794476ea1daa6ba024">ZAPI_MESSAGE_METRIC</a>);
  api.metric = (request-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> == 2 ?
                request-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a> : request-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>);

  dest = (<span class="keyword">struct </span>prefix_ipv6 *) &amp;request-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>;
  if (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> == <a class="code" href="ospf6__zebra_8c.html#a4c0be4e2e15f7167f711d5769b01a049">REM</a>)
    ret = zapi_ipv6_route (<a class="code" href="zebra_8h.html#ad98414d027f7107e91cb040a329ad48a">ZEBRA_IPV6_ROUTE_DELETE</a>, <a class="code" href="structzclient.html">zclient</a>, dest, &amp;api);
  <span class="keywordflow">else</span>
    ret = zapi_ipv6_route (<a class="code" href="zebra_8h.html#a2d0f19502bde040501c7ad64bc955739">ZEBRA_IPV6_ROUTE_ADD</a>, <a class="code" href="structzclient.html">zclient</a>, dest, &amp;api);

  <span class="keywordflow">if</span> (ret &lt; 0)
    <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a> (<span class="stringliteral">&quot;zapi_ipv6_route() %s failed: %s&quot;</span>,
              (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> == <a class="code" href="ospf6__zebra_8c.html#a4c0be4e2e15f7167f711d5769b01a049">REM</a> ? <span class="stringliteral">&quot;delete&quot;</span> : <span class="stringliteral">&quot;add&quot;</span>), <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a> (errno));

  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab90004830b748b2c6758994443b298f0">MTYPE_OSPF6_OTHER</a>, nexthops);
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab90004830b748b2c6758994443b298f0">MTYPE_OSPF6_OTHER</a>, ifindexes);

  <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adcf0815d46c5bb8c7b7147fcca711468"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_route_update_add" ref="adcf0815d46c5bb8c7b7147fcca711468" args="(struct ospf6_route *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_zebra_route_update_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00478">478</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (! <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>])
    {
      <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
      <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>-&gt;<a class="code" href="structospf6__route__table.html#a1c69b4917bafb6ef7a03299b262f0839">hook_remove</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
      <span class="keywordflow">return</span>;
    }
  <a class="code" href="ospf6__zebra_8c.html#a2b400180abaf1848f4ae6bd70d9f4276">ospf6_zebra_route_update</a> (<a class="code" href="ospf6__zebra_8c.html#a97fe5470fb1ac167c713671655ff3e52">ADD</a>, request);
}
</pre></div>
</div>
</div>
<a class="anchor" id="abd2654bb97cf702df7ab692eff8edfa2"></a><!-- doxytag: member="ospf6_zebra.c::ospf6_zebra_route_update_remove" ref="abd2654bb97cf702df7ab692eff8edfa2" args="(struct ospf6_route *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_zebra_route_update_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00490">490</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (! <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>])
    {
      <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
      <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>-&gt;<a class="code" href="structospf6__route__table.html#a1c69b4917bafb6ef7a03299b262f0839">hook_remove</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
      <span class="keywordflow">return</span>;
    }
  <a class="code" href="ospf6__zebra_8c.html#a2b400180abaf1848f4ae6bd70d9f4276">ospf6_zebra_route_update</a> (<a class="code" href="ospf6__zebra_8c.html#a4c0be4e2e15f7167f711d5769b01a049">REM</a>, request);
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a83c447fc2d1bf33fcee8141e092151e3"></a><!-- doxytag: member="ospf6_zebra.c::conf_debug_ospf6_zebra" ref="a83c447fc2d1bf33fcee8141e092151e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="ospf6__zebra_8h.html#a83c447fc2d1bf33fcee8141e092151e3">conf_debug_ospf6_zebra</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00042">42</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5ff73fe88ce576fe7fc3877984367add"></a><!-- doxytag: member="ospf6_zebra.c::router_id_zebra" ref="a5ff73fe88ce576fe7fc3877984367add" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct in_addr <a class="el" href="ospfd_8c.html#a5ff73fe88ce576fe7fc3877984367add">router_id_zebra</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00047">47</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>

</div>
</div>
<a class="anchor" id="abe1502972ba9aa40adc080e419c496bf"></a><!-- doxytag: member="ospf6_zebra.c::zclient" ref="abe1502972ba9aa40adc080e419c496bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structzclient.html">zclient</a>* <a class="el" href="structzclient.html">zclient</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00045">45</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6683c482f9e771c44b2279e90606739e"></a><!-- doxytag: member="ospf6_zebra.c::zebra_node" ref="a6683c482f9e771c44b2279e90606739e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcmd__node.html">cmd_node</a> <a class="el" href="vtysh_8c.html#a6683c482f9e771c44b2279e90606739e">zebra_node</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682af7fc20f627618eee254477289b890df3">ZEBRA_NODE</a>,
  <span class="stringliteral">&quot;%s(config-zebra)# &quot;</span>,
}
</pre></div>
<p>Definition at line <a class="el" href="ospf6__zebra_8c_source.html#l00339">339</a> of file <a class="el" href="ospf6__zebra_8c_source.html">ospf6_zebra.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ospf6__zebra_8c.html">ospf6_zebra.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:27 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
