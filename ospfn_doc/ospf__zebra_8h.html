<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: ospfd/ospf_zebra.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ospf__zebra_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ospfd/ospf_zebra.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="vty_8h_source.html">vty.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ospf_zebra.h:</div>
<div class="dyncontent">
<div class="center"><img src="ospf__zebra_8h__incl.png" border="0" usemap="#ospfd_2ospf__zebra_8h" alt=""/></div>
<map name="ospfd_2ospf__zebra_8h" id="ospfd_2ospf__zebra_8h">
<area shape="rect" id="node3" href="vty_8h.html" title="vty.h" alt="" coords="58,80,109,107"/><area shape="rect" id="node5" href="thread_8h.html" title="thread.h" alt="" coords="5,155,77,181"/><area shape="rect" id="node7" href="log_8h.html" title="log.h" alt="" coords="102,155,153,181"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="ospf__zebra_8h__dep__incl.png" border="0" usemap="#ospfd_2ospf__zebra_8hdep" alt=""/></div>
<map name="ospfd_2ospf__zebra_8hdep" id="ospfd_2ospf__zebra_8hdep">
<area shape="rect" id="node3" href="ospf__apiclient_8c.html" title="ospfclient/ospf_apiclient.c" alt="" coords="5,80,187,107"/><area shape="rect" id="node5" href="ospf__abr_8c.html" title="ospfd/ospf_abr.c" alt="" coords="211,80,335,107"/><area shape="rect" id="node7" href="ospf__asbr_8c.html" title="ospfd/ospf_asbr.c" alt="" coords="360,80,491,107"/><area shape="rect" id="node9" href="ospf__ase_8c.html" title="ospfd/ospf_ase.c" alt="" coords="515,80,641,107"/><area shape="rect" id="node11" href="ospf__flood_8c.html" title="ospfd/ospf_flood.c" alt="" coords="667,80,803,107"/><area shape="rect" id="node13" href="ospf__lsa_8c.html" title="ospfd/ospf_lsa.c" alt="" coords="827,80,949,107"/><area shape="rect" id="node15" href="ospf__main_8c.html" title="ospfd/ospf_main.c" alt="" coords="973,80,1107,107"/><area shape="rect" id="node17" href="ospf__route_8c.html" title="ospfd/ospf_route.c" alt="" coords="1131,80,1268,107"/><area shape="rect" id="node19" href="ospf__routemap_8c.html" title="ospfd/ospf_routemap.c" alt="" coords="1293,80,1456,107"/><area shape="rect" id="node21" href="ospf__vty_8c.html" title="ospfd/ospf_vty.c" alt="" coords="1481,80,1604,107"/><area shape="rect" id="node23" href="ospf__zebra_8c.html" title="ospfd/ospf_zebra.c" alt="" coords="1629,80,1768,107"/><area shape="rect" id="node25" href="ospfd_8c.html" title="ospfd/ospfd.c" alt="" coords="1792,80,1899,107"/><area shape="rect" id="node27" href="ospfn_8c.html" title="OSPFN program designed for dynamic FIB manipulation for CCND." alt="" coords="1923,80,2027,107"/></map>
</div>
</div>
<p><a href="ospf__zebra_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structospf__distance.html">ospf_distance</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#aa98a2cfaa075bf83207e25e6b634a5d7">EXTERNAL_METRIC_TYPE_1</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a19e51df0e6ea1f740e25a2325274861c">EXTERNAL_METRIC_TYPE_2</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>&#160;&#160;&#160;ZEBRA_ROUTE_MAX</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a3ccd23195e60a2a4007fafb6a54e1a4e">DEFAULT_ROUTE_TYPE</a>(<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>)&#160;&#160;&#160;((<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>) == DEFAULT_ROUTE)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a3e69cfc681541a7ee55030484ec90f33">ospf_zclient_start</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a1eb6da07083106d928826c5e9f54ceb2">ospf_zebra_add</a> (struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *, struct <a class="el" href="structospf__route.html">ospf_route</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a9a2007100217595f7fa1ad5412b10afc">ospf_zebra_delete</a> (struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *, struct <a class="el" href="structospf__route.html">ospf_route</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a405c8fcb9701ae80e76599ea41bfb755">ospf_zebra_add_discard</a> (struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a263f719b14f359f582ff1d3fa7aa85d6">ospf_zebra_delete_discard</a> (struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a92190605e0c997795890a7efaadd57da">ospf_default_originate_timer</a> (struct <a class="el" href="structthread.html">thread</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a73de8c9ab147f3c8b6f4537d83582a60">ospf_redistribute_check</a> (struct <a class="el" href="structospf.html">ospf</a> *, struct <a class="el" href="structexternal__info.html">external_info</a> *, int *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a71a523629f18d369ee982ef3ee27dede">ospf_distribute_check_connected</a> (struct <a class="el" href="structospf.html">ospf</a> *, struct <a class="el" href="structexternal__info.html">external_info</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#abf2ac56768e377a285df120cd0deba82">ospf_distribute_list_update</a> (struct <a class="el" href="structospf.html">ospf</a> *, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a12868e9c56b5620053d86e3090eb9890">ospf_is_type_redistributed</a> (int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a8231cf4553f3d21064f755928618afd0">ospf_distance_reset</a> (struct <a class="el" href="structospf.html">ospf</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u_char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a768ea1d8e5f6d7a410d9f799b23eb60e">ospf_distance_apply</a> (struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *, struct <a class="el" href="structospf__route.html">ospf_route</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#aa2d4bff5fdda61f7b3a3612b74ee7396">ospf_redistribute_set</a> (struct <a class="el" href="structospf.html">ospf</a> *, int, int, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#ac4ae9d6022d66a288a10b9c4d92c72f3">ospf_redistribute_unset</a> (struct <a class="el" href="structospf.html">ospf</a> *, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a7fce012a67bcc248e1c5ae21fd7c22c1">ospf_redistribute_default_set</a> (struct <a class="el" href="structospf.html">ospf</a> *, int, int, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a20ebb383b13958bdf4b9f86397efaa3d">ospf_redistribute_default_unset</a> (struct <a class="el" href="structospf.html">ospf</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a188e7add58035c375b35e4972eb5967e">ospf_distribute_list_out_set</a> (struct <a class="el" href="structospf.html">ospf</a> *, int, const char *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#aa38e1f4912ce27463789a93989f4582d">ospf_distribute_list_out_unset</a> (struct <a class="el" href="structospf.html">ospf</a> *, int, const char *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#ac31d7000bbff95e3cc462e4880c4ef93">ospf_routemap_set</a> (struct <a class="el" href="structospf.html">ospf</a> *, int, const char *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#af309a974bddf58ee6ec7a3fdc0078769">ospf_routemap_unset</a> (struct <a class="el" href="structospf.html">ospf</a> *, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#ab7ee95d13b64a95a3d24d8cf674ef950">ospf_distance_set</a> (struct <a class="el" href="structvty.html">vty</a> *, struct <a class="el" href="structospf.html">ospf</a> *, const char *, const char *, const char *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#acf6d2c4c0ddedd11eca685895d2df9fd">ospf_distance_unset</a> (struct <a class="el" href="structvty.html">vty</a> *, struct <a class="el" href="structospf.html">ospf</a> *, const char *, const char *, const char *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf__zebra_8h.html#a72fbdc912498a5746820b3bff6c6f0a8">ospf_zebra_init</a> (void)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a353195a6a59d18a6807885cbefaf0d24"></a><!-- doxytag: member="ospf_zebra.h::DEFAULT_ROUTE" ref="a353195a6a59d18a6807885cbefaf0d24" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_ROUTE&#160;&#160;&#160;ZEBRA_ROUTE_MAX</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8h_source.html#l00031">31</a> of file <a class="el" href="ospf__zebra_8h_source.html">ospf_zebra.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3ccd23195e60a2a4007fafb6a54e1a4e"></a><!-- doxytag: member="ospf_zebra.h::DEFAULT_ROUTE_TYPE" ref="a3ccd23195e60a2a4007fafb6a54e1a4e" args="(T)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_ROUTE_TYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a></td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>) == DEFAULT_ROUTE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8h_source.html#l00032">32</a> of file <a class="el" href="ospf__zebra_8h_source.html">ospf_zebra.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa98a2cfaa075bf83207e25e6b634a5d7"></a><!-- doxytag: member="ospf_zebra.h::EXTERNAL_METRIC_TYPE_1" ref="aa98a2cfaa075bf83207e25e6b634a5d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTERNAL_METRIC_TYPE_1&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8h_source.html#l00028">28</a> of file <a class="el" href="ospf__zebra_8h_source.html">ospf_zebra.h</a>.</p>

</div>
</div>
<a class="anchor" id="a19e51df0e6ea1f740e25a2325274861c"></a><!-- doxytag: member="ospf_zebra.h::EXTERNAL_METRIC_TYPE_2" ref="a19e51df0e6ea1f740e25a2325274861c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTERNAL_METRIC_TYPE_2&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8h_source.html#l00029">29</a> of file <a class="el" href="ospf__zebra_8h_source.html">ospf_zebra.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a92190605e0c997795890a7efaadd57da"></a><!-- doxytag: member="ospf_zebra.h::ospf_default_originate_timer" ref="a92190605e0c997795890a7efaadd57da" args="(struct thread *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_default_originate_timer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__lsa_8c_source.html#l02160">2160</a> of file <a class="el" href="ospf__lsa_8c_source.html">ospf_lsa.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structprefix__ipv4.html">prefix_ipv4</a> <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
  <span class="keyword">struct </span>in_addr <a class="code" href="structnexthop.html">nexthop</a>;
  <span class="keyword">struct </span><a class="code" href="structexternal__info.html">external_info</a> *ei;
  <span class="keyword">struct </span><a class="code" href="structospf.html">ospf</a> *<a class="code" href="structospf.html">ospf</a>;
  
  ospf = <a class="code" href="thread_8h.html#a78f2ae47a7a334f7f74bfed7fda48e5a">THREAD_ARG</a> (<a class="code" href="structthread.html">thread</a>);

  <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>.family = AF_INET;
  <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>.prefix.s_addr = 0;
  <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>.prefixlen = 0;

  <span class="keywordflow">if</span> (ospf-&gt;<a class="code" href="structospf.html#a1111f78d01dc9e8d522e639da7a2a36c">default_originate</a> == <a class="code" href="ospfd_8h.html#aeaa21d94c404a9d98bc03e154e7db8ab">DEFAULT_ORIGINATE_ALWAYS</a>)
    {
      <span class="comment">/* If there is no default route via redistribute,</span>
<span class="comment">     then originate AS-external-LSA with nexthop 0 (self). */</span>
      <a class="code" href="structnexthop.html">nexthop</a>.s_addr = 0;
      <a class="code" href="ospf__asbr_8c.html#a6a90eaa85c3352db338f42b615933d9c">ospf_external_info_add</a> (<a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>, <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>, 0, <a class="code" href="structnexthop.html">nexthop</a>);
    }

  <span class="keywordflow">if</span> ((ei = <a class="code" href="ospf__lsa_8c.html#ad154699860ca80552cac4350e14a8023">ospf_default_external_info</a> (ospf)))
    <a class="code" href="ospf__lsa_8c.html#a96d24d54ba0ac3adc1ff557621ff2911">ospf_external_lsa_originate</a> (ospf, ei);
  
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a768ea1d8e5f6d7a410d9f799b23eb60e"></a><!-- doxytag: member="ospf_zebra.h::ospf_distance_apply" ref="a768ea1d8e5f6d7a410d9f799b23eb60e" args="(struct prefix_ipv4 *, struct ospf_route *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u_char ospf_distance_apply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf__route.html">ospf_route</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l01233">1233</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf.html">ospf</a> *<a class="code" href="structospf.html">ospf</a>;

  ospf = <a class="code" href="ospfd_8c.html#a8ea0c935a4862c1469bc962e93fee74b">ospf_lookup</a> ();
  <span class="keywordflow">if</span> (ospf == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (ospf-&gt;<a class="code" href="structospf.html#ab87aa14246f5c62f4d866ad725c5f268">distance_intra</a>)
    <span class="keywordflow">if</span> (or-&gt;path_type == <a class="code" href="ospf__route_8h.html#abc7a6177d1cdfac4e8a93ddd4235b08c">OSPF_PATH_INTRA_AREA</a>)
      <span class="keywordflow">return</span> ospf-&gt;<a class="code" href="structospf.html#ab87aa14246f5c62f4d866ad725c5f268">distance_intra</a>;

  <span class="keywordflow">if</span> (ospf-&gt;<a class="code" href="structospf.html#aa35f81a36f5ec5e3cf7541303a9ef668">distance_inter</a>)
    <span class="keywordflow">if</span> (or-&gt;path_type == <a class="code" href="ospf__route_8h.html#a1db558d26de4f9320c77c0d783d7b2b3">OSPF_PATH_INTER_AREA</a>)
      <span class="keywordflow">return</span> ospf-&gt;<a class="code" href="structospf.html#aa35f81a36f5ec5e3cf7541303a9ef668">distance_inter</a>;

  <span class="keywordflow">if</span> (ospf-&gt;<a class="code" href="structospf.html#a293d2cb6ad232413308d29b40de93ad2">distance_external</a>)
    <span class="keywordflow">if</span> (or-&gt;path_type == <a class="code" href="ospf__route_8h.html#a15dab014460164847059902ea4535834">OSPF_PATH_TYPE1_EXTERNAL</a>
        || or-&gt;path_type == <a class="code" href="ospf__route_8h.html#aa9752c4570157da8a3258dc4cdf23ce5">OSPF_PATH_TYPE2_EXTERNAL</a>)
      <span class="keywordflow">return</span> ospf-&gt;<a class="code" href="structospf.html#a293d2cb6ad232413308d29b40de93ad2">distance_external</a>;

  <span class="keywordflow">if</span> (ospf-&gt;<a class="code" href="structospf.html#a57b00cc3a2a5e6771e9b21ff5d7d3ff3">distance_all</a>)
    <span class="keywordflow">return</span> ospf-&gt;<a class="code" href="structospf.html#a57b00cc3a2a5e6771e9b21ff5d7d3ff3">distance_all</a>;

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8231cf4553f3d21064f755928618afd0"></a><!-- doxytag: member="ospf_zebra.h::ospf_distance_reset" ref="a8231cf4553f3d21064f755928618afd0" args="(struct ospf *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_distance_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l01216">1216</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *rn;
  <span class="keyword">struct </span><a class="code" href="structospf__distance.html">ospf_distance</a> *odistance;

  <span class="keywordflow">for</span> (rn = <a class="code" href="table_8c.html#aee1d06c531794df326d946bdac647fb2">route_top</a> (<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#aa0bcd2b2f2d571c795617a6ddcd0faa7">distance_table</a>); rn; rn = <a class="code" href="table_8c.html#ad2addc694ecf6cd0cce57cb3a7d96902">route_next</a> (rn))
    <span class="keywordflow">if</span> ((odistance = rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
      {
        <span class="keywordflow">if</span> (odistance-&gt;<a class="code" href="structospf__distance.html#ab75a7f5e896a82a39cd9b3ee32e9a9a1">access_list</a>)
          free (odistance-&gt;<a class="code" href="structospf__distance.html#ab75a7f5e896a82a39cd9b3ee32e9a9a1">access_list</a>);
        <a class="code" href="ospf__zebra_8c.html#ad7de1ef8610fe7846b43f26dd906c2d5">ospf_distance_free</a> (odistance);
        rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
        <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);
      }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab7ee95d13b64a95a3d24d8cf674ef950"></a><!-- doxytag: member="ospf_zebra.h::ospf_distance_set" ref="ab7ee95d13b64a95a3d24d8cf674ef950" args="(struct vty *, struct ospf *, const char *, const char *, const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_distance_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l01126">1126</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span><a class="code" href="structprefix__ipv4.html">prefix_ipv4</a> <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
  u_char <a class="code" href="zebra__rib_8c.html#afb9412686cd344ad61757c1c19ba8a87">distance</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *rn;
  <span class="keyword">struct </span><a class="code" href="structospf__distance.html">ospf_distance</a> *odistance;

  ret = <a class="code" href="prefix_8c.html#aae422250092661b36915d1769df957f7">str2prefix_ipv4</a> (ip_str, &amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>);
  <span class="keywordflow">if</span> (ret == 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Malformed prefix%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  distance = atoi (distance_str);

  <span class="comment">/* Get OSPF distance node. */</span>
  rn = <a class="code" href="table_8c.html#ac91fdff1a0b8dc3d60ebaf152caa0f80">route_node_get</a> (<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#aa0bcd2b2f2d571c795617a6ddcd0faa7">distance_table</a>, (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *) &amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>);
  <span class="keywordflow">if</span> (rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>)
    {
      odistance = rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
      <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);
    }
  <span class="keywordflow">else</span>
    {
      odistance = <a class="code" href="ospf__zebra_8c.html#a3cb2e7f39c68713a806a1d08643bb4b7">ospf_distance_new</a> ();
      rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = odistance;
    }

  <span class="comment">/* Set distance value. */</span>
  odistance-&gt;<a class="code" href="structospf__distance.html#abfb569e1e6c80fda164304bf00250375">distance</a> = <a class="code" href="zebra__rib_8c.html#afb9412686cd344ad61757c1c19ba8a87">distance</a>;

  <span class="comment">/* Reset access-list configuration. */</span>
  <span class="keywordflow">if</span> (odistance-&gt;<a class="code" href="structospf__distance.html#ab75a7f5e896a82a39cd9b3ee32e9a9a1">access_list</a>)
    {
      free (odistance-&gt;<a class="code" href="structospf__distance.html#ab75a7f5e896a82a39cd9b3ee32e9a9a1">access_list</a>);
      odistance-&gt;<a class="code" href="structospf__distance.html#ab75a7f5e896a82a39cd9b3ee32e9a9a1">access_list</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }
  <span class="keywordflow">if</span> (access_list_str)
    odistance-&gt;<a class="code" href="structospf__distance.html#ab75a7f5e896a82a39cd9b3ee32e9a9a1">access_list</a> = strdup (access_list_str);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acf6d2c4c0ddedd11eca685895d2df9fd"></a><!-- doxytag: member="ospf_zebra.h::ospf_distance_unset" ref="acf6d2c4c0ddedd11eca685895d2df9fd" args="(struct vty *, struct ospf *, const char *, const char *, const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_distance_unset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l01175">1175</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span><a class="code" href="structprefix__ipv4.html">prefix_ipv4</a> <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
  u_char <a class="code" href="zebra__rib_8c.html#afb9412686cd344ad61757c1c19ba8a87">distance</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *rn;
  <span class="keyword">struct </span><a class="code" href="structospf__distance.html">ospf_distance</a> *odistance;

  ret = <a class="code" href="prefix_8c.html#aae422250092661b36915d1769df957f7">str2prefix_ipv4</a> (ip_str, &amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>);
  <span class="keywordflow">if</span> (ret == 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Malformed prefix%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  distance = atoi (distance_str);

  rn = <a class="code" href="table_8c.html#ab99d86b40440c8f18d4f2b31b5b8f1c7">route_node_lookup</a> (<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#aa0bcd2b2f2d571c795617a6ddcd0faa7">distance_table</a>, (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *) &amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>);
  <span class="keywordflow">if</span> (!rn)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Can&#39;t find specified prefix%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  odistance = rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;

  <span class="keywordflow">if</span> (odistance-&gt;<a class="code" href="structospf__distance.html#ab75a7f5e896a82a39cd9b3ee32e9a9a1">access_list</a>)
    free (odistance-&gt;<a class="code" href="structospf__distance.html#ab75a7f5e896a82a39cd9b3ee32e9a9a1">access_list</a>);
  <a class="code" href="ospf__zebra_8c.html#ad7de1ef8610fe7846b43f26dd906c2d5">ospf_distance_free</a> (odistance);

  rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a71a523629f18d369ee982ef3ee27dede"></a><!-- doxytag: member="ospf_zebra.h::ospf_distribute_check_connected" ref="a71a523629f18d369ee982ef3ee27dede" args="(struct ospf *, struct external_info *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_distribute_check_connected </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structexternal__info.html">external_info</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00683">683</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;
  <span class="keyword">struct </span><a class="code" href="structospf__interface.html">ospf_interface</a> *oi;


  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a977d3608343fe5db7900ec646880cb6a">oiflist</a>, node, oi))
      <span class="keywordflow">if</span> (<a class="code" href="prefix_8c.html#a8c5d68665a4b036a361330bee254318e">prefix_match</a> (oi-&gt;<a class="code" href="structospf__interface.html#a43493bc2b5d951e3e38ace850332eca1">address</a>, (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *) &amp;ei-&gt;p))
          <span class="keywordflow">return</span> 0;
  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a188e7add58035c375b35e4972eb5967e"></a><!-- doxytag: member="ospf_zebra.h::ospf_distribute_list_out_set" ref="a188e7add58035c375b35e4972eb5967e" args="(struct ospf *, int, const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_distribute_list_out_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00886">886</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Lookup access-list for distribute-list. */</span>
  <a class="code" href="ospfd_8h.html#a96719238490e0edd9331bdeae79c190f">DISTRIBUTE_LIST</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) = <a class="code" href="filter_8c.html#a8cb65cd01015f6673c632cb5b8714b3e">access_list_lookup</a> (<a class="code" href="zebra_8h.html#a192fcc8cbfb7b9d03c6562c48941a4bd">AFI_IP</a>, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);

  <span class="comment">/* Clear previous distribute-name. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="ospfd_8h.html#a21d66b4ea7498172da5521cf0445110e">DISTRIBUTE_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    free (<a class="code" href="ospfd_8h.html#a21d66b4ea7498172da5521cf0445110e">DISTRIBUTE_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));

  <span class="comment">/* Set distribute-name. */</span>
  <a class="code" href="ospfd_8h.html#a21d66b4ea7498172da5521cf0445110e">DISTRIBUTE_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) = strdup (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);

  <span class="comment">/* If access-list have been set, schedule update timer. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="ospfd_8h.html#a96719238490e0edd9331bdeae79c190f">DISTRIBUTE_LIST</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    <a class="code" href="ospf__zebra_8c.html#a52f98f2caaa07486833cfaad5888fdaa">ospf_distribute_list_update</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa38e1f4912ce27463789a93989f4582d"></a><!-- doxytag: member="ospf_zebra.h::ospf_distribute_list_out_unset" ref="aa38e1f4912ce27463789a93989f4582d" args="(struct ospf *, int, const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_distribute_list_out_unset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00906">906</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Schedule update timer. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="ospfd_8h.html#a96719238490e0edd9331bdeae79c190f">DISTRIBUTE_LIST</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    <a class="code" href="ospf__zebra_8c.html#a52f98f2caaa07486833cfaad5888fdaa">ospf_distribute_list_update</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);

  <span class="comment">/* Unset distribute-list. */</span>
  <a class="code" href="ospfd_8h.html#a96719238490e0edd9331bdeae79c190f">DISTRIBUTE_LIST</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Clear distribute-name. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="ospfd_8h.html#a21d66b4ea7498172da5521cf0445110e">DISTRIBUTE_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    free (<a class="code" href="ospfd_8h.html#a21d66b4ea7498172da5521cf0445110e">DISTRIBUTE_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));

  <a class="code" href="ospfd_8h.html#a21d66b4ea7498172da5521cf0445110e">DISTRIBUTE_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abf2ac56768e377a285df120cd0deba82"></a><!-- doxytag: member="ospf_zebra.h::ospf_distribute_list_update" ref="abf2ac56768e377a285df120cd0deba82" args="(struct ospf *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_distribute_list_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00969">969</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__table.html">route_table</a> *rt;

  <span class="comment">/* External info does not exist. */</span>
  <span class="keywordflow">if</span> (!(rt = <a class="code" href="ospfd_8h.html#a9fa5e60f9244cb3ea41a0a96d3c9b85c">EXTERNAL_INFO</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>)))
    <span class="keywordflow">return</span>;

  <span class="comment">/* If exists previously invoked thread, then let it continue. */</span>
  <span class="keywordflow">if</span> (<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#abfa4d7a08ec475ecaa88449f363acd23">t_distribute_update</a>)
    <span class="keywordflow">return</span>;

  <span class="comment">/* Set timer. */</span>
  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#abfa4d7a08ec475ecaa88449f363acd23">t_distribute_update</a> =
    <a class="code" href="thread_8h.html#aca77b3bbd166d3573de5ecd9756a590c">thread_add_timer</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf__zebra_8c.html#a5c74ee744958cec76bc871c5beee7e00">ospf_distribute_list_update_timer</a>,
                      (<span class="keywordtype">void</span> *) <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>, <a class="code" href="ospf__zebra_8c.html#a84eeafdde68ec75e1f387fed8d8032cc">OSPF_DISTRIBUTE_UPDATE_DELAY</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a12868e9c56b5620053d86e3090eb9890"></a><!-- doxytag: member="ospf_zebra.h::ospf_is_type_redistributed" ref="a12868e9c56b5620053d86e3090eb9890" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_is_type_redistributed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00522">522</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> (<a class="code" href="ospf__zebra_8h.html#a3ccd23195e60a2a4007fafb6a54e1a4e">DEFAULT_ROUTE_TYPE</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>)) ?
    <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a9d77c71b907f0f130f467edaefed93e9">default_information</a> : <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a73de8c9ab147f3c8b6f4537d83582a60"></a><!-- doxytag: member="ospf_zebra.h::ospf_redistribute_check" ref="a73de8c9ab147f3c8b6f4537d83582a60" args="(struct ospf *, struct external_info *, int *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_redistribute_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structexternal__info.html">external_info</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00697">697</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__map__set__values.html">route_map_set_values</a> save_values;
  <span class="keyword">struct </span><a class="code" href="structprefix__ipv4.html">prefix_ipv4</a> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a> = &amp;ei-&gt;p;
  u_char <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> = <a class="code" href="ospf__lsa_8c.html#ab361b6fb4bed2a417afb49ae46bae391">is_prefix_default</a> (&amp;ei-&gt;p) ? <a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a> : ei-&gt;type;

  <span class="keywordflow">if</span> (changed)
    *changed = 0;

  <span class="keywordflow">if</span> (!<a class="code" href="ospf__zebra_8c.html#a104b0443520d077cb0f1626f2bf6e735">ospf_external_lsa_originate_check</a> (<a class="code" href="structospf.html">ospf</a>, ei))
    <span class="keywordflow">return</span> 0;

  <span class="comment">/* Take care connected route. */</span>
  <span class="keywordflow">if</span> (type == <a class="code" href="zebra_8h.html#aee45d53cdac2bd7fe4b2ce021c9d1b30">ZEBRA_ROUTE_CONNECT</a> &amp;&amp;
      !<a class="code" href="ospf__zebra_8c.html#a92dcc57e677b842ee7ce321d7cbae5e3">ospf_distribute_check_connected</a> (<a class="code" href="structospf.html">ospf</a>, ei))
    <span class="keywordflow">return</span> 0;

  <span class="keywordflow">if</span> (!<a class="code" href="ospf__zebra_8h.html#a3ccd23195e60a2a4007fafb6a54e1a4e">DEFAULT_ROUTE_TYPE</a> (type) &amp;&amp; <a class="code" href="ospfd_8h.html#a21d66b4ea7498172da5521cf0445110e">DISTRIBUTE_NAME</a> (<a class="code" href="structospf.html">ospf</a>, type))
    <span class="comment">/* distirbute-list exists, but access-list may not? */</span>
    <span class="keywordflow">if</span> (<a class="code" href="ospfd_8h.html#a96719238490e0edd9331bdeae79c190f">DISTRIBUTE_LIST</a> (<a class="code" href="structospf.html">ospf</a>, type))
      <span class="keywordflow">if</span> (<a class="code" href="filter_8c.html#a5565f487c65e2bf0308c7fd529f121a0">access_list_apply</a> (<a class="code" href="ospfd_8h.html#a96719238490e0edd9331bdeae79c190f">DISTRIBUTE_LIST</a> (<a class="code" href="structospf.html">ospf</a>, type), p) == <a class="code" href="filter_8h.html#ab3b7281956317556f846daaebf75de72a898abadf6cc2f9d27780782f09d3a3e3">FILTER_DENY</a>)
        {
          <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
            <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute[%s]: %s/%d filtered by ditribute-list.&quot;</span>,
                       <a class="code" href="ospf__dump_8c.html#ac9f0bcaf160e328b6acb2c361dfa5002">ospf_redist_string</a>(type),
                       inet_ntoa (p-&gt;prefix), p-&gt;<a class="code" href="structprefix__ipv4.html#ab96da4bf1eb37195bd564bcf1126a16a">prefixlen</a>);
          <span class="keywordflow">return</span> 0;
        }

  save_values = ei-&gt;route_map_set;
  <a class="code" href="ospf__asbr_8c.html#aa4b664d1d2931e548f1e0803d00549ec">ospf_reset_route_map_set_values</a> (&amp;ei-&gt;route_map_set);

  <span class="comment">/* apply route-map if needed */</span>
  <span class="keywordflow">if</span> (<a class="code" href="ospfd_8h.html#a5c462a148a6cd728dcf50a1d7cc18804">ROUTEMAP_NAME</a> (<a class="code" href="structospf.html">ospf</a>, type))
    {
      <span class="keywordtype">int</span> ret;

      ret = <a class="code" href="routemap_8c.html#a3372553a024332702cfd603e1f4c08d6">route_map_apply</a> (<a class="code" href="ospfd_8h.html#afdae06aa57f00f3f4e3fd12055ead548">ROUTEMAP</a> (<a class="code" href="structospf.html">ospf</a>, type), (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *) p,
                             <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370a4284b205cb07374b45edb0fa25b8b064">RMAP_OSPF</a>, ei);

      <span class="keywordflow">if</span> (ret == <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">RMAP_DENYMATCH</a>)
        {
          ei-&gt;route_map_set = save_values;
          <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
            <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute[%s]: %s/%d filtered by route-map.&quot;</span>,
                       <a class="code" href="ospf__dump_8c.html#ac9f0bcaf160e328b6acb2c361dfa5002">ospf_redist_string</a>(type),
                       inet_ntoa (p-&gt;prefix), p-&gt;<a class="code" href="structprefix__ipv4.html#ab96da4bf1eb37195bd564bcf1126a16a">prefixlen</a>);
          <span class="keywordflow">return</span> 0;
        }

      <span class="comment">/* check if &#39;route-map set&#39; changed something */</span>
      <span class="keywordflow">if</span> (changed)
        *changed = !<a class="code" href="ospf__asbr_8c.html#a09c629a907b15a7997bda76039ec73cd">ospf_route_map_set_compare</a> (&amp;ei-&gt;route_map_set,
                                                &amp;save_values);
    }

  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7fce012a67bcc248e1c5ae21fd7c22c1"></a><!-- doxytag: member="ospf_zebra.h::ospf_redistribute_default_set" ref="a7fce012a67bcc248e1c5ae21fd7c22c1" args="(struct ospf *, int, int, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_redistribute_default_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00598">598</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a1111f78d01dc9e8d522e639da7a2a36c">default_originate</a> = originate;
  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>].<a class="code" href="structospf.html#adcc2e8439120b1f4144a6be8d702f638">type</a> = mtype;
  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>].<a class="code" href="structospf.html#a2bd05e59ebe8b6b342e19562d55a8a10">value</a> = mvalue;

  <span class="keywordflow">if</span> (<a class="code" href="ospf__zebra_8c.html#a0b61d95e6baf19bdd9d8a7705788a226">ospf_is_type_redistributed</a> (<a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>))
    {
      <span class="comment">/* if ospf-&gt;default_originate changes value, is calling</span>
<span class="comment">     ospf_external_lsa_refresh_default sufficient to implement</span>
<span class="comment">     the change? */</span>
      <a class="code" href="ospf__lsa_8c.html#a1be6376d9b23634a76f2a6a07833fe1e">ospf_external_lsa_refresh_default</a> (<a class="code" href="structospf.html">ospf</a>);

      <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute[%s]: Refresh  Type[%d], Metric[%d]&quot;</span>,
                   <a class="code" href="ospf__dump_8c.html#ac9f0bcaf160e328b6acb2c361dfa5002">ospf_redist_string</a>(<a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>),
                   <a class="code" href="ospf__lsa_8c.html#a10781678cf0418caa60ce806cb18f7f1">metric_type</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>),
                   <a class="code" href="ospf__lsa_8c.html#aebf4067916a42ca176b32e7dbb15621d">metric_value</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>));
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <a class="code" href="zclient_8c.html#a2d2c4a009144e592b06b55055ab9c38e">zclient_redistribute_default</a> (<a class="code" href="zebra_8h.html#a6a54e4c8e5f637b9edb208de808a2ac6">ZEBRA_REDISTRIBUTE_DEFAULT_ADD</a>, <a class="code" href="structzclient.html">zclient</a>);

  <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute[DEFAULT]: Start  Type[%d], Metric[%d]&quot;</span>,
               <a class="code" href="ospf__lsa_8c.html#a10781678cf0418caa60ce806cb18f7f1">metric_type</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>),
               <a class="code" href="ospf__lsa_8c.html#aebf4067916a42ca176b32e7dbb15621d">metric_value</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>));

  <span class="keywordflow">if</span> (<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#acda9328f4f8627516f5c4942a45b4c25">router_id</a>.s_addr == 0)
    <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a4e2d4fb95c750aeddee77669b7073e86">external_origin</a> |= (1 &lt;&lt; <a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>);
  <span class="keywordflow">else</span>
    <a class="code" href="thread_8h.html#aca77b3bbd166d3573de5ecd9756a590c">thread_add_timer</a> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>, <a class="code" href="ospf__lsa_8c.html#ab2bcb8bca8aa169076de0505e3ddad72">ospf_default_originate_timer</a>, <a class="code" href="structospf.html">ospf</a>, 1);

  <a class="code" href="ospf__asbr_8c.html#a15ef7b9d7fd4f1120453e770c076160a">ospf_asbr_status_update</a> (<a class="code" href="structospf.html">ospf</a>, ++<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a298631df5a443358670e6415175f2251">redistribute</a>);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a20ebb383b13958bdf4b9f86397efaa3d"></a><!-- doxytag: member="ospf_zebra.h::ospf_redistribute_default_unset" ref="a20ebb383b13958bdf4b9f86397efaa3d" args="(struct ospf *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_redistribute_default_unset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00638">638</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (!<a class="code" href="ospf__zebra_8c.html#a0b61d95e6baf19bdd9d8a7705788a226">ospf_is_type_redistributed</a> (<a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>))
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a1111f78d01dc9e8d522e639da7a2a36c">default_originate</a> = <a class="code" href="ospfd_8h.html#a2cb5991aff286dfe8d5b67d9730e0c81">DEFAULT_ORIGINATE_NONE</a>;
  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>].<a class="code" href="structospf.html#adcc2e8439120b1f4144a6be8d702f638">type</a> = -1;
  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="ospf__zebra_8h.html#a353195a6a59d18a6807885cbefaf0d24">DEFAULT_ROUTE</a>].<a class="code" href="structospf.html#a2bd05e59ebe8b6b342e19562d55a8a10">value</a> = -1;

  <a class="code" href="zclient_8c.html#a2d2c4a009144e592b06b55055ab9c38e">zclient_redistribute_default</a> (<a class="code" href="zebra_8h.html#a2fd9f5c25e3e2e28a03047807f20e246">ZEBRA_REDISTRIBUTE_DEFAULT_DELETE</a>, <a class="code" href="structzclient.html">zclient</a>);

  <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute[DEFAULT]: Stop&quot;</span>);

  <a class="code" href="ospf__asbr_8c.html#a15ef7b9d7fd4f1120453e770c076160a">ospf_asbr_status_update</a> (<a class="code" href="structospf.html">ospf</a>, --<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a298631df5a443358670e6415175f2251">redistribute</a>);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa2d4bff5fdda61f7b3a3612b74ee7396"></a><!-- doxytag: member="ospf_zebra.h::ospf_redistribute_set" ref="aa2d4bff5fdda61f7b3a3612b74ee7396" args="(struct ospf *, int, int, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_redistribute_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00529">529</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> force = 0;

  <span class="keywordflow">if</span> (<a class="code" href="ospf__zebra_8c.html#a0b61d95e6baf19bdd9d8a7705788a226">ospf_is_type_redistributed</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    {
      <span class="keywordflow">if</span> (mtype != <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf.html#adcc2e8439120b1f4144a6be8d702f638">type</a>)
        {
          <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf.html#adcc2e8439120b1f4144a6be8d702f638">type</a> = mtype;
          force = <a class="code" href="ospf__lsa_8h.html#a389234e05af4a29be76c63dc46576791">LSA_REFRESH_FORCE</a>;
        }
      <span class="keywordflow">if</span> (mvalue != <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf.html#a2bd05e59ebe8b6b342e19562d55a8a10">value</a>)
        {
          <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf.html#a2bd05e59ebe8b6b342e19562d55a8a10">value</a> = mvalue;
          force = <a class="code" href="ospf__lsa_8h.html#a389234e05af4a29be76c63dc46576791">LSA_REFRESH_FORCE</a>;
        }

      <a class="code" href="ospf__lsa_8c.html#aef94b25c2a2fad9088e82a85ee71f226">ospf_external_lsa_refresh_type</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>, force);

      <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute[%s]: Refresh  Type[%d], Metric[%d]&quot;</span>,
                   <a class="code" href="ospf__dump_8c.html#ac9f0bcaf160e328b6acb2c361dfa5002">ospf_redist_string</a>(<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>),
                   <a class="code" href="ospf__lsa_8c.html#a10781678cf0418caa60ce806cb18f7f1">metric_type</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>), <a class="code" href="ospf__lsa_8c.html#aebf4067916a42ca176b32e7dbb15621d">metric_value</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));

      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf.html#adcc2e8439120b1f4144a6be8d702f638">type</a> = mtype;
  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf.html#a2bd05e59ebe8b6b342e19562d55a8a10">value</a> = mvalue;

  <a class="code" href="zclient_8c.html#a4381afa78256a1211fe7881394d7e666">zclient_redistribute</a> (<a class="code" href="zebra_8h.html#aaf00306d6060095dd258463ee7cb0cc1">ZEBRA_REDISTRIBUTE_ADD</a>, <a class="code" href="structzclient.html">zclient</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);

  <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute[%s]: Start  Type[%d], Metric[%d]&quot;</span>,
               <a class="code" href="ospf__dump_8c.html#ac9f0bcaf160e328b6acb2c361dfa5002">ospf_redist_string</a>(<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>),
               <a class="code" href="ospf__lsa_8c.html#a10781678cf0418caa60ce806cb18f7f1">metric_type</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>), <a class="code" href="ospf__lsa_8c.html#aebf4067916a42ca176b32e7dbb15621d">metric_value</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));

  <a class="code" href="ospf__asbr_8c.html#a15ef7b9d7fd4f1120453e770c076160a">ospf_asbr_status_update</a> (<a class="code" href="structospf.html">ospf</a>, ++<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a298631df5a443358670e6415175f2251">redistribute</a>);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac4ae9d6022d66a288a10b9c4d92c72f3"></a><!-- doxytag: member="ospf_zebra.h::ospf_redistribute_unset" ref="ac4ae9d6022d66a288a10b9c4d92c72f3" args="(struct ospf *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf_redistribute_unset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00572">572</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> == <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c2ac97dd71c8f3a0db036c6c0216208">redist_default</a>)
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <span class="keywordflow">if</span> (!<a class="code" href="ospf__zebra_8c.html#a0b61d95e6baf19bdd9d8a7705788a226">ospf_is_type_redistributed</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <a class="code" href="zclient_8c.html#a4381afa78256a1211fe7881394d7e666">zclient_redistribute</a> (<a class="code" href="zebra_8h.html#a1dce1941aae01a8a16dace7591398a0d">ZEBRA_REDISTRIBUTE_DELETE</a>, <a class="code" href="structzclient.html">zclient</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);

  <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute[%s]: Stop&quot;</span>,
               <a class="code" href="ospf__dump_8c.html#ac9f0bcaf160e328b6acb2c361dfa5002">ospf_redist_string</a>(<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));

  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf.html#adcc2e8439120b1f4144a6be8d702f638">type</a> = -1;
  <a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a469871fc51798a2de7e3b19ada21d8ce">dmetric</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf.html#a2bd05e59ebe8b6b342e19562d55a8a10">value</a> = -1;

  <span class="comment">/* Remove the routes from OSPF table. */</span>
  <a class="code" href="ospf__asbr_8c.html#a2e66aff41931c30bba7072e26e34bf12">ospf_redistribute_withdraw</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);

  <a class="code" href="ospf__asbr_8c.html#a15ef7b9d7fd4f1120453e770c076160a">ospf_asbr_status_update</a> (<a class="code" href="structospf.html">ospf</a>, --<a class="code" href="structospf.html">ospf</a>-&gt;<a class="code" href="structospf.html#a298631df5a443358670e6415175f2251">redistribute</a>);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac31d7000bbff95e3cc462e4880c4ef93"></a><!-- doxytag: member="ospf_zebra.h::ospf_routemap_set" ref="ac31d7000bbff95e3cc462e4880c4ef93" args="(struct ospf *, int, const char *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_routemap_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00759">759</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="ospfd_8h.html#a5c462a148a6cd728dcf50a1d7cc18804">ROUTEMAP_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    free (<a class="code" href="ospfd_8h.html#a5c462a148a6cd728dcf50a1d7cc18804">ROUTEMAP_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));

  <a class="code" href="ospfd_8h.html#a5c462a148a6cd728dcf50a1d7cc18804">ROUTEMAP_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) = strdup (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
  <a class="code" href="ospfd_8h.html#afdae06aa57f00f3f4e3fd12055ead548">ROUTEMAP</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) = <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af309a974bddf58ee6ec7a3fdc0078769"></a><!-- doxytag: member="ospf_zebra.h::ospf_routemap_unset" ref="af309a974bddf58ee6ec7a3fdc0078769" args="(struct ospf *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_routemap_unset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf.html">ospf</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00769">769</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="ospfd_8h.html#a5c462a148a6cd728dcf50a1d7cc18804">ROUTEMAP_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    free (<a class="code" href="ospfd_8h.html#a5c462a148a6cd728dcf50a1d7cc18804">ROUTEMAP_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));

  <a class="code" href="ospfd_8h.html#a5c462a148a6cd728dcf50a1d7cc18804">ROUTEMAP_NAME</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="ospfd_8h.html#afdae06aa57f00f3f4e3fd12055ead548">ROUTEMAP</a> (<a class="code" href="structospf.html">ospf</a>, <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>) = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3e69cfc681541a7ee55030484ec90f33"></a><!-- doxytag: member="ospf_zebra.h::ospf_zclient_start" ref="a3e69cfc681541a7ee55030484ec90f33" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_zclient_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1eb6da07083106d928826c5e9f54ceb2"></a><!-- doxytag: member="ospf_zebra.h::ospf_zebra_add" ref="a1eb6da07083106d928826c5e9f54ceb2" args="(struct prefix_ipv4 *, struct ospf_route *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_zebra_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf__route.html">ospf_route</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00328">328</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_char <a class="code" href="structmessage.html">message</a>;
  u_char <a class="code" href="zebra__rib_8c.html#afb9412686cd344ad61757c1c19ba8a87">distance</a>;
  u_char <a class="code" href="structflags.html">flags</a>;
  <span class="keywordtype">int</span> psize;
  <span class="keyword">struct </span><a class="code" href="structstream.html">stream</a> *<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>;
  <span class="keyword">struct </span><a class="code" href="structospf__path.html">ospf_path</a> *path;
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;

  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>])
    {
      message = 0;
      flags = 0;

      <span class="comment">/* OSPF pass nexthop and metric */</span>
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (message, <a class="code" href="zclient_8h.html#a321bbeaddad8bc9bffaf57f7ac6cf8fd">ZAPI_MESSAGE_NEXTHOP</a>);
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (message, <a class="code" href="zclient_8h.html#a4a5d60df1ef02f794476ea1daa6ba024">ZAPI_MESSAGE_METRIC</a>);

      <span class="comment">/* Distance value. */</span>
      distance = <a class="code" href="ospf__zebra_8c.html#a41cbdfc85156d98b745b25d652cb35a3">ospf_distance_apply</a> (<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>, or);
      <span class="keywordflow">if</span> (distance)
        <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (message, <a class="code" href="zclient_8h.html#abe498bb81bfbda17757173ef23e25179">ZAPI_MESSAGE_DISTANCE</a>);

      <span class="comment">/* Make packet. */</span>
      s = <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a6ad60dd1b329d25af807f1517634b71f">obuf</a>;
      <a class="code" href="stream_8c.html#aee8fd31485ebc2f0a556a6a5d5c2d1e6">stream_reset</a> (s);

      <span class="comment">/* Put command, type, flags, message. */</span>
      <a class="code" href="zclient_8c.html#a70fa712bf570d588ea3b3c464bc5156f">zclient_create_header</a> (s, <a class="code" href="zebra_8h.html#aa2913a6b1e5fbc598479aa282343a5e1">ZEBRA_IPV4_ROUTE_ADD</a>);
      <a class="code" href="stream_8c.html#a8a00e56e71aed4753ee4a21f8dd2aa65">stream_putc</a> (s, <a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>);
      <a class="code" href="stream_8c.html#a8a00e56e71aed4753ee4a21f8dd2aa65">stream_putc</a> (s, flags);
      <a class="code" href="stream_8c.html#a8a00e56e71aed4753ee4a21f8dd2aa65">stream_putc</a> (s, message);

      <span class="comment">/* Put prefix information. */</span>
      psize = <a class="code" href="bgpd_8h.html#a472145011d944606a257487e80cc3ace">PSIZE</a> (<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefixlen);
      <a class="code" href="stream_8c.html#a8a00e56e71aed4753ee4a21f8dd2aa65">stream_putc</a> (s, <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefixlen);
      <a class="code" href="stream_8c.html#a39121b19ef0be09e9a5598a1ea1371c0">stream_write</a> (s, (u_char *) &amp; <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefix, psize);

      <span class="comment">/* Nexthop count. */</span>
      <a class="code" href="stream_8c.html#a8a00e56e71aed4753ee4a21f8dd2aa65">stream_putc</a> (s, or-&gt;paths-&gt;count);

      <span class="comment">/* Nexthop, ifindex, distance and metric information. */</span>
      <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (or-&gt;paths, node, path))
        {
          <span class="keywordflow">if</span> (path-&gt;<a class="code" href="structospf__path.html#a01fa8433844b50cd272e6e082114c257">nexthop</a>.s_addr != INADDR_ANY)
            {
              <a class="code" href="stream_8c.html#a8a00e56e71aed4753ee4a21f8dd2aa65">stream_putc</a> (s, <a class="code" href="zebra_8h.html#ae603faed81a38b4507ffd9b6f9586b44">ZEBRA_NEXTHOP_IPV4</a>);
              <a class="code" href="stream_8c.html#a9019a5de70c1b6c2715cf24103109632">stream_put_in_addr</a> (s, &amp;path-&gt;<a class="code" href="structospf__path.html#a01fa8433844b50cd272e6e082114c257">nexthop</a>);
            }
          <span class="keywordflow">else</span>
            {
              <a class="code" href="stream_8c.html#a8a00e56e71aed4753ee4a21f8dd2aa65">stream_putc</a> (s, <a class="code" href="zebra_8h.html#a8b5777b74f2584912603090de989e564">ZEBRA_NEXTHOP_IFINDEX</a>);
              <span class="keywordflow">if</span> (path-&gt;<a class="code" href="structospf__path.html#a7275881f3f46eace28604c8ebc0ed654">ifindex</a>)
                <a class="code" href="stream_8c.html#af366d780a14cb8de53279378a8a4faeb">stream_putl</a> (s, path-&gt;<a class="code" href="structospf__path.html#a7275881f3f46eace28604c8ebc0ed654">ifindex</a>);
              <span class="keywordflow">else</span>
                <a class="code" href="stream_8c.html#af366d780a14cb8de53279378a8a4faeb">stream_putl</a> (s, 0);
            }

          <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
            {
          <span class="keywordtype">char</span> buf[2][<a class="code" href="prefix_8h.html#a93b37007689284fd9c4bde1a8f4b9199">INET_ADDRSTRLEN</a>];
          <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a>(<span class="stringliteral">&quot;Zebra: Route add %s/%d nexthop %s&quot;</span>,
             <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a>(AF_INET, &amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefix,
                   buf[0], <span class="keyword">sizeof</span>(buf[0])),
             <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefixlen,
             <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a>(AF_INET, &amp;path-&gt;<a class="code" href="structospf__path.html#a01fa8433844b50cd272e6e082114c257">nexthop</a>,
                   buf[1], <span class="keyword">sizeof</span>(buf[1])));
            }
        }

      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (message, <a class="code" href="zclient_8h.html#abe498bb81bfbda17757173ef23e25179">ZAPI_MESSAGE_DISTANCE</a>))
        <a class="code" href="stream_8c.html#a8a00e56e71aed4753ee4a21f8dd2aa65">stream_putc</a> (s, distance);
      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (message, <a class="code" href="zclient_8h.html#a4a5d60df1ef02f794476ea1daa6ba024">ZAPI_MESSAGE_METRIC</a>))
        {
          <span class="keywordflow">if</span> (or-&gt;path_type == <a class="code" href="ospf__route_8h.html#a15dab014460164847059902ea4535834">OSPF_PATH_TYPE1_EXTERNAL</a>)
            <a class="code" href="stream_8c.html#af366d780a14cb8de53279378a8a4faeb">stream_putl</a> (s, or-&gt;cost + or-&gt;u.ext.type2_cost);
          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (or-&gt;path_type == <a class="code" href="ospf__route_8h.html#aa9752c4570157da8a3258dc4cdf23ce5">OSPF_PATH_TYPE2_EXTERNAL</a>)
            <a class="code" href="stream_8c.html#af366d780a14cb8de53279378a8a4faeb">stream_putl</a> (s, or-&gt;u.ext.type2_cost);
          <span class="keywordflow">else</span>
            <a class="code" href="stream_8c.html#af366d780a14cb8de53279378a8a4faeb">stream_putl</a> (s, or-&gt;cost);
        }

      <a class="code" href="stream_8c.html#a41de70a7383bac6220b787d740c0b261">stream_putw_at</a> (s, 0, <a class="code" href="stream_8c.html#ac1d2c72755840ea194301a5447ff721a">stream_get_endp</a> (s));

      <a class="code" href="zclient_8c.html#ad395166e549bd33dcc253052ac0bbd7d">zclient_send_message</a>(<a class="code" href="structzclient.html">zclient</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a405c8fcb9701ae80e76599ea41bfb755"></a><!-- doxytag: member="ospf_zebra.h::ospf_zebra_add_discard" ref="a405c8fcb9701ae80e76599ea41bfb755" args="(struct prefix_ipv4 *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_zebra_add_discard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00477">477</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structzapi__ipv4.html">zapi_ipv4</a> api;

  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>])
    {
      api.<a class="code" href="structzapi__ipv4.html#ae4c29fc6652367a6546104010802ac2f">type</a> = <a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>;
      api.flags = <a class="code" href="zebra_8h.html#ab3b7a4bd090244ae1b882b9003810713">ZEBRA_FLAG_BLACKHOLE</a>;
      api.message = 0;
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a321bbeaddad8bc9bffaf57f7ac6cf8fd">ZAPI_MESSAGE_NEXTHOP</a>);
      api.nexthop_num = 0;
      api.ifindex_num = 0;

      <a class="code" href="zclient_8c.html#ad9a398f43faa79a0bab620c985fb476a">zapi_ipv4_route</a> (<a class="code" href="zebra_8h.html#aa2913a6b1e5fbc598479aa282343a5e1">ZEBRA_IPV4_ROUTE_ADD</a>, <a class="code" href="structzclient.html">zclient</a>, <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>, &amp;api);

      <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra: Route add discard %s/%d&quot;</span>,
                   inet_ntoa (<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefix), <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefixlen);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9a2007100217595f7fa1ad5412b10afc"></a><!-- doxytag: member="ospf_zebra.h::ospf_zebra_delete" ref="a9a2007100217595f7fa1ad5412b10afc" args="(struct prefix_ipv4 *, struct ospf_route *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_zebra_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf__route.html">ospf_route</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00418">418</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structzapi__ipv4.html">zapi_ipv4</a> api;
  <span class="keyword">struct </span><a class="code" href="structospf__path.html">ospf_path</a> *path;
  <span class="keyword">struct </span>in_addr *<a class="code" href="structnexthop.html">nexthop</a>;
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node, *nnode;

  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>])
    {
      api.type = <a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>;
      api.flags = 0;
      api.message = 0;
      api.ifindex_num = 0;
      api.nexthop_num = 0;

      <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a71512a873b8f0e2b4c84d3c949a9bbaf">ALL_LIST_ELEMENTS</a> (or-&gt;paths, node, nnode, path))
        {
          <span class="keywordflow">if</span> (path-&gt;<a class="code" href="structospf__path.html#a01fa8433844b50cd272e6e082114c257">nexthop</a>.s_addr != INADDR_ANY)
            {
              <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a321bbeaddad8bc9bffaf57f7ac6cf8fd">ZAPI_MESSAGE_NEXTHOP</a>);
              api.nexthop_num = 1;
              nexthop = &amp;path-&gt;<a class="code" href="structospf__path.html#a01fa8433844b50cd272e6e082114c257">nexthop</a>;
              api.nexthop = &amp;nexthop;
            }
          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a424dd1e971aee548383cca2b770e2859">if_lookup_by_index</a>(path-&gt;<a class="code" href="structospf__path.html#a7275881f3f46eace28604c8ebc0ed654">ifindex</a>))
            {
              <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a321bbeaddad8bc9bffaf57f7ac6cf8fd">ZAPI_MESSAGE_NEXTHOP</a>);
              api.ifindex_num = 1;
              api.ifindex = &amp;path-&gt;<a class="code" href="structospf__path.html#a7275881f3f46eace28604c8ebc0ed654">ifindex</a>;
            }
          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a>(<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>,ZEBRA_REDISTRIBUTE) )
            {
              <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a>(<span class="stringliteral">&quot;Zebra: no ifp %s %d&quot;</span>,
                         inet_ntoa(<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefix),
                         <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefixlen);
            }

          <a class="code" href="zclient_8c.html#ad9a398f43faa79a0bab620c985fb476a">zapi_ipv4_route</a> (<a class="code" href="zebra_8h.html#a0c9efcc3f61219a6697f5da18d8de992">ZEBRA_IPV4_ROUTE_DELETE</a>, <a class="code" href="structzclient.html">zclient</a>, <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>, &amp;api);

          <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE) &amp;&amp; api.nexthop_num)
            {
          <span class="keywordtype">char</span> buf[2][<a class="code" href="prefix_8h.html#a93b37007689284fd9c4bde1a8f4b9199">INET_ADDRSTRLEN</a>];
          <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a>(<span class="stringliteral">&quot;Zebra: Route delete %s/%d nexthop %s&quot;</span>,
             <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a>(AF_INET, &amp;<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefix, buf[0], <span class="keyword">sizeof</span>(buf[0])),
             <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefixlen,
             <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a>(AF_INET, *api.nexthop,
                   buf[1], <span class="keyword">sizeof</span>(buf[1])));
            }
          <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE) &amp;&amp; api.ifindex_num)
            {
              <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra: Route delete %s/%d ifindex %d&quot;</span>,
                         inet_ntoa (<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefix),
                         <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefixlen, *api.ifindex);
            }
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a263f719b14f359f582ff1d3fa7aa85d6"></a><!-- doxytag: member="ospf_zebra.h::ospf_zebra_delete_discard" ref="a263f719b14f359f582ff1d3fa7aa85d6" args="(struct prefix_ipv4 *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_zebra_delete_discard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix__ipv4.html">prefix_ipv4</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l00499">499</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structzapi__ipv4.html">zapi_ipv4</a> api;

  <span class="keywordflow">if</span> (<a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a7c76c66fcb4fee1303f834ea9fea0fc5">redist</a>[<a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>])
    {
      api.<a class="code" href="structzapi__ipv4.html#ae4c29fc6652367a6546104010802ac2f">type</a> = <a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>;
      api.flags = <a class="code" href="zebra_8h.html#ab3b7a4bd090244ae1b882b9003810713">ZEBRA_FLAG_BLACKHOLE</a>;
      api.message = 0;
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (api.message, <a class="code" href="zclient_8h.html#a321bbeaddad8bc9bffaf57f7ac6cf8fd">ZAPI_MESSAGE_NEXTHOP</a>);
      api.nexthop_num = 0;
      api.ifindex_num = 0;

      <a class="code" href="zclient_8c.html#ad9a398f43faa79a0bab620c985fb476a">zapi_ipv4_route</a> (<a class="code" href="zebra_8h.html#a0c9efcc3f61219a6697f5da18d8de992">ZEBRA_IPV4_ROUTE_DELETE</a>, <a class="code" href="structzclient.html">zclient</a>, <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>, &amp;api);

      <span class="keywordflow">if</span> (<a class="code" href="ospf__dump_8h.html#a065e478fcd8bd7a409804fc9e9e67e70">IS_DEBUG_OSPF</a> (<a class="code" href="bgp__debug_8c.html#aacd09dfe4b60fac4ec1c5e2895066f07">zebra</a>, ZEBRA_REDISTRIBUTE))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Zebra: Route delete discard %s/%d&quot;</span>,
                   inet_ntoa (<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefix), <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>-&gt;prefixlen);

    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a72fbdc912498a5746820b3bff6c6f0a8"></a><!-- doxytag: member="ospf_zebra.h::ospf_zebra_init" ref="a72fbdc912498a5746820b3bff6c6f0a8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf_zebra_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf__zebra_8c_source.html#l01261">1261</a> of file <a class="el" href="ospf__zebra_8c_source.html">ospf_zebra.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Allocate zebra structure. */</span>
  <a class="code" href="structzclient.html">zclient</a> = <a class="code" href="zclient_8c.html#aa521f2a71596b1dc50f76fcb57dff30b">zclient_new</a> ();
  <a class="code" href="zclient_8c.html#ac649a246f405850a3ade72de002745e3">zclient_init</a> (<a class="code" href="structzclient.html">zclient</a>, <a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>);
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a91ae88d0aa9ff087af5b7567334197f6">router_id_update</a> = <a class="code" href="ospf__zebra_8c.html#ac766e7564bdf5781398b1b1723b7d078">ospf_router_id_update_zebra</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a42e63c358fc87552ca16a1eea8b69c4f">interface_add</a> = <a class="code" href="ospf__zebra_8c.html#affcb29b33003244d9d1464bc907eda20">ospf_interface_add</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a59d608db28363c236285c6323d5697ab">interface_delete</a> = <a class="code" href="ospf__zebra_8c.html#afbcd5a399d377db72f8e11faa2b84b59">ospf_interface_delete</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a45465702e655472187e9efc3c1734daa">interface_up</a> = <a class="code" href="ospf__zebra_8c.html#ac5a236e0c7105013a377deda755a3a9f">ospf_interface_state_up</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a426b5e0ec3b5ad8843eb42deaa4fe335">interface_down</a> = <a class="code" href="ospf__zebra_8c.html#a8d0747b0991dedc055bf79a824a25834">ospf_interface_state_down</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a75ee908bb229653f271356b982fa76e7">interface_address_add</a> = <a class="code" href="ospf__zebra_8c.html#ab73bf4f6f734469a4d35cd112c74265a">ospf_interface_address_add</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a3494b722f85fe14ff8c99ddae54bad94">interface_address_delete</a> = <a class="code" href="ospf__zebra_8c.html#aef874b4b32cf37d7176a9f929de61d21">ospf_interface_address_delete</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#ac2fe2ea5a7f820e1ac572f7629be997f">ipv4_route_add</a> = <a class="code" href="ospf__zebra_8c.html#aa094f27792bcac11e8b637c65199e0fa">ospf_zebra_read_ipv4</a>;
  <a class="code" href="structzclient.html">zclient</a>-&gt;<a class="code" href="structzclient.html#a2fa1fdde8885665490f46edc8c102d4a">ipv4_route_delete</a> = <a class="code" href="ospf__zebra_8c.html#aa094f27792bcac11e8b637c65199e0fa">ospf_zebra_read_ipv4</a>;

  <a class="code" href="filter_8c.html#afc932e79e55881b9a1c1e700ec1e0cb4">access_list_add_hook</a> (<a class="code" href="ospf__zebra_8c.html#a4a532c457c6791580c8b595aa044db28">ospf_filter_update</a>);
  <a class="code" href="filter_8c.html#a7696ba96f8b2cf3a96dbfb2e161d6752">access_list_delete_hook</a> (<a class="code" href="ospf__zebra_8c.html#a4a532c457c6791580c8b595aa044db28">ospf_filter_update</a>);
  <a class="code" href="plist_8c.html#add7d0c6cd7985233eb409608b9bf248b">prefix_list_add_hook</a> (<a class="code" href="ospf__zebra_8c.html#a490e15816e8166995cd3c9c4b7e0cc95">ospf_prefix_list_update</a>);
  <a class="code" href="plist_8c.html#a28384c5c606bb185263f9d8f7ad4fa98">prefix_list_delete_hook</a> (<a class="code" href="ospf__zebra_8c.html#a490e15816e8166995cd3c9c4b7e0cc95">ospf_prefix_list_update</a>);
}
</pre></div>
</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ospf__zebra_8h.html">ospf_zebra.h</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:33 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
