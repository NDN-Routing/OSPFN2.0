<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: zebra/interface.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('interface_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">zebra/interface.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="if_8h_source.html">if.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vty_8h_source.html">vty.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sockunion_8h_source.html">sockunion.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="prefix_8h_source.html">prefix.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ioctl_8h_source.html">ioctl.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="connected_8h_source.html">connected.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="zclient_8h_source.html">zclient.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="interface_8h_source.html">zebra/interface.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rtadv_8h_source.html">zebra/rtadv.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rib_8h_source.html">zebra/rib.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="zserv_8h_source.html">zebra/zserv.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="redistribute_8h_source.html">zebra/redistribute.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="debug_8h_source.html">zebra/debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="irdp_8h_source.html">zebra/irdp.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for interface.c:</div>
<div class="dyncontent">
<div class="center"><img src="interface_8c__incl.png" border="0" usemap="#zebra_2interface_8c" alt=""/></div>
<map name="zebra_2interface_8c" id="zebra_2interface_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1335,80,1401,107"/><area shape="rect" id="node61" href="if_8h.html" title="if.h" alt="" coords="3207,379,3247,405"/><area shape="rect" id="node65" href="vty_8h.html" title="vty.h" alt="" coords="2955,155,3007,181"/><area shape="rect" id="node69" href="log_8h.html" title="log.h" alt="" coords="2786,229,2837,256"/><area shape="rect" id="node72" href="sockunion_8h.html" title="sockunion.h" alt="" coords="3544,528,3637,555"/><area shape="rect" id="node74" href="prefix_8h.html" title="prefix.h" alt="" coords="3521,453,3588,480"/><area shape="rect" id="node77" href="command_8h.html" title="command.h" alt="" coords="2850,80,2941,107"/><area shape="rect" id="node82" href="memory_8h.html" title="memory.h" alt="" coords="3664,80,3747,107"/><area shape="rect" id="node84" href="ioctl_8h.html" title="ioctl.h" alt="" coords="3771,80,3829,107"/><area shape="rect" id="node86" href="connected_8h.html" title="connected.h" alt="" coords="3853,80,3952,107"/><area shape="rect" id="node89" href="zclient_8h.html" title="zclient.h" alt="" coords="3117,304,3189,331"/><area shape="rect" id="node92" href="interface_8h.html" title="zebra/interface.h" alt="" coords="3264,155,3387,181"/><area shape="rect" id="node94" href="redistribute_8h.html" title="redistribute.h" alt="" coords="3385,229,3487,256"/><area shape="rect" id="node96" href="zserv_8h.html" title="zserv.h" alt="" coords="3358,304,3423,331"/><area shape="rect" id="node98" href="rib_8h.html" title="rib.h" alt="" coords="3491,379,3539,405"/><area shape="rect" id="node102" href="rtadv_8h.html" title="zebra/rtadv.h" alt="" coords="3134,80,3233,107"/><area shape="rect" id="node109" href="debug_8h.html" title="zebra/debug.h" alt="" coords="3977,80,4084,107"/><area shape="rect" id="node111" href="irdp_8h.html" title="zebra/irdp.h" alt="" coords="3018,80,3109,107"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="440,155,517,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="542,155,591,181"/><area shape="rect" id="node63" href="linklist_8h.html" title="linklist.h" alt="" coords="3191,453,3261,480"/><area shape="rect" id="node67" href="thread_8h.html" title="thread.h" alt="" coords="2945,229,3017,256"/><area shape="rect" id="node79" href="vector_8h.html" title="vector.h" alt="" coords="2859,155,2931,181"/></map>
</div>
</div>
<p><a href="interface_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#abf45a5ddc072f551dfe85fa0f0fd78c4">if_zebra_new_hook</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a3ec94c0c9b060f397b04a790a3b5e067">if_zebra_delete_hook</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a3d8abd4dd5d153b9501fe5f132dcf2e9">if_subnet_add</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp, struct <a class="el" href="structconnected.html">connected</a> *ifc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a5a3e0e346081affe4ee0af2ebcaaa792">if_subnet_delete</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp, struct <a class="el" href="structconnected.html">connected</a> *ifc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a61a988d3db14846cee1274c00c75a6a3">if_flags_mangle</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp, uint64_t *newflags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#ac290b836d2dd1082297e32356a1368fa">if_flags_update</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp, uint64_t newflags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a223966d09f459415553aab0fe6a8a59b">if_addr_wakeup</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#afc558d5fc9ef4b3b59af78576e079a28">if_add_update</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a5ca58fe2209f09a828330810fc5a7d71">if_delete_update</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a5ed3c13631e5c34358258aad230d5380">if_up</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a07c9e55f4e6b0072a7ccbf902b0b3035">if_down</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a284b04b55021b6c0086761ea4c400214">if_refresh</a> (struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a1aa89cedc560f174b4bb2747f3b46f6e">prefix_vty_out</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#aaff2a90e475f26b8de9de32edaf31993">connected_dump_vty</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structconnected.html">connected</a> *<a class="el" href="structconnected.html">connected</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#aaee2f121ed6ed6ca02af4f53c659b8ec">if_dump_vty</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structinterface.html">interface</a> *ifp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a38e6cec7fc42834e67bd4d2a764cff36">DEFUN_NOSH</a> (zebra_interface, zebra_interface_cmd,&quot;interface IFNAME&quot;,&quot;Select an <a class="el" href="structinterface.html">interface</a> to configure\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Interface'<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a> <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a2e74cb1caeca74d2e0ede58cd6d7473a">DEFUN</a> (show_interface, show_interface_cmd,&quot;show <a class="el" href="structinterface.html">interface</a> [IFNAME]&quot;, SHOW_STR&quot;Interface status and configuration\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Inteface <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a16a31bc670fc49c88d0bfce7468d457b">DEFUN</a> (show_interface_desc, show_interface_desc_cmd,&quot;show <a class="el" href="structinterface.html">interface</a> description&quot;, SHOW_STR&quot;Interface status and configuration\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Interface description\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a9e6661da462c5c12a394296014fe9a91">DEFUN</a> (multicast, multicast_cmd,&quot;multicast&quot;,&quot;Set multicast flag to <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a0a2327ffb1e5122f1638a24f12c0a8c1">DEFUN</a> (no_multicast, no_multicast_cmd,&quot;no multicast&quot;, NO_STR&quot;Unset multicast flag to <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a8359fae9eab3c2a9d1a34c91473deefa">DEFUN</a> (linkdetect, linkdetect_cmd,&quot;link-detect&quot;,&quot;Enable link detection on <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a6fe6e5d72a8d259f5583e3cad5dfcca3">DEFUN</a> (no_linkdetect, no_linkdetect_cmd,&quot;no link-detect&quot;, NO_STR&quot;Disable link detection on <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#acb3c48ccbfff945738a2fe522ad4466f">DEFUN</a> (shutdown_if, shutdown_if_cmd,&quot;shutdown&quot;,&quot;Shutdown the selected <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a44a6d46b799188350f06c099a5c42077">DEFUN</a> (no_shutdown_if, no_shutdown_if_cmd,&quot;no shutdown&quot;, NO_STR&quot;Shutdown the selected <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a80c7fd039084b10ea97969c660ff5bd9">DEFUN</a> (bandwidth_if, bandwidth_if_cmd,&quot;bandwidth &lt;1-10000000&gt;&quot;,&quot;Set bandwidth informational parameter\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Bandwidth <a class="el" href="spgrid_8c.html#a89e1c555af4b92f6ee8d6f112f47ed12">in</a> kilobits\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#adc92e3d9d3e0fcb721fb77f342abacdc">DEFUN</a> (no_bandwidth_if, no_bandwidth_if_cmd,&quot;no bandwidth&quot;, NO_STR&quot;Set bandwidth informational parameter\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#ac4b8000dd1c6ad21a45b68be55d32578">ALIAS</a> (no_bandwidth_if, no_bandwidth_if_val_cmd,&quot;no bandwidth &lt;1-10000000&gt;&quot;, NO_STR&quot;Set bandwidth informational parameter\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Bandwidth <a class="el" href="spgrid_8c.html#a89e1c555af4b92f6ee8d6f112f47ed12">in</a> kilobits\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a4eabd0bc9417c79a4746817611e7c59b">ip_address_uninstall</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structinterface.html">interface</a> *ifp, const char *addr_str, const char *peer_str, const char *label)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a9b78ed94b4976a8f1d0cce3b399de938">DEFUN</a> (ip_address, ip_address_cmd,&quot;ip address A.B.C.D/M&quot;,&quot;Interface Internet Protocol <a class="el" href="structconfig.html">config</a> commands\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Set the IP address of an <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IP address (e.g. 10.0.0.1/8)\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a361e8d8e5d25d63b347facad9cbc4021">DEFUN</a> (no_ip_address, no_ip_address_cmd,&quot;no <a class="el" href="spgrid_8c.html#addd335afdb9230f431842ebb6cbbce62">ip</a> address A.B.C.D/M&quot;, NO_STR&quot;Interface Internet Protocol <a class="el" href="structconfig.html">config</a> commands\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Set the IP address of an <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IP Address (e.g. 10.0.0.1/8)&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a260036d5698d001ececb4ad0ebb7f313">if_config_write</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#adc31855ecd2f1232bed1d80c311908a3">zebra_if_init</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcmd__node.html">cmd_node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_8c.html#a16f01e8f31d361deea8af5ea55c2d2ec">interface_node</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac4b8000dd1c6ad21a45b68be55d32578"></a><!-- doxytag: member="interface.c::ALIAS" ref="ac4b8000dd1c6ad21a45b68be55d32578" args="(no_bandwidth_if, no_bandwidth_if_val_cmd,&quot;no bandwidth &lt;1&#45;10000000&gt;&quot;, NO_STR&quot;Set bandwidth informational parameter\n&quot;&quot;Bandwidth in kilobits\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ALIAS </td>
          <td>(</td>
          <td class="paramtype">no_bandwidth_if&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_bandwidth_if_val_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no bandwidth &lt;1-10000000&gt;&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Set bandwidth informational parameter\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Bandwidth <a class="el" href="spgrid_8c.html#a89e1c555af4b92f6ee8d6f112f47ed12">in</a> kilobits\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01146">1146</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structprefix__ipv4.html">prefix_ipv4</a> cp;
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *ifc;
  <span class="keyword">struct </span><a class="code" href="structprefix__ipv4.html">prefix_ipv4</a> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
  <span class="keywordtype">int</span> ret;

  ret = <a class="code" href="prefix_8c.html#aae422250092661b36915d1769df957f7">str2prefix_ipv4</a> (addr_str, &amp;cp);
  <span class="keywordflow">if</span> (ret &lt;= 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%% Malformed address %s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  ifc = <a class="code" href="connected_8c.html#a579a660baf543f84fc3abc5a99de1cee">connected_check</a> (ifp, (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *) &amp;cp);
  <span class="keywordflow">if</span> (! ifc)
    {
      ifc = <a class="code" href="if_8c.html#a3f0f3d92c824863a40af915d7f540cc5">connected_new</a> ();
      ifc-&gt;<a class="code" href="structconnected.html#a93c575385a71507f8c29ec26344d09d3">ifp</a> = ifp;

      <span class="comment">/* Address. */</span>
      p = <a class="code" href="prefix_8c.html#af674876d8d874e88225f559322d797ac">prefix_ipv4_new</a> ();
      *p = cp;
      ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a> = (<span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *) p;

      <span class="comment">/* Broadcast. */</span>
      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix__ipv4.html#ab96da4bf1eb37195bd564bcf1126a16a">prefixlen</a> &lt;= <a class="code" href="prefix_8h.html#ab98d836bf20a06de7a7358ab17832002">IPV4_MAX_PREFIXLEN</a>-2)
    {
      p = <a class="code" href="prefix_8c.html#af674876d8d874e88225f559322d797ac">prefix_ipv4_new</a> ();
      *p = cp;
      p-&gt;prefix.s_addr = <a class="code" href="prefix_8c.html#a0416c71ab42c828a9ee8ee82ddda6a77">ipv4_broadcast_addr</a>(p-&gt;prefix.s_addr,p-&gt;<a class="code" href="structprefix__ipv4.html#ab96da4bf1eb37195bd564bcf1126a16a">prefixlen</a>);
      ifc-&gt;<a class="code" href="structconnected.html#ad13a382a19c45aaa4e5670e1422245ff">destination</a> = (<span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *) p;
    }

      <span class="comment">/* Label. */</span>
      <span class="keywordflow">if</span> (label)
    ifc-&gt;<a class="code" href="structconnected.html#abf60adc50689971ec30b6161150ffd2c">label</a> = <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bac8ad972fdcb4d318c2a41f564e0ee1de">MTYPE_CONNECTED_LABEL</a>, label);

      <span class="comment">/* Add to linked list. */</span>
      <a class="code" href="linklist_8c.html#adb2a0478aba995441aaf691d1f6fe5db">listnode_add</a> (ifp-&gt;connected, ifc);
    }

  <span class="comment">/* This address is configured from zebra. */</span>
  <span class="keywordflow">if</span> (! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a4c3561e2d67366e175998d69dbc87874">ZEBRA_IFC_CONFIGURED</a>))
    <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a4c3561e2d67366e175998d69dbc87874">ZEBRA_IFC_CONFIGURED</a>);

  <span class="comment">/* In case of this route need to install kernel. */</span>
  <span class="keywordflow">if</span> (! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>)
      &amp;&amp; <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifp-&gt;status, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>))
    {
      <span class="comment">/* Some system need to up the interface to set IP address. */</span>
      <span class="keywordflow">if</span> (! <a class="code" href="if_8c.html#ade77fc67f30030f539906dad43c239ab">if_is_up</a> (ifp))
    {
      <a class="code" href="ioctl_8c.html#a8d3286dd23c072fd28b523f0464b7b48">if_set_flags</a> (ifp, IFF_UP | IFF_RUNNING);
      <a class="code" href="interface_8c.html#a284b04b55021b6c0086761ea4c400214">if_refresh</a> (ifp);
    }

      ret = <a class="code" href="ioctl_8c.html#a2f0adc914bae2da8bf160c18284ae06a">if_set_prefix</a> (ifp, ifc);
      <span class="keywordflow">if</span> (ret &lt; 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%% Can&#39;t set interface IP address: %s.%s&quot;</span>, 
           <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(errno), <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

      <span class="comment">/* Add to subnet chain list (while marking secondary attribute). */</span>
      <a class="code" href="interface_8c.html#a3d8abd4dd5d153b9501fe5f132dcf2e9">if_subnet_add</a> (ifp, ifc);

      <span class="comment">/* IP address propery set. */</span>
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>);

      <span class="comment">/* Update interface address information to protocol daemon. */</span>
      <a class="code" href="redistribute_8c.html#a094cff05de325b272858866f09358058">zebra_interface_address_add_update</a> (ifp, ifc);

      <span class="comment">/* If interface is up register connected route. */</span>
      <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a>(ifp))
    <a class="code" href="connected_8c.html#a281f3e4ee7aa4eb5b74fc7d6205afbcb">connected_up_ipv4</a> (ifp, ifc);
    }

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaff2a90e475f26b8de9de32edaf31993"></a><!-- doxytag: member="interface.c::connected_dump_vty" ref="aaff2a90e475f26b8de9de32edaf31993" args="(struct vty *vty, struct connected *connected)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void connected_dump_vty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structconnected.html">connected</a> *&#160;</td>
          <td class="paramname"><em>connected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00580">580</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;

  <span class="comment">/* Print interface address. */</span>
  p = connected-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>;
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  %s &quot;</span>, <a class="code" href="prefix_8c.html#a857a677dba88a14eab7a4090d0bcd3fe">prefix_family_str</a> (p));
  <a class="code" href="interface_8c.html#a1aa89cedc560f174b4bb2747f3b46f6e">prefix_vty_out</a> (vty, p);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;/%d&quot;</span>, p-&gt;<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a>);

  <span class="comment">/* If there is destination address, print it. */</span>
  <span class="keywordflow">if</span> (connected-&gt;<a class="code" href="structconnected.html#ad13a382a19c45aaa4e5670e1422245ff">destination</a>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, (<a class="code" href="if_8h.html#a2443297a4d8f44cc5d2ce38fcbf345f2">CONNECTED_PEER</a>(connected) ? <span class="stringliteral">&quot; peer &quot;</span> : <span class="stringliteral">&quot; broadcast &quot;</span>));
      <a class="code" href="interface_8c.html#a1aa89cedc560f174b4bb2747f3b46f6e">prefix_vty_out</a> (vty, connected-&gt;<a class="code" href="structconnected.html#ad13a382a19c45aaa4e5670e1422245ff">destination</a>);
    }

  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (connected-&gt;<a class="code" href="structconnected.html#a5928e0378e95d422553fdd37c3d66519">flags</a>, <a class="code" href="if_8h.html#a87a060af9e9971eefeb1584beaceecf6">ZEBRA_IFA_SECONDARY</a>))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; secondary&quot;</span>);

  <span class="keywordflow">if</span> (connected-&gt;<a class="code" href="structconnected.html#abf60adc50689971ec30b6161150ffd2c">label</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; %s&quot;</span>, connected-&gt;<a class="code" href="structconnected.html#abf60adc50689971ec30b6161150ffd2c">label</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2e74cb1caeca74d2e0ede58cd6d7473a"></a><!-- doxytag: member="interface.c::DEFUN" ref="a2e74cb1caeca74d2e0ede58cd6d7473a" args="(show_interface, show_interface_cmd,&quot;show interface [IFNAME]&quot;, SHOW_STR&quot;Interface status and configuration\n&quot;&quot;Inteface name\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">show_interface&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">show_interface_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;show <a class="el" href="structinterface.html">interface</a> &quot;&#160;</td>
          <td class="paramname">[IFNAME], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SHOW_STR&quot;Interface status and configuration\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Inteface <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00872">872</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;
  
<span class="preprocessor">#ifdef HAVE_PROC_NET_DEV</span>
<span class="preprocessor"></span>  <span class="comment">/* If system has interface statistics via proc file system, update</span>
<span class="comment">     statistics. */</span>
  <a class="code" href="if__proc_8c.html#ad854195d40bc592ef76dff016cfc8a90">ifstat_update_proc</a> ();
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_PROC_NET_DEV */</span>
<span class="preprocessor">#ifdef HAVE_NET_RT_IFLIST</span>
<span class="preprocessor"></span>  <a class="code" href="if__sysctl_8c.html#a8d1660e9fb7739de19fe130ca8903fdc">ifstat_update_sysctl</a> ();
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_NET_RT_IFLIST */</span>

  <span class="comment">/* Specified interface print. */</span>
  <span class="keywordflow">if</span> (argc != 0)
    {
      ifp = <a class="code" href="if_8c.html#ac124a74c213f25a0417e3a8d338606f4">if_lookup_by_name</a> (argv[0]);
      <span class="keywordflow">if</span> (ifp == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) 
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%% Can&#39;t find interface %s%s&quot;</span>, argv[0],
           <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
      <a class="code" href="interface_8c.html#aaee2f121ed6ed6ca02af4f53c659b8ec">if_dump_vty</a> (<a class="code" href="structvty.html">vty</a>, ifp);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <span class="comment">/* All interface print. */</span>
  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (<a class="code" href="if_8c.html#a45ef98e2f5776142773b95ec60bc294f">iflist</a>, node, ifp))
    <a class="code" href="interface_8c.html#aaee2f121ed6ed6ca02af4f53c659b8ec">if_dump_vty</a> (<a class="code" href="structvty.html">vty</a>, ifp);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a16a31bc670fc49c88d0bfce7468d457b"></a><!-- doxytag: member="interface.c::DEFUN" ref="a16a31bc670fc49c88d0bfce7468d457b" args="(show_interface_desc, show_interface_desc_cmd,&quot;show interface description&quot;, SHOW_STR&quot;Interface status and configuration\n&quot;&quot;Interface description\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">show_interface_desc&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">show_interface_desc_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;show <a class="el" href="structinterface.html">interface</a> description&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SHOW_STR&quot;Interface status and configuration\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Interface description\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00911">911</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Interface       Status  Protocol  Description%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (<a class="code" href="if_8c.html#a45ef98e2f5776142773b95ec60bc294f">iflist</a>, node, ifp))
    {
      <span class="keywordtype">int</span> len;

      len = <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%s&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%*s&quot;</span>, (16 - len), <span class="stringliteral">&quot; &quot;</span>);
      
      <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#ade77fc67f30030f539906dad43c239ab">if_is_up</a>(ifp))
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;up      &quot;</span>);
      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a>(ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#aa9e7c65b5cb18f24bd6f3e0e0d37181d">ZEBRA_INTERFACE_LINKDETECTION</a>))
        {
          <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a827ab3bfd7bf3c5fb5c5dbca4eb6e753">if_is_running</a>(ifp))
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;up        &quot;</span>);
          <span class="keywordflow">else</span>
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;down      &quot;</span>);
        }
      <span class="keywordflow">else</span>
        {
          <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;unknown   &quot;</span>);
        }
    }
      <span class="keywordflow">else</span>
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;down    down      &quot;</span>);
    }

      <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#a273b8698448bacdf46b32b3665e7b8d2">desc</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%s&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a273b8698448bacdf46b32b3665e7b8d2">desc</a>);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    }
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9e6661da462c5c12a394296014fe9a91"></a><!-- doxytag: member="interface.c::DEFUN" ref="a9e6661da462c5c12a394296014fe9a91" args="(multicast, multicast_cmd,&quot;multicast&quot;,&quot;Set multicast flag to interface\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">multicast&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">multicast_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;multicast&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Set multicast flag to <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00956">956</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *if_data;

  ifp = (<span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  if (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>))
    {
      ret = <a class="code" href="ioctl_8c.html#a8d3286dd23c072fd28b523f0464b7b48">if_set_flags</a> (ifp, IFF_MULTICAST);
      <span class="keywordflow">if</span> (ret &lt; 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Can&#39;t set multicast flag%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
      <a class="code" href="interface_8c.html#a284b04b55021b6c0086761ea4c400214">if_refresh</a> (ifp);
    }
  if_data = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;
  if_data-&gt;<a class="code" href="structzebra__if.html#a12752cdbf6d7e4b9743851e5654a0aa4">multicast</a> = <a class="code" href="interface_8h.html#aafd9a879ae36da7868d1dd5585e3a751">IF_ZEBRA_MULTICAST_ON</a>;

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0a2327ffb1e5122f1638a24f12c0a8c1"></a><!-- doxytag: member="interface.c::DEFUN" ref="a0a2327ffb1e5122f1638a24f12c0a8c1" args="(no_multicast, no_multicast_cmd,&quot;no multicast&quot;, NO_STR&quot;Unset multicast flag to interface\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_multicast&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_multicast_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no multicast&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Unset multicast flag to <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00982">982</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *if_data;

  ifp = (<span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  if (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>))
    {
      ret = <a class="code" href="ioctl_8c.html#a502ff981598ecd81fae67f29ef3cc1b8">if_unset_flags</a> (ifp, IFF_MULTICAST);
      <span class="keywordflow">if</span> (ret &lt; 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Can&#39;t unset multicast flag%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
      <a class="code" href="interface_8c.html#a284b04b55021b6c0086761ea4c400214">if_refresh</a> (ifp);
    }
  if_data = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;
  if_data-&gt;<a class="code" href="structzebra__if.html#a12752cdbf6d7e4b9743851e5654a0aa4">multicast</a> = <a class="code" href="interface_8h.html#a9981efdfe7464a819ed293abc7c22779">IF_ZEBRA_MULTICAST_OFF</a>;

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8359fae9eab3c2a9d1a34c91473deefa"></a><!-- doxytag: member="interface.c::DEFUN" ref="a8359fae9eab3c2a9d1a34c91473deefa" args="(linkdetect, linkdetect_cmd,&quot;link&#45;detect&quot;,&quot;Enable link detection on interface\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">linkdetect&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">linkdetect_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;link-detect&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Enable link detection on <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01009">1009</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;
  <span class="keywordtype">int</span> if_was_operative;
  
  ifp = (<span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  if_was_operative = <a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a>(ifp);
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a>(ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#aa9e7c65b5cb18f24bd6f3e0e0d37181d">ZEBRA_INTERFACE_LINKDETECTION</a>);

  <span class="comment">/* When linkdetection is enabled, if might come down */</span>
  <span class="keywordflow">if</span> (!<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a>(ifp) &amp;&amp; if_was_operative) <a class="code" href="interface_8c.html#a07c9e55f4e6b0072a7ccbf902b0b3035">if_down</a>(ifp);

  <span class="comment">/* FIXME: Will defer status change forwarding if interface</span>
<span class="comment">     does not come down! */</span>

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6fe6e5d72a8d259f5583e3cad5dfcca3"></a><!-- doxytag: member="interface.c::DEFUN" ref="a6fe6e5d72a8d259f5583e3cad5dfcca3" args="(no_linkdetect, no_linkdetect_cmd,&quot;no link&#45;detect&quot;, NO_STR&quot;Disable link detection on interface\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_linkdetect&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_linkdetect_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no link-detect&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Disable link detection on <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01031">1031</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;
  <span class="keywordtype">int</span> if_was_operative;

  ifp = (<span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  if_was_operative = <a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a>(ifp);
  <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a>(ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#aa9e7c65b5cb18f24bd6f3e0e0d37181d">ZEBRA_INTERFACE_LINKDETECTION</a>);
  
  <span class="comment">/* Interface may come up after disabling link detection */</span>
  <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a>(ifp) &amp;&amp; !if_was_operative) <a class="code" href="interface_8c.html#a5ed3c13631e5c34358258aad230d5380">if_up</a>(ifp);

  <span class="comment">/* FIXME: see linkdetect_cmd */</span>

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acb3c48ccbfff945738a2fe522ad4466f"></a><!-- doxytag: member="interface.c::DEFUN" ref="acb3c48ccbfff945738a2fe522ad4466f" args="(shutdown_if, shutdown_if_cmd,&quot;shutdown&quot;,&quot;Shutdown the selected interface\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">shutdown_if&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">shutdown_if_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;shutdown&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Shutdown the selected <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01052">1052</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *if_data;

  ifp = (<span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  ret = <a class="code" href="ioctl_8c.html#a502ff981598ecd81fae67f29ef3cc1b8">if_unset_flags</a> (ifp, IFF_UP);
  <span class="keywordflow">if</span> (ret &lt; 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Can&#39;t shutdown interface%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
  <a class="code" href="interface_8c.html#a284b04b55021b6c0086761ea4c400214">if_refresh</a> (ifp);
  if_data = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;
  if_data-&gt;<a class="code" href="structzebra__if.html#ab64a7e72cb4492d0e762668e748af404">shutdown</a> = <a class="code" href="interface_8h.html#ac95a79a343f90c544c63e4628526c395">IF_ZEBRA_SHUTDOWN_ON</a>;

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a44a6d46b799188350f06c099a5c42077"></a><!-- doxytag: member="interface.c::DEFUN" ref="a44a6d46b799188350f06c099a5c42077" args="(no_shutdown_if, no_shutdown_if_cmd,&quot;no shutdown&quot;, NO_STR&quot;Shutdown the selected interface\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_shutdown_if&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_shutdown_if_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no shutdown&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Shutdown the selected <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01075">1075</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *if_data;

  ifp = (<span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  ret = <a class="code" href="ioctl_8c.html#a8d3286dd23c072fd28b523f0464b7b48">if_set_flags</a> (ifp, IFF_UP | IFF_RUNNING);
  <span class="keywordflow">if</span> (ret &lt; 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Can&#39;t up interface%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
  <a class="code" href="interface_8c.html#a284b04b55021b6c0086761ea4c400214">if_refresh</a> (ifp);
  if_data = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;
  if_data-&gt;<a class="code" href="structzebra__if.html#ab64a7e72cb4492d0e762668e748af404">shutdown</a> = <a class="code" href="interface_8h.html#aa9a4938b817db6cc4a46c6e5d02cadcf">IF_ZEBRA_SHUTDOWN_OFF</a>;

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a80c7fd039084b10ea97969c660ff5bd9"></a><!-- doxytag: member="interface.c::DEFUN" ref="a80c7fd039084b10ea97969c660ff5bd9" args="(bandwidth_if, bandwidth_if_cmd,&quot;bandwidth &lt;1&#45;10000000&gt;&quot;,&quot;Set bandwidth informational parameter\n&quot;&quot;Bandwidth in kilobits\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">bandwidth_if&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bandwidth_if_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;bandwidth &lt;1-10000000&gt;&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Set bandwidth informational parameter\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Bandwidth <a class="el" href="spgrid_8c.html#a89e1c555af4b92f6ee8d6f112f47ed12">in</a> kilobits\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01099">1099</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;   
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structinterface.html#a324b6a80459775b1e5e254369649e075">bandwidth</a>;
  
  ifp = (<span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;
  bandwidth = strtol(argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 10);

  <span class="comment">/* bandwidth range is &lt;1-10000000&gt; */</span>
  <span class="keywordflow">if</span> (bandwidth &lt; 1 || bandwidth &gt; 10000000)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (<a class="code" href="structvty.html">vty</a>, <span class="stringliteral">&quot;Bandwidth is invalid%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }
  
  ifp-&gt;<a class="code" href="structinterface.html#a324b6a80459775b1e5e254369649e075">bandwidth</a> = <a class="code" href="structinterface.html#a324b6a80459775b1e5e254369649e075">bandwidth</a>;

  <span class="comment">/* force protocols to recalculate routes due to cost change */</span>
  <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a> (ifp))
    <a class="code" href="redistribute_8c.html#a47e3eef746ea4c7dd28652d126b29908">zebra_interface_up_update</a> (ifp);
  
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc92e3d9d3e0fcb721fb77f342abacdc"></a><!-- doxytag: member="interface.c::DEFUN" ref="adc92e3d9d3e0fcb721fb77f342abacdc" args="(no_bandwidth_if, no_bandwidth_if_cmd,&quot;no bandwidth&quot;, NO_STR&quot;Set bandwidth informational parameter\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_bandwidth_if&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_bandwidth_if_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no bandwidth&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Set bandwidth informational parameter\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01127">1127</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;   
  
  ifp = (<span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;

  ifp-&gt;<a class="code" href="structinterface.html#a324b6a80459775b1e5e254369649e075">bandwidth</a> = 0;
  
  <span class="comment">/* force protocols to recalculate routes due to cost change */</span>
  if (<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a> (ifp))
    <a class="code" href="redistribute_8c.html#a47e3eef746ea4c7dd28652d126b29908">zebra_interface_up_update</a> (ifp);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9b78ed94b4976a8f1d0cce3b399de938"></a><!-- doxytag: member="interface.c::DEFUN" ref="a9b78ed94b4976a8f1d0cce3b399de938" args="(ip_address, ip_address_cmd,&quot;ip address A.B.C.D/M&quot;,&quot;Interface Internet Protocol config commands\n&quot;&quot;Set the IP address of an interface\n&quot;&quot;IP address (e.g. 10.0.0.1/8)\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ip_address&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ip_address_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;ip address A.B.C.D/M&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Interface Internet Protocol <a class="el" href="structconfig.html">config</a> commands\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Set the IP address of an <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IP address (e.g. 10.0.0.1/8)\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01302">1302</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> ip_address_install (<a class="code" href="structvty.html">vty</a>, <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>, argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a361e8d8e5d25d63b347facad9cbc4021"></a><!-- doxytag: member="interface.c::DEFUN" ref="a361e8d8e5d25d63b347facad9cbc4021" args="(no_ip_address, no_ip_address_cmd,&quot;no ip address A.B.C.D/M&quot;, NO_STR&quot;Interface Internet Protocol config commands\n&quot;&quot;Set the IP address of an interface\n&quot;&quot;IP Address (e.g. 10.0.0.1/8)&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_ip_address&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_ip_address_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no <a class="el" href="spgrid_8c.html#addd335afdb9230f431842ebb6cbbce62">ip</a> address A.B.C.D/M&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Interface Internet Protocol <a class="el" href="structconfig.html">config</a> commands\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Set the IP address of an <a class="el" href="structinterface.html">interface</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IP Address (e.g. 10.0.0.1/8)&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01312">1312</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="interface_8c.html#a4eabd0bc9417c79a4746817611e7c59b">ip_address_uninstall</a> (<a class="code" href="structvty.html">vty</a>, <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>, argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a38e6cec7fc42834e67bd4d2a764cff36"></a><!-- doxytag: member="interface.c::DEFUN_NOSH" ref="a38e6cec7fc42834e67bd4d2a764cff36" args="(zebra_interface, zebra_interface_cmd,&quot;interface IFNAME&quot;,&quot;Select an interface to configure\n&quot;&quot;Interface's name\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN_NOSH </td>
          <td>(</td>
          <td class="paramtype">zebra_interface&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">zebra_interface_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;interface IFNAME&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Select an <a class="el" href="structinterface.html">interface</a> to configure\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Interface'<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a> <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00841">841</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> * ifp;
  
  <span class="comment">/* Call lib interface() */</span>
  <span class="keywordflow">if</span> ((ret = <a class="code" href="if_8h.html#ab6e8f13999936ceba12d9a8e36484c49">interface_cmd</a>.<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a> (<span class="keyword">self</span>, <a class="code" href="structvty.html">vty</a>, argc, argv)) != <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>)
    <span class="keywordflow">return</span> ret;

  ifp = <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>;  

  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a> == <a class="code" href="if_8h.html#a18949aeeb4a8fbe7e3be43e6bbe86527">IFINDEX_INTERNAL</a>)
    <span class="comment">/* Is this really necessary?  Shouldn&#39;t status be initialized to 0</span>
<span class="comment">       in that case? */</span>
    <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>);

  <span class="keywordflow">return</span> ret;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afc558d5fc9ef4b3b59af78576e079a28"></a><!-- doxytag: member="interface.c::if_add_update" ref="afc558d5fc9ef4b3b59af78576e079a28" args="(struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void if_add_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00347">347</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *if_data;

  if_data = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;
  <span class="keywordflow">if</span> (if_data-&gt;<a class="code" href="structzebra__if.html#a12752cdbf6d7e4b9743851e5654a0aa4">multicast</a> == <a class="code" href="interface_8h.html#aafd9a879ae36da7868d1dd5585e3a751">IF_ZEBRA_MULTICAST_ON</a>)
    <a class="code" href="ioctl_8c.html#a8d3286dd23c072fd28b523f0464b7b48">if_set_flags</a> (ifp, IFF_MULTICAST);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (if_data-&gt;<a class="code" href="structzebra__if.html#a12752cdbf6d7e4b9743851e5654a0aa4">multicast</a> == <a class="code" href="interface_8h.html#a9981efdfe7464a819ed293abc7c22779">IF_ZEBRA_MULTICAST_OFF</a>)
    <a class="code" href="ioctl_8c.html#a502ff981598ecd81fae67f29ef3cc1b8">if_unset_flags</a> (ifp, IFF_MULTICAST);

  <a class="code" href="redistribute_8c.html#af54bdbe2a1b4fbecf503452673ac371f">zebra_interface_add_update</a> (ifp);

  <span class="keywordflow">if</span> (! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>))
    {
      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>);

      <a class="code" href="interface_8c.html#a223966d09f459415553aab0fe6a8a59b">if_addr_wakeup</a> (ifp);

      <span class="keywordflow">if</span> (<a class="code" href="debug_8h.html#a33a806e67d434f56a9660b78ef2fd198">IS_ZEBRA_DEBUG_KERNEL</a>)
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;interface %s index %d becomes active.&quot;</span>, 
            ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>);
    }
  <span class="keywordflow">else</span>
    {
      <span class="keywordflow">if</span> (<a class="code" href="debug_8h.html#a33a806e67d434f56a9660b78ef2fd198">IS_ZEBRA_DEBUG_KERNEL</a>)
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;interface %s index %d is added.&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a223966d09f459415553aab0fe6a8a59b"></a><!-- doxytag: member="interface.c::if_addr_wakeup" ref="a223966d09f459415553aab0fe6a8a59b" args="(struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void if_addr_wakeup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00265">265</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node, *nnode;
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *ifc;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
  <span class="keywordtype">int</span> ret;

  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a71512a873b8f0e2b4c84d3c949a9bbaf">ALL_LIST_ELEMENTS</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, node, nnode, ifc))
    {
      p = ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>;
    
      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a4c3561e2d67366e175998d69dbc87874">ZEBRA_IFC_CONFIGURED</a>)
      &amp;&amp; ! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>))
    {
      <span class="comment">/* Address check. */</span>
      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET)
        {
          <span class="keywordflow">if</span> (! <a class="code" href="if_8c.html#ade77fc67f30030f539906dad43c239ab">if_is_up</a> (ifp))
        {
          <span class="comment">/* XXX: WTF is it trying to set flags here?</span>
<span class="comment">           * caller has just gotten a new interface, has been</span>
<span class="comment">                   * handed the flags already. This code has no business</span>
<span class="comment">                   * trying to override administrative status of the interface.</span>
<span class="comment">                   * The only call path to here which doesn&#39;t originate from</span>
<span class="comment">                   * kernel event is irdp - what on earth is it trying to do?</span>
<span class="comment">                   *</span>
<span class="comment">                   * further RUNNING is not a settable flag on any system</span>
<span class="comment">                   * I (paulj) am aware of.</span>
<span class="comment">                   */</span>
          <a class="code" href="ioctl_8c.html#a8d3286dd23c072fd28b523f0464b7b48">if_set_flags</a> (ifp, IFF_UP | IFF_RUNNING);
          <a class="code" href="interface_8c.html#a284b04b55021b6c0086761ea4c400214">if_refresh</a> (ifp);
        }

          ret = <a class="code" href="ioctl_8c.html#a2f0adc914bae2da8bf160c18284ae06a">if_set_prefix</a> (ifp, ifc);
          <span class="keywordflow">if</span> (ret &lt; 0)
        {
          <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;Can&#39;t set interface&#39;s address: %s&quot;</span>, 
                 <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(errno));
          <span class="keywordflow">continue</span>;
        }

          <span class="comment">/* Add to subnet chain list. */</span>
          <a class="code" href="interface_8c.html#a3d8abd4dd5d153b9501fe5f132dcf2e9">if_subnet_add</a> (ifp, ifc);

          <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>);

          <a class="code" href="redistribute_8c.html#a094cff05de325b272858866f09358058">zebra_interface_address_add_update</a> (ifp, ifc);

          <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a>(ifp))
        <a class="code" href="connected_8c.html#a281f3e4ee7aa4eb5b74fc7d6205afbcb">connected_up_ipv4</a> (ifp, ifc);
        }
<span class="preprocessor">#ifdef HAVE_IPV6</span>
<span class="preprocessor"></span>      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET6)
        {
          <span class="keywordflow">if</span> (! <a class="code" href="if_8c.html#ade77fc67f30030f539906dad43c239ab">if_is_up</a> (ifp))
        {
          <span class="comment">/* XXX: See long comment above */</span>
          <a class="code" href="ioctl_8c.html#a8d3286dd23c072fd28b523f0464b7b48">if_set_flags</a> (ifp, IFF_UP | IFF_RUNNING);
          <a class="code" href="interface_8c.html#a284b04b55021b6c0086761ea4c400214">if_refresh</a> (ifp);
        }

          ret = <a class="code" href="ioctl__null_8c.html#aed68ab78f914db76055d46853b0c58d5">if_prefix_add_ipv6</a> (ifp, ifc);
          <span class="keywordflow">if</span> (ret &lt; 0)
        {
          <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;Can&#39;t set interface&#39;s address: %s&quot;</span>, 
                 <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(errno));
          <span class="keywordflow">continue</span>;
        }
          <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>);

          <a class="code" href="redistribute_8c.html#a094cff05de325b272858866f09358058">zebra_interface_address_add_update</a> (ifp, ifc);

          <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a>(ifp))
        connected_up_ipv6 (ifp, ifc);
        }
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_IPV6 */</span>
    }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a260036d5698d001ececb4ad0ebb7f313"></a><!-- doxytag: member="interface.c::if_config_write" ref="a260036d5698d001ececb4ad0ebb7f313" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int if_config_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01512">1512</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;
  <span class="keyword">struct </span><a class="code" href="structinterface.html">interface</a> *ifp;

  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (<a class="code" href="if_8c.html#a45ef98e2f5776142773b95ec60bc294f">iflist</a>, node, ifp))
    {
      <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *if_data;
      <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *addrnode;
      <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *ifc;
      <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;

      if_data = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;
      
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;interface %s%s&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>,
           <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

      <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#a273b8698448bacdf46b32b3665e7b8d2">desc</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; description %s%s&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a273b8698448bacdf46b32b3665e7b8d2">desc</a>,
         <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

      <span class="comment">/* Assign bandwidth here to avoid unnecessary interface flap</span>
<span class="comment">     while processing config script */</span>
      <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#a324b6a80459775b1e5e254369649e075">bandwidth</a> != 0)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a>(vty, <span class="stringliteral">&quot; bandwidth %u%s&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a324b6a80459775b1e5e254369649e075">bandwidth</a>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>); 

      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a>(ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#aa9e7c65b5cb18f24bd6f3e0e0d37181d">ZEBRA_INTERFACE_LINKDETECTION</a>))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a>(vty, <span class="stringliteral">&quot; link-detect%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

      <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, addrnode, ifc))
      {
        <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a4c3561e2d67366e175998d69dbc87874">ZEBRA_IFC_CONFIGURED</a>))
          {
        <span class="keywordtype">char</span> buf[<a class="code" href="prefix_8h.html#af776b22a727aae7c9f4d869d50df47e8">INET6_ADDRSTRLEN</a>];
        p = ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>;
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; ip%s address %s/%d&quot;</span>,
             p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;v6&quot;</span>,
             <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a>, &amp;p-&gt;u.<a class="code" href="structprefix.html#af508982a05429729278c96708bd9e337">prefix</a>, buf, <span class="keyword">sizeof</span>(buf)),
             p-&gt;<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a>);

        <span class="keywordflow">if</span> (ifc-&gt;<a class="code" href="structconnected.html#abf60adc50689971ec30b6161150ffd2c">label</a>)
          <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; label %s&quot;</span>, ifc-&gt;<a class="code" href="structconnected.html#abf60adc50689971ec30b6161150ffd2c">label</a>);

        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
          }
      }

      <span class="keywordflow">if</span> (if_data)
    {
      <span class="keywordflow">if</span> (if_data-&gt;<a class="code" href="structzebra__if.html#ab64a7e72cb4492d0e762668e748af404">shutdown</a> == <a class="code" href="interface_8h.html#ac95a79a343f90c544c63e4628526c395">IF_ZEBRA_SHUTDOWN_ON</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; shutdown%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

      <span class="keywordflow">if</span> (if_data-&gt;<a class="code" href="structzebra__if.html#a12752cdbf6d7e4b9743851e5654a0aa4">multicast</a> != <a class="code" href="interface_8h.html#aa9cdb773988c8c6b2c8c7d8a746d4d8d">IF_ZEBRA_MULTICAST_UNSPEC</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; %smulticast%s&quot;</span>,
             if_data-&gt;<a class="code" href="structzebra__if.html#a12752cdbf6d7e4b9743851e5654a0aa4">multicast</a> == <a class="code" href="interface_8h.html#aafd9a879ae36da7868d1dd5585e3a751">IF_ZEBRA_MULTICAST_ON</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;no &quot;</span>,
             <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    }

<span class="preprocessor">#ifdef RTADV</span>
<span class="preprocessor"></span>      <a class="code" href="rtadv_8h.html#a20c3cc72fed124a5b2bc130c0457838c">rtadv_config_write</a> (vty, ifp);
<span class="preprocessor">#endif </span><span class="comment">/* RTADV */</span>

<span class="preprocessor">#ifdef HAVE_IRDP</span>
<span class="preprocessor"></span>      <a class="code" href="irdp_8h.html#a874a5eafe3653390f7bdc1077d36f94a">irdp_config_write</a> (vty, ifp);
<span class="preprocessor">#endif </span><span class="comment">/* IRDP */</span>

      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;!%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5ca58fe2209f09a828330810fc5a7d71"></a><!-- doxytag: member="interface.c::if_delete_update" ref="a5ca58fe2209f09a828330810fc5a7d71" args="(struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void if_delete_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00378">378</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *ifc;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *rn;
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *<a class="code" href="structzebra__if.html">zebra_if</a>;

  zebra_if = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;

  <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#ade77fc67f30030f539906dad43c239ab">if_is_up</a>(ifp))
    {
      <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a> (<span class="stringliteral">&quot;interface %s index %d is still up while being deleted.&quot;</span>,
        ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>);
      <span class="keywordflow">return</span>;
    }

  <span class="comment">/* Mark interface as inactive */</span>
  <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>);
  
  <span class="keywordflow">if</span> (<a class="code" href="debug_8h.html#a33a806e67d434f56a9660b78ef2fd198">IS_ZEBRA_DEBUG_KERNEL</a>)
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;interface %s index %d is now inactive.&quot;</span>,
           ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>, ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>);

  <span class="comment">/* Delete connected routes from the kernel. */</span>
  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>)
    {
      <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;
      <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *last = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

      <span class="keywordflow">while</span> ((node = (last ? last-&gt;<a class="code" href="structlistnode.html#a13db6e09ac9e7200657130783e8e4131">next</a> : <a class="code" href="linklist_8h.html#a3d4492ca03b023aeecd4d6b0cdaa16fb">listhead</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>))))
    {
      ifc = <a class="code" href="linklist_8h.html#a574f1b7acbcea848771bd5ddc61e430a">listgetdata</a> (node);
      p = ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>;
      
      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET
          &amp;&amp; (rn = <a class="code" href="table_8c.html#ab99d86b40440c8f18d4f2b31b5b8f1c7">route_node_lookup</a> (zebra_if-&gt;<a class="code" href="structzebra__if.html#a412a56e0801125e7952e339c0543f308">ipv4_subnets</a>, p)))
        {
          <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *anode;
          <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *<a class="code" href="structlistnode.html#a13db6e09ac9e7200657130783e8e4131">next</a>;
          <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *first;
          <span class="keyword">struct </span><a class="code" href="structlist.html">list</a> *addr_list;
          
          <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);
          addr_list = (<span class="keyword">struct </span><a class="code" href="structlist.html">list</a> *) rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
          
          <span class="comment">/* Remove addresses, secondaries first. */</span>
          first = <a class="code" href="linklist_8h.html#a3d4492ca03b023aeecd4d6b0cdaa16fb">listhead</a> (addr_list);
          <span class="keywordflow">for</span> (anode = first-&gt;<a class="code" href="structlistnode.html#a13db6e09ac9e7200657130783e8e4131">next</a>; anode || first; anode = next)
        {
          <span class="keywordflow">if</span> (!anode)
            {
              anode = first;
              first = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
            }
          next = anode-&gt;<a class="code" href="structlistnode.html#a13db6e09ac9e7200657130783e8e4131">next</a>;

          ifc = <a class="code" href="linklist_8h.html#a574f1b7acbcea848771bd5ddc61e430a">listgetdata</a> (anode);
          p = ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>;

          <a class="code" href="connected_8c.html#afe7cbd92c89db253135714c882edd102">connected_down_ipv4</a> (ifp, ifc);

          <a class="code" href="redistribute_8c.html#addd2b7659a8107bc9d2edcc026579bf9">zebra_interface_address_delete_update</a> (ifp, ifc);

          <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>);

          <span class="comment">/* Remove from subnet chain. */</span>
          <a class="code" href="linklist_8c.html#a44569d4d868c60e29b21409612a5df05">list_delete_node</a> (addr_list, anode);
          <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);
          
          <span class="comment">/* Remove from interface address list (unconditionally). */</span>
          <span class="keywordflow">if</span> (!<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a4c3561e2d67366e175998d69dbc87874">ZEBRA_IFC_CONFIGURED</a>))
            {
              <a class="code" href="linklist_8c.html#a8cbdaa18db1ceacaadbc457a0c634e02">listnode_delete</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, ifc);
              <a class="code" href="if_8c.html#aefcfc40d0358af75f26135eb0a33903d">connected_free</a> (ifc);
                    }
                  <span class="keywordflow">else</span>
                    last = node;
        }

          <span class="comment">/* Free chain list and respective route node. */</span>
          <a class="code" href="linklist_8c.html#ab5fdf1a904264be077ce19a432b1b119">list_delete</a> (addr_list);
          rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
          <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);
        }
<span class="preprocessor">#ifdef HAVE_IPV6</span>
<span class="preprocessor"></span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET6)
        {
          connected_down_ipv6 (ifp, ifc);

          <a class="code" href="redistribute_8c.html#addd2b7659a8107bc9d2edcc026579bf9">zebra_interface_address_delete_update</a> (ifp, ifc);

          <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>);

          <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a4c3561e2d67366e175998d69dbc87874">ZEBRA_IFC_CONFIGURED</a>))
        last = node;
          <span class="keywordflow">else</span>
        {
          <a class="code" href="linklist_8c.html#a8cbdaa18db1ceacaadbc457a0c634e02">listnode_delete</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, ifc);
          <a class="code" href="if_8c.html#aefcfc40d0358af75f26135eb0a33903d">connected_free</a> (ifc);
        }
        }
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_IPV6 */</span>
      <span class="keywordflow">else</span>
        {
          last = node;
        }
    }
    }
  <a class="code" href="redistribute_8c.html#a35bb02fbe2159fbbc9d823c31497848e">zebra_interface_delete_update</a> (ifp);

  <span class="comment">/* Update ifindex after distributing the delete message.  This is in</span>
<span class="comment">     case any client needs to have the old value of ifindex available</span>
<span class="comment">     while processing the deletion.  Each client daemon is responsible</span>
<span class="comment">     for setting ifindex to IFINDEX_INTERNAL after processing the</span>
<span class="comment">     interface deletion message. */</span>
  ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a> = <a class="code" href="if_8h.html#a18949aeeb4a8fbe7e3be43e6bbe86527">IFINDEX_INTERNAL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a07c9e55f4e6b0072a7ccbf902b0b3035"></a><!-- doxytag: member="interface.c::if_down" ref="a07c9e55f4e6b0072a7ccbf902b0b3035" args="(struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void if_down </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00531">531</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *<a class="code" href="structlistnode.html#a13db6e09ac9e7200657130783e8e4131">next</a>;
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *ifc;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;

  <span class="comment">/* Notify to the protocol daemons. */</span>
  <a class="code" href="redistribute_8c.html#af292f17fef777ddd9aa9fa1a5b510c04">zebra_interface_down_update</a> (ifp);

  <span class="comment">/* Delete connected routes from the kernel. */</span>
  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>)
    {
      <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a71512a873b8f0e2b4c84d3c949a9bbaf">ALL_LIST_ELEMENTS</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, node, next, ifc))
    {
      p = ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>;

      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET)
        <a class="code" href="connected_8c.html#afe7cbd92c89db253135714c882edd102">connected_down_ipv4</a> (ifp, ifc);
<span class="preprocessor">#ifdef HAVE_IPV6</span>
<span class="preprocessor"></span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET6)
        connected_down_ipv6 (ifp, ifc);
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_IPV6 */</span>
    }
    }

  <span class="comment">/* Examine all static routes which direct to the interface. */</span>
  <a class="code" href="rib_8h.html#ab5320729fbebc97fbb79a214f5d370d8">rib_update</a> ();
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaee2f121ed6ed6ca02af4f53c659b8ec"></a><!-- doxytag: member="interface.c::if_dump_vty" ref="aaee2f121ed6ed6ca02af4f53c659b8ec" args="(struct vty *vty, struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void if_dump_vty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00657">657</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifdef HAVE_STRUCT_SOCKADDR_DL</span>
<span class="preprocessor"></span>  <span class="keyword">struct </span>sockaddr_dl *sdl;
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_STRUCT_SOCKADDR_DL */</span>
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *<a class="code" href="structconnected.html">connected</a>;
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *rn;
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *<a class="code" href="structzebra__if.html">zebra_if</a>;

  zebra_if = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Interface %s is &quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>);
  <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#ade77fc67f30030f539906dad43c239ab">if_is_up</a>(ifp)) {
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;up, line protocol &quot;</span>);
    
    <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a>(ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#aa9e7c65b5cb18f24bd6f3e0e0d37181d">ZEBRA_INTERFACE_LINKDETECTION</a>)) {
      <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a827ab3bfd7bf3c5fb5c5dbca4eb6e753">if_is_running</a>(ifp))
       <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;is up%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">else</span>
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;is down%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    } <span class="keywordflow">else</span> {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;detection is disabled%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    }
  } <span class="keywordflow">else</span> {
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;down%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
  }

  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#a273b8698448bacdf46b32b3665e7b8d2">desc</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  Description: %s%s&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a273b8698448bacdf46b32b3665e7b8d2">desc</a>,
         <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a> == <a class="code" href="if_8h.html#a18949aeeb4a8fbe7e3be43e6bbe86527">IFINDEX_INTERNAL</a>)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a>(vty, <span class="stringliteral">&quot;  pseudo interface%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span>;
    }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>))
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a>(vty, <span class="stringliteral">&quot;  index %d inactive interface%s&quot;</span>, 
          ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>, 
          <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span>;
    }

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  index %d metric %d mtu %d &quot;</span>,
       ifp-&gt;<a class="code" href="structinterface.html#ae4c4a0eca6642e37e29e1177a39872ea">ifindex</a>, ifp-&gt;<a class="code" href="structinterface.html#adbb7ad89b817a388e9442e85f1e72cc8">metric</a>, ifp-&gt;<a class="code" href="structinterface.html#aadd24df2d261a3bfcbdfe4797e639afb">mtu</a>);
<span class="preprocessor">#ifdef HAVE_IPV6</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#a75a892a4df0f60191a13ca07b6625cb1">mtu6</a> != ifp-&gt;<a class="code" href="structinterface.html#aadd24df2d261a3bfcbdfe4797e639afb">mtu</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;mtu6 %d &quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a75a892a4df0f60191a13ca07b6625cb1">mtu6</a>);
<span class="preprocessor">#endif </span>
<span class="preprocessor"></span>  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s  flags: %s%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>,
           <a class="code" href="if_8c.html#a75d5485663b09e8a83a1d79d67d5ea39">if_flag_dump</a> (ifp-&gt;<a class="code" href="structinterface.html#a09ed96b900f31d769a76a32b67217c8f">flags</a>), <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
  
  <span class="comment">/* Hardware address. */</span>
<span class="preprocessor">#ifdef HAVE_STRUCT_SOCKADDR_DL</span>
<span class="preprocessor"></span>  sdl = &amp;ifp-&gt;sdl;
  <span class="keywordflow">if</span> (sdl != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; sdl-&gt;sdl_alen != 0)
    {
      <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
      u_char *ptr;

      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  HWaddr: &quot;</span>);
      <span class="keywordflow">for</span> (i = 0, ptr = (u_char *)LLADDR (sdl); i &lt; sdl-&gt;sdl_alen; i++, ptr++)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s%02x&quot;</span>, i == 0 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;:&quot;</span>, *ptr);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    }
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#a6521c9be15367445abca01bbba9c2cb4">hw_addr_len</a> != 0)
    {
      <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;

      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  HWaddr: &quot;</span>);
      <span class="keywordflow">for</span> (i = 0; i &lt; ifp-&gt;<a class="code" href="structinterface.html#a6521c9be15367445abca01bbba9c2cb4">hw_addr_len</a>; i++)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s%02x&quot;</span>, i == 0 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;:&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a6fe2f3c7e5be26c4e376b514d86f5c22">hw_addr</a>[i]);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    }
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_STRUCT_SOCKADDR_DL */</span>
  
  <span class="comment">/* Bandwidth in kbps */</span>
  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#a324b6a80459775b1e5e254369649e075">bandwidth</a> != 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a>(vty, <span class="stringliteral">&quot;  bandwidth %u kbps&quot;</span>, ifp-&gt;<a class="code" href="structinterface.html#a324b6a80459775b1e5e254369649e075">bandwidth</a>);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a>(vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
    }

  <span class="keywordflow">for</span> (rn = <a class="code" href="table_8c.html#aee1d06c531794df326d946bdac647fb2">route_top</a> (zebra_if-&gt;<a class="code" href="structzebra__if.html#a412a56e0801125e7952e339c0543f308">ipv4_subnets</a>); rn; rn = <a class="code" href="table_8c.html#ad2addc694ecf6cd0cce57cb3a7d96902">route_next</a> (rn))
    {
      <span class="keywordflow">if</span> (! rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>)
    <span class="keywordflow">continue</span>;
      
      <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> ((<span class="keyword">struct</span> <a class="code" href="structlist.html">list</a> *)rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>, node, connected))
        <a class="code" href="interface_8c.html#aaff2a90e475f26b8de9de32edaf31993">connected_dump_vty</a> (vty, connected);
    }

  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a80a3f4035be83abbb709d17412993226">ALL_LIST_ELEMENTS_RO</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, node, connected))
    {
      <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (connected-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>) &amp;&amp;
      (connected-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET6))
    <a class="code" href="interface_8c.html#aaff2a90e475f26b8de9de32edaf31993">connected_dump_vty</a> (vty, connected);
    }

<span class="preprocessor">#ifdef RTADV</span>
<span class="preprocessor"></span>  nd_dump_vty (vty, ifp);
<span class="preprocessor">#endif </span><span class="comment">/* RTADV */</span>

<span class="preprocessor">#ifdef HAVE_PROC_NET_DEV</span>
<span class="preprocessor"></span>  <span class="comment">/* Statistics print out using proc file system. */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %lu input packets (%lu multicast), %lu bytes, &quot;</span>
       <span class="stringliteral">&quot;%lu dropped%s&quot;</span>,
       ifp-&gt;stats.rx_packets, ifp-&gt;stats.rx_multicast,
       ifp-&gt;stats.rx_bytes, ifp-&gt;stats.rx_dropped, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %lu input errors, %lu length, %lu overrun,&quot;</span>
       <span class="stringliteral">&quot; %lu CRC, %lu frame%s&quot;</span>,
       ifp-&gt;stats.rx_errors, ifp-&gt;stats.rx_length_errors,
       ifp-&gt;stats.rx_over_errors, ifp-&gt;stats.rx_crc_errors,
       ifp-&gt;stats.rx_frame_errors, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %lu fifo, %lu missed%s&quot;</span>, ifp-&gt;stats.rx_fifo_errors,
       ifp-&gt;stats.rx_missed_errors, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %lu output packets, %lu bytes, %lu dropped%s&quot;</span>,
       ifp-&gt;stats.tx_packets, ifp-&gt;stats.tx_bytes,
       ifp-&gt;stats.tx_dropped, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %lu output errors, %lu aborted, %lu carrier,&quot;</span>
       <span class="stringliteral">&quot; %lu fifo, %lu heartbeat%s&quot;</span>,
       ifp-&gt;stats.tx_errors, ifp-&gt;stats.tx_aborted_errors,
       ifp-&gt;stats.tx_carrier_errors, ifp-&gt;stats.tx_fifo_errors,
       ifp-&gt;stats.tx_heartbeat_errors, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %lu window, %lu collisions%s&quot;</span>,
       ifp-&gt;stats.tx_window_errors, ifp-&gt;stats.collisions, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_PROC_NET_DEV */</span>

<span class="preprocessor">#ifdef HAVE_NET_RT_IFLIST</span>
<span class="preprocessor"></span><span class="preprocessor">#if defined (__bsdi__) || defined (__NetBSD__)</span>
<span class="preprocessor"></span>  <span class="comment">/* Statistics print out using sysctl (). */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    input packets %qu, bytes %qu, dropped %qu,&quot;</span>
       <span class="stringliteral">&quot; multicast packets %qu%s&quot;</span>,
       ifp-&gt;stats.ifi_ipackets, ifp-&gt;stats.ifi_ibytes,
       ifp-&gt;stats.ifi_iqdrops, ifp-&gt;stats.ifi_imcasts,
       <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    input errors %qu%s&quot;</span>,
       ifp-&gt;stats.ifi_ierrors, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    output packets %qu, bytes %qu, multicast packets %qu%s&quot;</span>,
       ifp-&gt;stats.ifi_opackets, ifp-&gt;stats.ifi_obytes,
       ifp-&gt;stats.ifi_omcasts, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    output errors %qu%s&quot;</span>,
       ifp-&gt;stats.ifi_oerrors, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    collisions %qu%s&quot;</span>,
       ifp-&gt;stats.ifi_collisions, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>  <span class="comment">/* Statistics print out using sysctl (). */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    input packets %lu, bytes %lu, dropped %lu,&quot;</span>
       <span class="stringliteral">&quot; multicast packets %lu%s&quot;</span>,
       ifp-&gt;stats.ifi_ipackets, ifp-&gt;stats.ifi_ibytes,
       ifp-&gt;stats.ifi_iqdrops, ifp-&gt;stats.ifi_imcasts,
       <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    input errors %lu%s&quot;</span>,
       ifp-&gt;stats.ifi_ierrors, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    output packets %lu, bytes %lu, multicast packets %lu%s&quot;</span>,
       ifp-&gt;stats.ifi_opackets, ifp-&gt;stats.ifi_obytes,
       ifp-&gt;stats.ifi_omcasts, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    output errors %lu%s&quot;</span>,
       ifp-&gt;stats.ifi_oerrors, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    collisions %lu%s&quot;</span>,
       ifp-&gt;stats.ifi_collisions, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<span class="preprocessor">#endif </span><span class="comment">/* __bsdi__ || __NetBSD__ */</span>
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_NET_RT_IFLIST */</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a61a988d3db14846cee1274c00c75a6a3"></a><!-- doxytag: member="interface.c::if_flags_mangle" ref="a61a988d3db14846cee1274c00c75a6a3" args="(struct interface *ifp, uint64_t *newflags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void if_flags_mangle </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>newflags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00220">220</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifdef SUNOS_5</span>
<span class="preprocessor"></span>  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *zif = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;
  
  zif-&gt;primary_state = *newflags &amp; (IFF_UP &amp; 0xff);
  
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (zif-&gt;primary_state, IFF_UP)
      || <a class="code" href="linklist_8h.html#a0429e6385b31a314cc64432a906201e5">listcount</a>(ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>) &gt; 0)
    <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (*newflags, IFF_UP);
  <span class="keywordflow">else</span>
    <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (*newflags, IFF_UP);
<span class="preprocessor">#endif </span><span class="comment">/* SUNOS_5 */</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac290b836d2dd1082297e32356a1368fa"></a><!-- doxytag: member="interface.c::if_flags_update" ref="ac290b836d2dd1082297e32356a1368fa" args="(struct interface *ifp, uint64_t newflags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void if_flags_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>newflags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00242">242</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="interface_8c.html#a61a988d3db14846cee1274c00c75a6a3">if_flags_mangle</a> (ifp, &amp;newflags);
    
  <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a> (ifp))
    {
      <span class="comment">/* operative -&gt; inoperative? */</span>
      ifp-&gt;<a class="code" href="structinterface.html#a09ed96b900f31d769a76a32b67217c8f">flags</a> = newflags;
      <span class="keywordflow">if</span> (!<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a> (ifp))
        <a class="code" href="interface_8c.html#a07c9e55f4e6b0072a7ccbf902b0b3035">if_down</a> (ifp);
    }
  <span class="keywordflow">else</span>
    {
      <span class="comment">/* inoperative -&gt; operative? */</span>
      ifp-&gt;<a class="code" href="structinterface.html#a09ed96b900f31d769a76a32b67217c8f">flags</a> = newflags;
      <span class="keywordflow">if</span> (<a class="code" href="if_8c.html#a96741fba2059f7591f57d18325664b7b">if_is_operative</a> (ifp))
        <a class="code" href="interface_8c.html#a5ed3c13631e5c34358258aad230d5380">if_up</a> (ifp);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a284b04b55021b6c0086761ea4c400214"></a><!-- doxytag: member="interface.c::if_refresh" ref="a284b04b55021b6c0086761ea4c400214" args="(struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void if_refresh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00562">562</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="ioctl_8c.html#a2b50abdbb1df6e287a7aceda21bbc6c2">if_get_flags</a> (ifp);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3d8abd4dd5d153b9501fe5f132dcf2e9"></a><!-- doxytag: member="interface.c::if_subnet_add" ref="a3d8abd4dd5d153b9501fe5f132dcf2e9" args="(struct interface *ifp, struct connected *ifc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int if_subnet_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structconnected.html">connected</a> *&#160;</td>
          <td class="paramname"><em>ifc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00118">118</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *rn;
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *<a class="code" href="structzebra__if.html">zebra_if</a>;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> cp;
  <span class="keyword">struct </span><a class="code" href="structlist.html">list</a> *addr_list;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (ifp &amp;&amp; ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a> &amp;&amp; ifc);
  zebra_if = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;

  <span class="comment">/* Get address derived subnet node and associated address list, while marking</span>
<span class="comment">     address secondary attribute appropriately. */</span>
  cp = *ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>;
  <a class="code" href="prefix_8c.html#a99265c5e11b1867552cf784a4cac8252">apply_mask</a> (&amp;cp);
  rn = <a class="code" href="table_8c.html#ac91fdff1a0b8dc3d60ebaf152caa0f80">route_node_get</a> (zebra_if-&gt;<a class="code" href="structzebra__if.html#a412a56e0801125e7952e339c0543f308">ipv4_subnets</a>, &amp;cp);

  <span class="keywordflow">if</span> ((addr_list = rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>))
    <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5928e0378e95d422553fdd37c3d66519">flags</a>, <a class="code" href="if_8h.html#a87a060af9e9971eefeb1584beaceecf6">ZEBRA_IFA_SECONDARY</a>);
  <span class="keywordflow">else</span>
    {
      <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5928e0378e95d422553fdd37c3d66519">flags</a>, <a class="code" href="if_8h.html#a87a060af9e9971eefeb1584beaceecf6">ZEBRA_IFA_SECONDARY</a>);
      rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = addr_list = <a class="code" href="linklist_8c.html#af156f4ae343ef4a625f75b6c38845aef">list_new</a> ();
      <a class="code" href="table_8c.html#a5f018f727fe43d17553baabbf7fa6498">route_lock_node</a> (rn);
    }

  <span class="comment">/* Tie address at the tail of address list. */</span>
  <a class="code" href="linklist_8c.html#adb2a0478aba995441aaf691d1f6fe5db">listnode_add</a> (addr_list, ifc);
  
  <span class="comment">/* Return list element count. */</span>
  <span class="keywordflow">return</span> (addr_list-&gt;<a class="code" href="structlist.html#ac9c4d4d7c65e726bd9ee0c8884b6349b">count</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5a3e0e346081affe4ee0af2ebcaaa792"></a><!-- doxytag: member="interface.c::if_subnet_delete" ref="a5a3e0e346081affe4ee0af2ebcaaa792" args="(struct interface *ifp, struct connected *ifc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int if_subnet_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structconnected.html">connected</a> *&#160;</td>
          <td class="paramname"><em>ifc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00152">152</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *rn;
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *<a class="code" href="structzebra__if.html">zebra_if</a>;
  <span class="keyword">struct </span><a class="code" href="structlist.html">list</a> *addr_list;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (ifp &amp;&amp; ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a> &amp;&amp; ifc);
  zebra_if = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;

  <span class="comment">/* Get address derived subnet node. */</span>
  rn = <a class="code" href="table_8c.html#ab99d86b40440c8f18d4f2b31b5b8f1c7">route_node_lookup</a> (zebra_if-&gt;<a class="code" href="structzebra__if.html#a412a56e0801125e7952e339c0543f308">ipv4_subnets</a>, ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>);
  <span class="keywordflow">if</span> (! (rn &amp;&amp; rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>))
    <span class="keywordflow">return</span> -1;
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);
  
  <span class="comment">/* Untie address from subnet&#39;s address list. */</span>
  addr_list = rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
  <a class="code" href="linklist_8c.html#a8cbdaa18db1ceacaadbc457a0c634e02">listnode_delete</a> (addr_list, ifc);
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);

  <span class="comment">/* Return list element count, if not empty. */</span>
  <span class="keywordflow">if</span> (addr_list-&gt;<a class="code" href="structlist.html#ac9c4d4d7c65e726bd9ee0c8884b6349b">count</a>)
    {
      <span class="comment">/* If deleted address is primary, mark subsequent one as such and distribute. */</span>
      <span class="keywordflow">if</span> (! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5928e0378e95d422553fdd37c3d66519">flags</a>, <a class="code" href="if_8h.html#a87a060af9e9971eefeb1584beaceecf6">ZEBRA_IFA_SECONDARY</a>))
    {
      ifc = <a class="code" href="linklist_8h.html#a574f1b7acbcea848771bd5ddc61e430a">listgetdata</a> (<a class="code" href="linklist_8h.html#a3d4492ca03b023aeecd4d6b0cdaa16fb">listhead</a> (addr_list));
      <a class="code" href="redistribute_8c.html#addd2b7659a8107bc9d2edcc026579bf9">zebra_interface_address_delete_update</a> (ifp, ifc);
      <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5928e0378e95d422553fdd37c3d66519">flags</a>, <a class="code" href="if_8h.html#a87a060af9e9971eefeb1584beaceecf6">ZEBRA_IFA_SECONDARY</a>);
      <a class="code" href="redistribute_8c.html#a094cff05de325b272858866f09358058">zebra_interface_address_add_update</a> (ifp, ifc);
    }
      
      <span class="keywordflow">return</span> addr_list-&gt;<a class="code" href="structlist.html#ac9c4d4d7c65e726bd9ee0c8884b6349b">count</a>;
    }
  
  <span class="comment">/* Otherwise, free list and route node. */</span>
  <a class="code" href="linklist_8c.html#a15aa9f8cf8424489adf1efd4d075aac6">list_free</a> (addr_list);
  rn-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rn);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5ed3c13631e5c34358258aad230d5380"></a><!-- doxytag: member="interface.c::if_up" ref="a5ed3c13631e5c34358258aad230d5380" args="(struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void if_up </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00498">498</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *node;
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *<a class="code" href="structlistnode.html#a13db6e09ac9e7200657130783e8e4131">next</a>;
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *ifc;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;

  <span class="comment">/* Notify the protocol daemons. */</span>
  <a class="code" href="redistribute_8c.html#a47e3eef746ea4c7dd28652d126b29908">zebra_interface_up_update</a> (ifp);

  <span class="comment">/* Install connected routes to the kernel. */</span>
  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>)
    {
      <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a71512a873b8f0e2b4c84d3c949a9bbaf">ALL_LIST_ELEMENTS</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, node, next, ifc))
    {
      p = ifc-&gt;<a class="code" href="structconnected.html#a288d9248b21b8e3999e03ceaa9bb70db">address</a>;

      <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET)
        <a class="code" href="connected_8c.html#a281f3e4ee7aa4eb5b74fc7d6205afbcb">connected_up_ipv4</a> (ifp, ifc);
<span class="preprocessor">#ifdef HAVE_IPV6</span>
<span class="preprocessor"></span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET6)
        connected_up_ipv6 (ifp, ifc);
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_IPV6 */</span>
    }
    }

  <span class="comment">/* Examine all static routes. */</span>
  <a class="code" href="rib_8h.html#ab5320729fbebc97fbb79a214f5d370d8">rib_update</a> ();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3ec94c0c9b060f397b04a790a3b5e067"></a><!-- doxytag: member="interface.c::if_zebra_delete_hook" ref="a3ec94c0c9b060f397b04a790a3b5e067" args="(struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int if_zebra_delete_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00098">98</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *<a class="code" href="structzebra__if.html">zebra_if</a>;
  
  <span class="keywordflow">if</span> (ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>)
    {
      zebra_if = ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a>;

      <span class="comment">/* Free installed address chains tree. */</span>
      <span class="keywordflow">if</span> (zebra_if-&gt;<a class="code" href="structzebra__if.html#a412a56e0801125e7952e339c0543f308">ipv4_subnets</a>)
    <a class="code" href="table_8c.html#adc5ff276f1698f5bef7bb74289e3b26e">route_table_finish</a> (zebra_if-&gt;<a class="code" href="structzebra__if.html#a412a56e0801125e7952e339c0543f308">ipv4_subnets</a>);

      <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba563963518edb70d4cd7492b06f48106e">MTYPE_TMP</a>, zebra_if);
    }

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abf45a5ddc072f551dfe85fa0f0fd78c4"></a><!-- doxytag: member="interface.c::if_zebra_new_hook" ref="abf45a5ddc072f551dfe85fa0f0fd78c4" args="(struct interface *ifp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int if_zebra_new_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00052">52</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structzebra__if.html">zebra_if</a> *<a class="code" href="structzebra__if.html">zebra_if</a>;

  zebra_if = <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba563963518edb70d4cd7492b06f48106e">MTYPE_TMP</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> zebra_if));

  zebra_if-&gt;<a class="code" href="structzebra__if.html#a12752cdbf6d7e4b9743851e5654a0aa4">multicast</a> = <a class="code" href="interface_8h.html#aa9cdb773988c8c6b2c8c7d8a746d4d8d">IF_ZEBRA_MULTICAST_UNSPEC</a>;
  zebra_if-&gt;<a class="code" href="structzebra__if.html#ab64a7e72cb4492d0e762668e748af404">shutdown</a> = <a class="code" href="interface_8h.html#a02647faf478b25f3b679ef3822411e91">IF_ZEBRA_SHUTDOWN_UNSPEC</a>;

<span class="preprocessor">#ifdef RTADV</span>
<span class="preprocessor"></span>  {
    <span class="comment">/* Set default router advertise values. */</span>
    <span class="keyword">struct </span>rtadvconf *rtadv;

    rtadv = &amp;zebra_if-&gt;rtadv;

    rtadv-&gt;AdvSendAdvertisements = 0;
    rtadv-&gt;MaxRtrAdvInterval = RTADV_MAX_RTR_ADV_INTERVAL;
    rtadv-&gt;MinRtrAdvInterval = RTADV_MIN_RTR_ADV_INTERVAL;
    rtadv-&gt;AdvIntervalTimer = 0;
    rtadv-&gt;AdvManagedFlag = 0;
    rtadv-&gt;AdvOtherConfigFlag = 0;
    rtadv-&gt;AdvHomeAgentFlag = 0;
    rtadv-&gt;AdvLinkMTU = 0;
    rtadv-&gt;AdvReachableTime = 0;
    rtadv-&gt;AdvRetransTimer = 0;
    rtadv-&gt;AdvCurHopLimit = 0;
    rtadv-&gt;AdvDefaultLifetime = RTADV_ADV_DEFAULT_LIFETIME;
    rtadv-&gt;HomeAgentPreference = 0;
    rtadv-&gt;HomeAgentLifetime = RTADV_ADV_DEFAULT_LIFETIME;
    rtadv-&gt;AdvIntervalOption = 0;
    rtadv-&gt;DefaultPreference = RTADV_PREF_MEDIUM;

    rtadv-&gt;AdvPrefixList = <a class="code" href="linklist_8c.html#af156f4ae343ef4a625f75b6c38845aef">list_new</a> ();
  }    
<span class="preprocessor">#endif </span><span class="comment">/* RTADV */</span>

  <span class="comment">/* Initialize installed address chains tree. */</span>
  zebra_if-&gt;<a class="code" href="structzebra__if.html#a412a56e0801125e7952e339c0543f308">ipv4_subnets</a> = <a class="code" href="table_8c.html#a9b1d6d715d752d224b322da32d425046">route_table_init</a> ();

  ifp-&gt;<a class="code" href="structinterface.html#a580b288c96c34d57028bfecee2b912c8">info</a> = zebra_if;
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4eabd0bc9417c79a4746817611e7c59b"></a><!-- doxytag: member="interface.c::ip_address_uninstall" ref="a4eabd0bc9417c79a4746817611e7c59b" args="(struct vty *vty, struct interface *ifp, const char *addr_str, const char *peer_str, const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ip_address_uninstall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structinterface.html">interface</a> *&#160;</td>
          <td class="paramname"><em>ifp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>peer_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01239">1239</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structprefix__ipv4.html">prefix_ipv4</a> cp;
  <span class="keyword">struct </span><a class="code" href="structconnected.html">connected</a> *ifc;
  <span class="keywordtype">int</span> ret;

  <span class="comment">/* Convert to prefix structure. */</span>
  ret = <a class="code" href="prefix_8c.html#aae422250092661b36915d1769df957f7">str2prefix_ipv4</a> (addr_str, &amp;cp);
  <span class="keywordflow">if</span> (ret &lt;= 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%% Malformed address %s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* Check current interface address. */</span>
  ifc = <a class="code" href="connected_8c.html#a579a660baf543f84fc3abc5a99de1cee">connected_check</a> (ifp, (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *) &amp;cp);
  <span class="keywordflow">if</span> (! ifc)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%% Can&#39;t find address%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* This is not configured address. */</span>
  <span class="keywordflow">if</span> (! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a4c3561e2d67366e175998d69dbc87874">ZEBRA_IFC_CONFIGURED</a>))
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;

  <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a4c3561e2d67366e175998d69dbc87874">ZEBRA_IFC_CONFIGURED</a>);
  
  <span class="comment">/* This is not real address or interface is not active. */</span>
  <span class="keywordflow">if</span> (! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifc-&gt;<a class="code" href="structconnected.html#a5dce94fe72d07a6f2312b12a8a9f1312">conf</a>, <a class="code" href="if_8h.html#a56abda52e44cc999ccddf7b63bc14eca">ZEBRA_IFC_REAL</a>)
      || ! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (ifp-&gt;<a class="code" href="structinterface.html#ae145c01f63b3abaca8e3805f9e396c4a">status</a>, <a class="code" href="if_8h.html#a977548125c39a6ba021b2d0fde8f5a52">ZEBRA_INTERFACE_ACTIVE</a>))
    {
      <a class="code" href="linklist_8c.html#a8cbdaa18db1ceacaadbc457a0c634e02">listnode_delete</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, ifc);
      <a class="code" href="if_8c.html#aefcfc40d0358af75f26135eb0a33903d">connected_free</a> (ifc);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

  <span class="comment">/* This is real route. */</span>
  ret = <a class="code" href="ioctl_8c.html#a6394ee738ad4341863267bdde8e4158a">if_unset_prefix</a> (ifp, ifc);
  <span class="keywordflow">if</span> (ret &lt; 0)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%% Can&#39;t unset interface IP address: %s.%s&quot;</span>, 
           <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(errno), <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
    }

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>  <span class="comment">/* Redistribute this information. */</span>
  <a class="code" href="redistribute_8c.html#addd2b7659a8107bc9d2edcc026579bf9">zebra_interface_address_delete_update</a> (ifp, ifc);

  <span class="comment">/* Remove connected route. */</span>
  <a class="code" href="connected_8c.html#afe7cbd92c89db253135714c882edd102">connected_down_ipv4</a> (ifp, ifc);

  <span class="comment">/* Free address information. */</span>
  <a class="code" href="linklist_8c.html#a8cbdaa18db1ceacaadbc457a0c634e02">listnode_delete</a> (ifp-&gt;<a class="code" href="structinterface.html#ac7c47b5cc1df81e51bf1ecea97b4d4b3">connected</a>, ifc);
  <a class="code" href="if_8c.html#aefcfc40d0358af75f26135eb0a33903d">connected_free</a> (ifc);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1aa89cedc560f174b4bb2747f3b46f6e"></a><!-- doxytag: member="interface.c::prefix_vty_out" ref="a1aa89cedc560f174b4bb2747f3b46f6e" args="(struct vty *vty, struct prefix *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int prefix_vty_out </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l00569">569</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> <a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>[<a class="code" href="prefix_8h.html#af776b22a727aae7c9f4d869d50df47e8">INET6_ADDRSTRLEN</a>];

  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (p-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a>, &amp;p-&gt;u.<a class="code" href="structprefix.html#af508982a05429729278c96708bd9e337">prefix</a>, str, sizeof (str));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, str);
  <span class="keywordflow">return</span> strlen (str);
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc31855ecd2f1232bed1d80c311908a3"></a><!-- doxytag: member="interface.c::zebra_if_init" ref="adc31855ecd2f1232bed1d80c311908a3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zebra_if_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="interface_8c_source.html#l01585">1585</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Initialize interface and new hook. */</span>
  <a class="code" href="if_8c.html#ac78cad8082fa880e50b2c945f8a3c33d">if_init</a> ();
  <a class="code" href="if_8c.html#af0a4090e849fe0dff798e976d8fa2482">if_add_hook</a> (<a class="code" href="if_8h.html#a4185c142d0c9619a6cab25061dfd50f3">IF_NEW_HOOK</a>, <a class="code" href="interface_8c.html#abf45a5ddc072f551dfe85fa0f0fd78c4">if_zebra_new_hook</a>);
  <a class="code" href="if_8c.html#af0a4090e849fe0dff798e976d8fa2482">if_add_hook</a> (<a class="code" href="if_8h.html#afa0a12fa62fd3fd8b5fb9a1b917f3afa">IF_DELETE_HOOK</a>, <a class="code" href="interface_8c.html#a3ec94c0c9b060f397b04a790a3b5e067">if_zebra_delete_hook</a>);
  
  <span class="comment">/* Install configuration write function. */</span>
  <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;<a class="code" href="interface_8c.html#a16f01e8f31d361deea8af5ea55c2d2ec">interface_node</a>, <a class="code" href="interface_8c.html#a260036d5698d001ececb4ad0ebb7f313">if_config_write</a>);

  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;show_interface_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;show_interface_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;show_interface_desc_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;zebra_interface_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_interface_cmd);
  <a class="code" href="command_8h.html#affb2f399c88b8a225b2719bbe928e4de">install_default</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;<a class="code" href="if_8h.html#a51777a76e1c996fcf81ab577db829158">interface_desc_cmd</a>);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_interface_desc_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;multicast_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_multicast_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;linkdetect_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_linkdetect_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;shutdown_if_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_shutdown_if_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;bandwidth_if_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_bandwidth_if_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_bandwidth_if_val_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;ip_address_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_ip_address_cmd);
<span class="preprocessor">#ifdef HAVE_IPV6</span>
<span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;ipv6_address_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_ipv6_address_cmd);
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_IPV6 */</span>
<span class="preprocessor">#ifdef HAVE_NETLINK</span>
<span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;ip_address_label_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_ip_address_label_cmd);
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_NETLINK */</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a16f01e8f31d361deea8af5ea55c2d2ec"></a><!-- doxytag: member="interface.c::interface_node" ref="a16f01e8f31d361deea8af5ea55c2d2ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcmd__node.html">cmd_node</a> <a class="el" href="interface_8c.html#a16f01e8f31d361deea8af5ea55c2d2ec">interface_node</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>,
  <span class="stringliteral">&quot;%s(config-if)# &quot;</span>,
  1
}
</pre></div>
<p>Definition at line <a class="el" href="interface_8c_source.html#l00864">864</a> of file <a class="el" href="interface_8c_source.html">interface.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="interface_8c.html">interface.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:37 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
