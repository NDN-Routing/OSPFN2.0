<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: lib/routemap.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('routemap_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">lib/routemap.h</div>  </div>
</div>
<div class="contents">
<a href="routemap_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Route map function.</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (C) 1998 Kunihiro Ishiguro</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This file is part of GNU Zebra.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * GNU Zebra is free software; you can redistribute it and/or modify it</span>
<a name="l00007"></a>00007 <span class="comment"> * under the terms of the GNU General Public License as published by the</span>
<a name="l00008"></a>00008 <span class="comment"> * Free Software Foundation; either version 2, or (at your option) any</span>
<a name="l00009"></a>00009 <span class="comment"> * later version.</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * GNU Zebra is distributed in the hope that it will be useful, but</span>
<a name="l00012"></a>00012 <span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00014"></a>00014 <span class="comment"> * General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment"> * along with GNU Zebra; see the file COPYING.  If not, write to the Free</span>
<a name="l00018"></a>00018 <span class="comment"> * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA</span>
<a name="l00019"></a>00019 <span class="comment"> * 02111-1307, USA.  </span>
<a name="l00020"></a>00020 <span class="comment"> */</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef _ZEBRA_ROUTEMAP_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define _ZEBRA_ROUTEMAP_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="comment">/* Route map&#39;s type. */</span>
<a name="l00026"></a><a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">00026</a> <span class="keyword">enum</span> <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a>
<a name="l00027"></a>00027 {
<a name="l00028"></a><a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644aa7d1859ac879fafcd59953ee1e27b134">00028</a>   <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644aa7d1859ac879fafcd59953ee1e27b134">RMAP_PERMIT</a>,
<a name="l00029"></a><a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644ad79be2f4afd690ef956924415e6724bf">00029</a>   <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644ad79be2f4afd690ef956924415e6724bf">RMAP_DENY</a>,
<a name="l00030"></a><a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644a3e1cf1ee8daf4831cff903b956538dc4">00030</a>   <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644a3e1cf1ee8daf4831cff903b956538dc4">RMAP_ANY</a>
<a name="l00031"></a>00031 };
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">00033</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> 
<a name="l00034"></a>00034 {
<a name="l00035"></a><a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516acce76d634db613fd27f63c57d4438e3f">00035</a>   <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516acce76d634db613fd27f63c57d4438e3f">RMAP_MATCH</a>,
<a name="l00036"></a><a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">00036</a>   <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">RMAP_DENYMATCH</a>,
<a name="l00037"></a><a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516ad7644e3e4542899815c7e987cb7bd604">00037</a>   <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516ad7644e3e4542899815c7e987cb7bd604">RMAP_NOMATCH</a>,
<a name="l00038"></a><a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a4cbd39b00b82b6a98257d2eced7f92bc">00038</a>   <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a4cbd39b00b82b6a98257d2eced7f92bc">RMAP_ERROR</a>,
<a name="l00039"></a><a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a1215cf356f29000968d958c014b559d5">00039</a>   <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a1215cf356f29000968d958c014b559d5">RMAP_OKAY</a>
<a name="l00040"></a>00040 } <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a>;
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">00042</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00043"></a>00043 {
<a name="l00044"></a><a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370acea1c1ac711770ac85bef02d97449004">00044</a>   <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370acea1c1ac711770ac85bef02d97449004">RMAP_RIP</a>,
<a name="l00045"></a><a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370a3aa81322d89db5d5821c23c0fe7881bd">00045</a>   <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370a3aa81322d89db5d5821c23c0fe7881bd">RMAP_RIPNG</a>,
<a name="l00046"></a><a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370a4284b205cb07374b45edb0fa25b8b064">00046</a>   <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370a4284b205cb07374b45edb0fa25b8b064">RMAP_OSPF</a>,
<a name="l00047"></a><a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370ad6c5d7f8d5732e1ae78dbc856e335950">00047</a>   <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370ad6c5d7f8d5732e1ae78dbc856e335950">RMAP_OSPF6</a>,
<a name="l00048"></a><a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370adcb3bc0f6448923a387dfe3658ca7bda">00048</a>   <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370adcb3bc0f6448923a387dfe3658ca7bda">RMAP_BGP</a>,
<a name="l00049"></a><a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370aed5a3d6c0f7329ba83c52473152a65ad">00049</a>   <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370aed5a3d6c0f7329ba83c52473152a65ad">RMAP_ZEBRA</a>
<a name="l00050"></a>00050 } <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a>;
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65">00052</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00053"></a>00053 {
<a name="l00054"></a><a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65ac96396419f989b1550d26b3c26b344b3">00054</a>   <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65ac96396419f989b1550d26b3c26b344b3">RMAP_EXIT</a>,
<a name="l00055"></a><a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a288188a3b834bdcf6d4992443836bfad">00055</a>   <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a288188a3b834bdcf6d4992443836bfad">RMAP_GOTO</a>,
<a name="l00056"></a><a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a626a8c0ef7d48240fa6cc70fab0025ca">00056</a>   <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65a626a8c0ef7d48240fa6cc70fab0025ca">RMAP_NEXT</a>
<a name="l00057"></a>00057 } <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65">route_map_end_t</a>;
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9">00059</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00060"></a>00060 {
<a name="l00061"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ad056989d35054c77033943aa34e87785">00061</a>   <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ad056989d35054c77033943aa34e87785">RMAP_EVENT_SET_ADDED</a>,
<a name="l00062"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ad3a6b3993521f8aa102e3d6312f423a9">00062</a>   <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ad3a6b3993521f8aa102e3d6312f423a9">RMAP_EVENT_SET_DELETED</a>,
<a name="l00063"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ab0f3542140f2de92e3e287329172423d">00063</a>   <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9ab0f3542140f2de92e3e287329172423d">RMAP_EVENT_SET_REPLACED</a>,
<a name="l00064"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a6cb33171cd983930c4dc99dbf3df8d66">00064</a>   <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a6cb33171cd983930c4dc99dbf3df8d66">RMAP_EVENT_MATCH_ADDED</a>,
<a name="l00065"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a56b052336a5f888e0f36edf89a7841e4">00065</a>   <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a56b052336a5f888e0f36edf89a7841e4">RMAP_EVENT_MATCH_DELETED</a>,
<a name="l00066"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9afc82b7344dc78f87c949b18f6bee4c05">00066</a>   <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9afc82b7344dc78f87c949b18f6bee4c05">RMAP_EVENT_MATCH_REPLACED</a>,
<a name="l00067"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a9edd138a59d6e9b2db1f8cd995ae777a">00067</a>   <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a9edd138a59d6e9b2db1f8cd995ae777a">RMAP_EVENT_INDEX_ADDED</a>,
<a name="l00068"></a><a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a49be32e9ce9d24366de94b24a0c07ae2">00068</a>   <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9a49be32e9ce9d24366de94b24a0c07ae2">RMAP_EVENT_INDEX_DELETED</a>
<a name="l00069"></a>00069 } <a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9">route_map_event_t</a>;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="comment">/* Depth limit in RMAP recursion using RMAP_CALL. */</span>
<a name="l00072"></a><a class="code" href="routemap_8h.html#a224e629a9ef35235b56a21a975179df1">00072</a> <span class="preprocessor">#define RMAP_RECURSION_LIMIT      10</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span>
<a name="l00074"></a>00074 <span class="comment">/* Route map rule structure for matching and setting. */</span>
<a name="l00075"></a><a class="code" href="structroute__map__rule__cmd.html">00075</a> <span class="keyword">struct </span><a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a>
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077   <span class="comment">/* Route map rule name (e.g. as-path, metric) */</span>
<a name="l00078"></a><a class="code" href="structroute__map__rule__cmd.html#aed1f103e93fd6bd1f1c9cfe41a15cdce">00078</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structroute__map__rule__cmd.html#aed1f103e93fd6bd1f1c9cfe41a15cdce">str</a>;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080   <span class="comment">/* Function for value set or match. */</span>
<a name="l00081"></a><a class="code" href="structroute__map__rule__cmd.html#a27e01b75ae06c3e33583b51f797f021c">00081</a>   <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> (*<a class="code" href="structroute__map__rule__cmd.html#a27e01b75ae06c3e33583b51f797f021c">func_apply</a>)(<span class="keywordtype">void</span> *, <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> *, 
<a name="l00082"></a>00082                    <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a>, <span class="keywordtype">void</span> *);
<a name="l00083"></a>00083 
<a name="l00084"></a>00084   <span class="comment">/* Compile argument and return result as void *. */</span>
<a name="l00085"></a><a class="code" href="structroute__map__rule__cmd.html#a6cc51dc65417685ca9d25d2c2e4a2c9e">00085</a>   <span class="keywordtype">void</span> *(*func_compile)(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00086"></a>00086 
<a name="l00087"></a>00087   <span class="comment">/* Free allocated value by func_compile (). */</span>
<a name="l00088"></a><a class="code" href="structroute__map__rule__cmd.html#a4223d985644004257b4f9dbf38186774">00088</a>   void (*<a class="code" href="structroute__map__rule__cmd.html#a4223d985644004257b4f9dbf38186774">func_free</a>)(<span class="keywordtype">void</span> *);
<a name="l00089"></a>00089 };
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="comment">/* Route map apply error. */</span>
<a name="l00092"></a>00092 <span class="keyword">enum</span>
<a name="l00093"></a>00093 {
<a name="l00094"></a>00094   <span class="comment">/* Route map rule is missing. */</span>
<a name="l00095"></a><a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da26f041059a9ab0d72a8fdfd1e2f43041">00095</a>   <a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da26f041059a9ab0d72a8fdfd1e2f43041">RMAP_RULE_MISSING</a> = 1,
<a name="l00096"></a>00096 
<a name="l00097"></a>00097   <span class="comment">/* Route map rule can&#39;t compile */</span>
<a name="l00098"></a><a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da91019d02c673a0a43dcbb38d88d8c11b">00098</a>   <a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da91019d02c673a0a43dcbb38d88d8c11b">RMAP_COMPILE_ERROR</a>
<a name="l00099"></a>00099 };
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="comment">/* Route map rule list. */</span>
<a name="l00102"></a><a class="code" href="structroute__map__rule__list.html">00102</a> <span class="keyword">struct </span><a class="code" href="structroute__map__rule__list.html">route_map_rule_list</a>
<a name="l00103"></a>00103 {
<a name="l00104"></a><a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">00104</a>   <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *<a class="code" href="structroute__map__rule__list.html#a2c7829ef639755bf58b9f768b8cdcd7c">head</a>;
<a name="l00105"></a><a class="code" href="structroute__map__rule__list.html#a4092d13b8dddc332e5261de4310450cb">00105</a>   <span class="keyword">struct </span><a class="code" href="structroute__map__rule.html">route_map_rule</a> *<a class="code" href="structroute__map__rule__list.html#a4092d13b8dddc332e5261de4310450cb">tail</a>;
<a name="l00106"></a>00106 };
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="comment">/* Route map index structure. */</span>
<a name="l00109"></a><a class="code" href="structroute__map__index.html">00109</a> <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a>
<a name="l00110"></a>00110 {
<a name="l00111"></a><a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">00111</a>   <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *<a class="code" href="structroute__map__index.html#af9200ea51021a16c28f5f9d988f4cf22">map</a>;
<a name="l00112"></a><a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">00112</a>   <span class="keywordtype">char</span> *<a class="code" href="structroute__map__index.html#a43b9ff8356658b865d24b0b78b16fcdc">description</a>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114   <span class="comment">/* Preference of this route map rule. */</span>
<a name="l00115"></a><a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">00115</a>   <span class="keywordtype">int</span> <a class="code" href="structroute__map__index.html#af55f1bfd5c1f528d39bfc8911acd624b">pref</a>;
<a name="l00116"></a>00116 
<a name="l00117"></a>00117   <span class="comment">/* Route map type permit or deny. */</span>
<a name="l00118"></a><a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">00118</a>   <span class="keyword">enum</span> <a class="code" href="routemap_8h.html#a57b0063c49d180ad8b9d19ae35d7e644">route_map_type</a> <a class="code" href="structroute__map__index.html#a3a83adc68c14c32ace8ebbdf14b82558">type</a>;         
<a name="l00119"></a>00119 
<a name="l00120"></a>00120   <span class="comment">/* Do we follow old rules, or hop forward? */</span>
<a name="l00121"></a><a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">00121</a>   <a class="code" href="routemap_8h.html#a942cdc0c84664430e791ba274b5b5a65">route_map_end_t</a> <a class="code" href="structroute__map__index.html#a3f2cf15cb8d0e5b45899c9f84be8f726">exitpolicy</a>;
<a name="l00122"></a>00122 
<a name="l00123"></a>00123   <span class="comment">/* If we&#39;re using &quot;GOTO&quot;, to where do we go? */</span>
<a name="l00124"></a><a class="code" href="structroute__map__index.html#ac6d8da597d7a10032f4f28e281cb2e92">00124</a>   <span class="keywordtype">int</span> <a class="code" href="structroute__map__index.html#ac6d8da597d7a10032f4f28e281cb2e92">nextpref</a>;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <span class="comment">/* If we&#39;re using &quot;CALL&quot;, to which route-map do ew go? */</span>
<a name="l00127"></a><a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">00127</a>   <span class="keywordtype">char</span> *<a class="code" href="structroute__map__index.html#aa20169305f6474ab6b38a9baffa95427">nextrm</a>;
<a name="l00128"></a>00128 
<a name="l00129"></a>00129   <span class="comment">/* Matching rule list. */</span>
<a name="l00130"></a><a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">00130</a>   <span class="keyword">struct </span><a class="code" href="structroute__map__rule__list.html">route_map_rule_list</a> <a class="code" href="structroute__map__index.html#a0b441bf1f1b609f8b15da21cc9c81016">match_list</a>;
<a name="l00131"></a><a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">00131</a>   <span class="keyword">struct </span><a class="code" href="structroute__map__rule__list.html">route_map_rule_list</a> <a class="code" href="structroute__map__index.html#a375a33cfa88b8077f6930dc789d41a78">set_list</a>;
<a name="l00132"></a>00132 
<a name="l00133"></a>00133   <span class="comment">/* Make linked list. */</span>
<a name="l00134"></a><a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">00134</a>   <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *<a class="code" href="structroute__map__index.html#a5aaa31caccb13d030fffb6f0682995ac">next</a>;
<a name="l00135"></a><a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">00135</a>   <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *<a class="code" href="structroute__map__index.html#a3f9403eecece4d2615f568771a7a8f6d">prev</a>;
<a name="l00136"></a>00136 };
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="comment">/* Route map list structure. */</span>
<a name="l00139"></a><a class="code" href="structroute__map.html">00139</a> <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a>
<a name="l00140"></a>00140 {
<a name="l00141"></a>00141   <span class="comment">/* Name of route map. */</span>
<a name="l00142"></a><a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">00142</a>   <span class="keywordtype">char</span> *<a class="code" href="structroute__map.html#aab1f24e4c71014a5f78afe3d80ee7d40">name</a>;
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   <span class="comment">/* Route map&#39;s rule. */</span>
<a name="l00145"></a><a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">00145</a>   <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *<a class="code" href="structroute__map.html#aa487b5f6d01b4639eb2e924fb312283e">head</a>;
<a name="l00146"></a><a class="code" href="structroute__map.html#af222f8801c1593c2bea0a40ea7d4c638">00146</a>   <span class="keyword">struct </span><a class="code" href="structroute__map__index.html">route_map_index</a> *<a class="code" href="structroute__map.html#af222f8801c1593c2bea0a40ea7d4c638">tail</a>;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148   <span class="comment">/* Make linked list. */</span>
<a name="l00149"></a><a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">00149</a>   <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *<a class="code" href="structroute__map.html#a8f42e2970d14e3b9924ea813ec937646">next</a>;
<a name="l00150"></a><a class="code" href="structroute__map.html#a0ca47cdae22577cf0b150ce0a778581e">00150</a>   <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> *<a class="code" href="structroute__map.html#a0ca47cdae22577cf0b150ce0a778581e">prev</a>;
<a name="l00151"></a>00151 };
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 <span class="comment">/* Prototypes. */</span>
<a name="l00154"></a>00154 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="routemap_8c.html#a4e07135a4ac1643e0a3c2e9460322636">route_map_init</a> (<span class="keywordtype">void</span>);
<a name="l00155"></a>00155 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="routemap_8c.html#a09855551d0ef6f569e32d56cc4bb2857">route_map_init_vty</a> (<span class="keywordtype">void</span>);
<a name="l00156"></a>00156 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="routemap_8c.html#a8223809b8e0a33fb4d91c78cee55478b">route_map_finish</a> (<span class="keywordtype">void</span>);
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="comment">/* Add match statement to route map. */</span>
<a name="l00159"></a>00159 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="routemap_8c.html#ad681bdbc1826c0d017ff19a4315f4691">route_map_add_match</a> (<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *index,
<a name="l00160"></a>00160                         <span class="keyword">const</span> <span class="keywordtype">char</span> *match_name,
<a name="l00161"></a>00161                         <span class="keyword">const</span> <span class="keywordtype">char</span> *match_arg);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="comment">/* Delete specified route match rule. */</span>
<a name="l00164"></a>00164 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="routemap_8c.html#a884d3e1e22cd928a1e894005199f46c8">route_map_delete_match</a> (<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *index,
<a name="l00165"></a>00165                        <span class="keyword">const</span> <span class="keywordtype">char</span> *match_name,
<a name="l00166"></a>00166                        <span class="keyword">const</span> <span class="keywordtype">char</span> *match_arg);
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 <span class="comment">/* Add route-map set statement to the route map. */</span>
<a name="l00169"></a>00169 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="routemap_8c.html#a8219e7b29162a411fbadd874ec4d7c0a">route_map_add_set</a> (<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *index, 
<a name="l00170"></a>00170                       <span class="keyword">const</span> <span class="keywordtype">char</span> *set_name,
<a name="l00171"></a>00171                       <span class="keyword">const</span> <span class="keywordtype">char</span> *set_arg);
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 <span class="comment">/* Delete route map set rule. */</span>
<a name="l00174"></a>00174 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="routemap_8c.html#af03929ed1dd4f46e3284412d6ec1e30e">route_map_delete_set</a> (<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *index,
<a name="l00175"></a>00175                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *set_name,
<a name="l00176"></a>00176                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *set_arg);
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <span class="comment">/* Install rule command to the match list. */</span>
<a name="l00179"></a>00179 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="routemap_8c.html#ada69b48e1c884e20ef5a90dc1d0a0b82">route_map_install_match</a> (<span class="keyword">struct</span> <a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *cmd);
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 <span class="comment">/* Install rule command to the set list. */</span>
<a name="l00182"></a>00182 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="routemap_8c.html#a13c839a968e8eba43c4e83ce35929d41">route_map_install_set</a> (<span class="keyword">struct</span> <a class="code" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> *cmd);
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="comment">/* Lookup route map by name. */</span>
<a name="l00185"></a>00185 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structroute__map.html">route_map</a> * <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="comment">/* Apply route map to the object. */</span>
<a name="l00188"></a>00188 <span class="keyword">extern</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> <a class="code" href="routemap_8c.html#a3372553a024332702cfd603e1f4c08d6">route_map_apply</a> (<span class="keyword">struct</span> <a class="code" href="structroute__map.html">route_map</a> *map,
<a name="l00189"></a>00189                                            <span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a> *,
<a name="l00190"></a>00190                                            <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a> object_type,
<a name="l00191"></a>00191                                            <span class="keywordtype">void</span> *<span class="keywordtype">object</span>);
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="routemap_8c.html#afd64a010c9f8f9cf35788b065f540eea">route_map_add_hook</a> (<span class="keywordtype">void</span> (*<a class="code" href="bgp__fsm_8c.html#aad6d5d0fbfe60193366eaab88413f7af">func</a>) (<span class="keyword">const</span> <span class="keywordtype">char</span> *));
<a name="l00194"></a>00194 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="routemap_8c.html#a60b69b789fa511ded8504c5b20fb63d4">route_map_delete_hook</a> (<span class="keywordtype">void</span> (*<a class="code" href="bgp__fsm_8c.html#aad6d5d0fbfe60193366eaab88413f7af">func</a>) (<span class="keyword">const</span> <span class="keywordtype">char</span> *));
<a name="l00195"></a>00195 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="routemap_8c.html#ac75964232495c0982befc4c0a09baec1">route_map_event_hook</a> (<span class="keywordtype">void</span> (*<a class="code" href="bgp__fsm_8c.html#aad6d5d0fbfe60193366eaab88413f7af">func</a>) (<a class="code" href="routemap_8h.html#ab2e145bec6888d75a9f6682014aed3c9">route_map_event_t</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *));
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="preprocessor">#endif </span><span class="comment">/* _ZEBRA_ROUTEMAP_H */</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="routemap_8h.html">routemap.h</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:05 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
