<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: lib/log.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('log_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">lib/log.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &lt;sys/un.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for log.c:</div>
<div class="dyncontent">
<div class="center"><img src="log_8c__incl.png" border="0" usemap="#lib_2log_8c" alt=""/></div>
<map name="lib_2log_8c" id="lib_2log_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1345,80,1412,107"/><area shape="rect" id="node61" href="log_8h.html" title="log.h" alt="" coords="2786,229,2837,256"/><area shape="rect" id="node64" href="memory_8h.html" title="memory.h" alt="" coords="2865,80,2948,107"/><area shape="rect" id="node68" href="command_8h.html" title="command.h" alt="" coords="2978,80,3069,107"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="2623,155,2700,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="2725,155,2773,181"/><area shape="rect" id="node66" href="memtypes_8h.html" title="lib/memtypes.h" alt="" coords="2849,155,2964,181"/><area shape="rect" id="node70" href="vector_8h.html" title="vector.h" alt="" coords="2988,155,3060,181"/><area shape="rect" id="node72" href="vty_8h.html" title="vty.h" alt="" coords="3085,155,3136,181"/><area shape="rect" id="node77" href="route__types_8h.html" title="lib/route_types.h" alt="" coords="3161,155,3284,181"/><area shape="rect" id="node74" href="thread_8h.html" title="thread.h" alt="" coords="3075,229,3147,256"/></map>
</div>
</div>
<p><a href="log_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structzebra__desc__table.html">zebra_desc_table</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a16f89e1217106cdaf03d67a41645c081">SYSLOG_SOCKET_PATH</a>&#160;&#160;&#160;&quot;/dev/log&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a0fee446a4a4ef6536664bc1ff47ff694">LOC</a>&#160;&#160;&#160;<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>,buf+sizeof(buf)-<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a2a00b2d09c12519792fdbd61fb7ecd97">CRASHLOG_PREFIX</a>&#160;&#160;&#160;&quot;/var/tmp/quagga.&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a69fed7027b716a1b9ebcf865ec2e6851">CRASHLOG_SUFFIX</a>&#160;&#160;&#160;&quot;crashlog&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a0fee446a4a4ef6536664bc1ff47ff694">LOC</a>&#160;&#160;&#160;<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>,buf+sizeof(buf)-<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a0fee446a4a4ef6536664bc1ff47ff694">LOC</a>&#160;&#160;&#160;<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>,buf+sizeof(buf)-<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ac21c270bfe049dfdd259c110b2793d32">PRI</a>&#160;&#160;&#160;LOG_CRIT</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#afd1a507af116f890f28297c0a5ed9e86">DUMP</a>(FD)&#160;&#160;&#160;write(FD, buf, <a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>-buf);</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#afdbf30c4542bc30c76a5dba6269e9f09">ZLOG_FUNC</a>(FUNCNAME, PRIORITY)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a83e15b1ff37c036aa534ac1d135df988">PLOG_FUNC</a>(FUNCNAME, PRIORITY)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>(<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>, S, C)&#160;&#160;&#160;[(<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>)] = { (<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>), (S), (C) }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aced7b84223ab1ebd657f0864aba6b371">DESC_ENTRY</a>(<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>)&#160;&#160;&#160;[(<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>)] = { (<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>), (#<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>), '\0' }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ae656eed357dbab332c9579685e8be446">RTSIZE</a>&#160;&#160;&#160;(sizeof(<a class="el" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>)/sizeof(<a class="el" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[0]))</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aa70601e0152987332545566abf72b090">quagga_timestamp</a> (int timestamp_precision, char *buf, size_t buflen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a339ab8c8c5a7ca6d21e344fd3b6b4916">time_print</a> (FILE *fp, struct <a class="el" href="structtimestamp__control.html">timestamp_control</a> *ctl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aae5bf6763e3e56f4118957374d4f1208">vzlog</a> (struct <a class="el" href="structzlog.html">zlog</a> *zl, int priority, const char *format, va_list <a class="el" href="ospfclient_8c.html#aa24f72e6a4d6a997528142211b375496">args</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a> (char *dst, int len, const char *src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a80ef76ace680efc94420e6b41b8b87a9">num_append</a> (char *<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>, int len, u_long <a class="el" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ab2e057d52611ed04233ea01c68e871a5">syslog_connect</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a8c4d4637d2c9e63aedb25da9000530de">syslog_sigsafe</a> (int priority, const char *<a class="el" href="structmsg.html">msg</a>, size_t msglen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ae757d8997fecba3ff8772d26fd323792">open_crashlog</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a05e23c9c58b9b7834cb867da34ea2556">zlog_signal</a> (int signo, const char *action)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a6db992283a1d1e643121c8bde222e525">zlog_backtrace_sigsafe</a> (int priority, void *program_counter)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a007e475475f7a96147bbb4315b58bb2e">zlog_backtrace</a> (int priority)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a34f80af784b8ec394e7a7154a7ec7364">zlog</a> (struct <a class="el" href="structzlog.html">zlog</a> *zl, int priority, const char *format,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ac023d06de0fea9da9c539f1c93013c45">_zlog_assert_failed</a> (const char *assertion, const char *file, unsigned int line, const char *function)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a0e29a4e0e59d1fdbff2aab49e067b501">openzlog</a> (const char *<a class="el" href="vtysh__main_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, <a class="el" href="log_8h.html#a7191b9759b28b288102a2c6dd41e20a3">zlog_proto_t</a> protocol, int syslog_flags, int syslog_facility)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aa896f30e9b15a99877e4d9b98fe92b49">closezlog</a> (struct <a class="el" href="structzlog.html">zlog</a> *zl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a8ef98c8a7cd8474e0570a342208b7cfb">zlog_set_level</a> (struct <a class="el" href="structzlog.html">zlog</a> *zl, <a class="el" href="log_8h.html#a73f647b113a31234b2acdc6979aa37af">zlog_dest_t</a> dest, int log_level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aa33a9ebfbc135db71eebbee2297bd6b3">zlog_set_file</a> (struct <a class="el" href="structzlog.html">zlog</a> *zl, const char *filename, int log_level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ac8de64ccb9c0c7785d895a7f8907f18e">zlog_reset_file</a> (struct <a class="el" href="structzlog.html">zlog</a> *zl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aa854a1d910778b80a95f6b711025faa5">zlog_rotate</a> (struct <a class="el" href="structzlog.html">zlog</a> *zl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a167ff2c0459de0db557c14c2171c9c76">lookup</a> (const struct <a class="el" href="structmessage.html">message</a> *mes, int <a class="el" href="structkey.html">key</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a484bc45abf0c12f3a4c356d331a792fc">mes_lookup</a> (const struct <a class="el" href="structmessage.html">message</a> *meslist, int max, int index, const char *none)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a> (int errnum)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structzebra__desc__table.html">zebra_desc_table</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a1b9acefae425e0f493211b22c66c4dd2">zroute_lookup</a> (u_int zroute)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ae87aa85b5b05b120d376956ce5d13444">zebra_route_string</a> (u_int zroute)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a615f2a96489398a58c693eb46d3aa184">zebra_route_char</a> (u_int zroute)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aefa57637f4459f32822cd5eac929f039">zserv_command_string</a> (unsigned int command)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a7353ebc994f47abdc4245bb4f6e46fea">proto_name2num</a> (const char *<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = -1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a104618d1dc8bb7b6b5c36f8969f2a49e">zlog_proto_names</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#ad3349b0c67f3067aeb5d83ef5c92b473">zlog_priority</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structzebra__desc__table.html">zebra_desc_table</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structzebra__desc__table.html">zebra_desc_table</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#aadfba28e7b2451d6a86e173e738bdc51">command_types</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structzebra__desc__table.html">zebra_desc_table</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8c.html#a788b2612999346d713a3fc7b8b2a3038">unknown</a> = { 0, &quot;unknown&quot;, '?' }</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a2a00b2d09c12519792fdbd61fb7ecd97"></a><!-- doxytag: member="log.c::CRASHLOG_PREFIX" ref="a2a00b2d09c12519792fdbd61fb7ecd97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRASHLOG_PREFIX&#160;&#160;&#160;&quot;/var/tmp/quagga.&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a69fed7027b716a1b9ebcf865ec2e6851"></a><!-- doxytag: member="log.c::CRASHLOG_SUFFIX" ref="a69fed7027b716a1b9ebcf865ec2e6851" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRASHLOG_SUFFIX&#160;&#160;&#160;&quot;crashlog&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa355f169a6a781ae92eef3ab19c8fd65"></a><!-- doxytag: member="log.c::DESC_ENTRY" ref="aa355f169a6a781ae92eef3ab19c8fd65" args="(T, S, C)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DESC_ENTRY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">S, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">C&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;[(<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>)] = { (<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>), (S), (C) }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00841">841</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="aced7b84223ab1ebd657f0864aba6b371"></a><!-- doxytag: member="log.c::DESC_ENTRY" ref="aced7b84223ab1ebd657f0864aba6b371" args="(T)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DESC_ENTRY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a></td><td>)</td>
          <td>&#160;&#160;&#160;[(<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>)] = { (<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>), (#<a class="el" href="md5_8c.html#a7e83ec4daea14d9c3040af4e0ac30792">T</a>), '\0' }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00841">841</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="afd1a507af116f890f28297c0a5ed9e86"></a><!-- doxytag: member="log.c::DUMP" ref="afd1a507af116f890f28297c0a5ed9e86" args="(FD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DUMP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FD</td><td>)</td>
          <td>&#160;&#160;&#160;write(FD, buf, <a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>-buf);</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0fee446a4a4ef6536664bc1ff47ff694"></a><!-- doxytag: member="log.c::LOC" ref="a0fee446a4a4ef6536664bc1ff47ff694" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOC&#160;&#160;&#160;<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>,buf+sizeof(buf)-<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0fee446a4a4ef6536664bc1ff47ff694"></a><!-- doxytag: member="log.c::LOC" ref="a0fee446a4a4ef6536664bc1ff47ff694" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOC&#160;&#160;&#160;<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>,buf+sizeof(buf)-<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0fee446a4a4ef6536664bc1ff47ff694"></a><!-- doxytag: member="log.c::LOC" ref="a0fee446a4a4ef6536664bc1ff47ff694" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOC&#160;&#160;&#160;<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>,buf+sizeof(buf)-<a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a83e15b1ff37c036aa534ac1d135df988"></a><!-- doxytag: member="log.c::PLOG_FUNC" ref="a83e15b1ff37c036aa534ac1d135df988" args="(FUNCNAME, PRIORITY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLOG_FUNC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FUNCNAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PRIORITY&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">void \
FUNCNAME(<span class="keyword">struct</span> <a class="code" href="structzlog.html">zlog</a> *zl, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) \
{ \
  va_list <a class="code" href="spgrid_8c.html#a2c8d3fa6d7117d15dd5c2871ac548ec4">args</a>; \
  va_start(args, format); \
  vzlog (zl, <a class="code" href="ospf__interface_8h.html#accb5457e43688e067b0b9844b08ae520">PRIORITY</a>, format, args); \
  va_end(args); \
}
</pre></div>
<p>Definition at line <a class="el" href="log_8c_source.html#l00584">584</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac21c270bfe049dfdd259c110b2793d32"></a><!-- doxytag: member="log.c::PRI" ref="ac21c270bfe049dfdd259c110b2793d32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRI&#160;&#160;&#160;LOG_CRIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae656eed357dbab332c9579685e8be446"></a><!-- doxytag: member="log.c::RTSIZE" ref="ae656eed357dbab332c9579685e8be446" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTSIZE&#160;&#160;&#160;(sizeof(<a class="el" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>)/sizeof(<a class="el" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[0]))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00918">918</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="a16f89e1217106cdaf03d67a41645c081"></a><!-- doxytag: member="log.c::SYSLOG_SOCKET_PATH" ref="a16f89e1217106cdaf03d67a41645c081" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYSLOG_SOCKET_PATH&#160;&#160;&#160;&quot;/dev/log&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afdbf30c4542bc30c76a5dba6269e9f09"></a><!-- doxytag: member="log.c::ZLOG_FUNC" ref="afdbf30c4542bc30c76a5dba6269e9f09" args="(FUNCNAME, PRIORITY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZLOG_FUNC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FUNCNAME, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PRIORITY&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">void \
FUNCNAME(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) \
{ \
  va_list <a class="code" href="spgrid_8c.html#a2c8d3fa6d7117d15dd5c2871ac548ec4">args</a>; \
  va_start(args, format); \
  vzlog (<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="ospf__interface_8h.html#accb5457e43688e067b0b9844b08ae520">PRIORITY</a>, format, args); \
  va_end(args); \
}
</pre></div>
<p>Definition at line <a class="el" href="log_8c_source.html#l00562">562</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac023d06de0fea9da9c539f1c93013c45"></a><!-- doxytag: member="log.c::_zlog_assert_failed" ref="ac023d06de0fea9da9c539f1c93013c45" args="(const char *assertion, const char *file, unsigned int line, const char *function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _zlog_assert_failed </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>assertion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00607">607</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="comment">/* Force fallback file logging? */</span>
  <span class="keywordflow">if</span> (<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a> &amp;&amp; !<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a> &amp;&amp;
      ((<a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = <a class="code" href="log_8c.html#ae757d8997fecba3ff8772d26fd323792">open_crashlog</a>()) &gt;= 0) &amp;&amp;
      ((<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a> = fdopen(<a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a>, <span class="stringliteral">&quot;w&quot;</span>)) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))
    <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa36c69acd7ce2fd26be0604db878a17c9">ZLOG_DEST_FILE</a>] = LOG_ERR;
  <a class="code" href="log_8c.html#a34f80af784b8ec394e7a7154a7ec7364">zlog</a>(<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, LOG_CRIT, <span class="stringliteral">&quot;Assertion `%s&#39; failed in file %s, line %u, function %s&quot;</span>,
       assertion,<a class="code" href="command_8c.html#a26a9ef9f1cd2906dfd6438f0141f1f9a">file</a>,line,(<span class="keyword">function</span> ? <span class="keyword">function</span> : <span class="stringliteral">&quot;?&quot;</span>));
  <a class="code" href="log_8c.html#a007e475475f7a96147bbb4315b58bb2e">zlog_backtrace</a>(LOG_CRIT);
  abort();
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa896f30e9b15a99877e4d9b98fe92b49"></a><!-- doxytag: member="log.c::closezlog" ref="aa896f30e9b15a99877e4d9b98fe92b49" args="(struct zlog *zl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void closezlog </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td>
          <td class="paramname"><em>zl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00649">649</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  closelog();

  <span class="keywordflow">if</span> (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a> != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    fclose (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>);

  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167baadacccb6d56b0f70c36004bb2f499c54">MTYPE_ZLOG</a>, zl);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a167ff2c0459de0db557c14c2171c9c76"></a><!-- doxytag: member="log.c::lookup" ref="a167ff2c0459de0db557c14c2171c9c76" args="(const struct message *mes, int key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmessage.html">message</a> *&#160;</td>
          <td class="paramname"><em>mes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00758">758</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structmessage.html">message</a> *pnt;

  <span class="keywordflow">for</span> (pnt = mes; pnt-&gt;<a class="code" href="structmessage.html#afa781a4221d69515e57c78628e0ed8e3">key</a> != 0; pnt++) 
    <span class="keywordflow">if</span> (pnt-&gt;<a class="code" href="structmessage.html#afa781a4221d69515e57c78628e0ed8e3">key</a> == <a class="code" href="structkey.html">key</a>) 
      <span class="keywordflow">return</span> pnt-&gt;<a class="code" href="structmessage.html#afd25323d5a42a5d73ebb8c85c5f7bd6f">str</a>;

  <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a484bc45abf0c12f3a4c356d331a792fc"></a><!-- doxytag: member="log.c::mes_lookup" ref="a484bc45abf0c12f3a4c356d331a792fc" args="(const struct message *meslist, int max, int index, const char *none)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* mes_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structmessage.html">message</a> *&#160;</td>
          <td class="paramname"><em>meslist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>none</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00776">776</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> pos = index - meslist[0].<a class="code" href="structmessage.html#afa781a4221d69515e57c78628e0ed8e3">key</a>;
  
  <span class="comment">/* first check for best case: index is in range and matches the key</span>
<span class="comment">   * value in that slot.</span>
<span class="comment">   * NB: key numbering might be offset from 0. E.g. protocol constants</span>
<span class="comment">   * often start at 1.</span>
<span class="comment">   */</span>
  <span class="keywordflow">if</span> ((pos &gt;= 0) &amp;&amp; (pos &lt; max)
      &amp;&amp; (meslist[pos].<a class="code" href="structkey.html">key</a> == index))
    <span class="keywordflow">return</span> meslist[pos].<a class="code" href="structmessage.html#afd25323d5a42a5d73ebb8c85c5f7bd6f">str</a>;

  <span class="comment">/* fall back to linear search */</span>
  {
    <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;

    <span class="keywordflow">for</span> (i = 0; i &lt; max; i++, meslist++)
      {
    <span class="keywordflow">if</span> (meslist-&gt;<a class="code" href="structmessage.html#afa781a4221d69515e57c78628e0ed8e3">key</a> == index)
      {
        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = (meslist-&gt;<a class="code" href="structmessage.html#afd25323d5a42a5d73ebb8c85c5f7bd6f">str</a> ? meslist-&gt;<a class="code" href="structmessage.html#afd25323d5a42a5d73ebb8c85c5f7bd6f">str</a> : none);
        
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;message index %d [%s] found in position %d (max is %d)&quot;</span>,
              index, str, i, max);
        <span class="keywordflow">return</span> <a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;
      }
      }
  }
  <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a>(<span class="stringliteral">&quot;message index %d not found (max is %d)&quot;</span>, index, max);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (none);
  <span class="keywordflow">return</span> none;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a80ef76ace680efc94420e6b41b8b87a9"></a><!-- doxytag: member="log.c::num_append" ref="a80ef76ace680efc94420e6b41b8b87a9" args="(char *s, int len, u_long x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* num_append </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_long&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00228">228</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> buf[30];
  <span class="keywordtype">char</span> *<a class="code" href="test-sig_8c.html#ab4ed0bba3292270af8ad67b45a21280d">t</a>;

  <span class="keywordflow">if</span> (!<a class="code" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>)
    <span class="keywordflow">return</span> <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>,len,<span class="stringliteral">&quot;0&quot;</span>);
  *(t = &amp;buf[<span class="keyword">sizeof</span>(buf)-1]) = <span class="charliteral">&#39;\0&#39;</span>;
  <span class="keywordflow">while</span> (<a class="code" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> &amp;&amp; (t &gt; buf))
    {
      *--t = <span class="charliteral">&#39;0&#39;</span>+(<a class="code" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> % 10);
      <a class="code" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a> /= 10;
    }
  <span class="keywordflow">return</span> <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>,len,t);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae757d8997fecba3ff8772d26fd323792"></a><!-- doxytag: member="log.c::open_crashlog" ref="ae757d8997fecba3ff8772d26fd323792" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int open_crashlog </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00325">325</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#define CRASHLOG_PREFIX &quot;/var/tmp/quagga.&quot;</span>
<span class="preprocessor"></span><span class="preprocessor">#define CRASHLOG_SUFFIX &quot;crashlog&quot;</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a> &amp;&amp; <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#af1397d3fd2adbb85ebf9b6e16ed4d95b">ident</a>)
    {
      <span class="comment">/* Avoid strlen since it is not async-signal-safe. */</span>
      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;
      <span class="keywordtype">size_t</span> ilen;

      <span class="keywordflow">for</span> (p = <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#af1397d3fd2adbb85ebf9b6e16ed4d95b">ident</a>, ilen = 0; *p; p++)
    ilen++;
      {
    <span class="keywordtype">char</span> buf[<span class="keyword">sizeof</span>(<a class="code" href="log_8c.html#a2a00b2d09c12519792fdbd61fb7ecd97">CRASHLOG_PREFIX</a>)+ilen+<span class="keyword">sizeof</span>(CRASHLOG_SUFFIX)+3];
    <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a> = buf;
<span class="preprocessor">#define LOC s,buf+sizeof(buf)-s</span>
<span class="preprocessor"></span>    s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC, CRASHLOG_PREFIX);
    s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC, <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#af1397d3fd2adbb85ebf9b6e16ed4d95b">ident</a>);
    s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC, <span class="stringliteral">&quot;.&quot;</span>);
    s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC, CRASHLOG_SUFFIX);
<span class="preprocessor">#undef LOC</span>
<span class="preprocessor"></span>    *s = <span class="charliteral">&#39;\0&#39;</span>;
    <span class="keywordflow">return</span> open(buf, O_WRONLY|O_CREAT|O_EXCL, LOGFILE_MASK);
      }
    }
  <span class="keywordflow">return</span> open(CRASHLOG_PREFIX CRASHLOG_SUFFIX, O_WRONLY|O_CREAT|O_EXCL,
          LOGFILE_MASK);
<span class="preprocessor">#undef CRASHLOG_SUFFIX</span>
<span class="preprocessor"></span><span class="preprocessor">#undef CRASHLOG_PREFIX</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a0e29a4e0e59d1fdbff2aab49e067b501"></a><!-- doxytag: member="log.c::openzlog" ref="a0e29a4e0e59d1fdbff2aab49e067b501" args="(const char *progname, zlog_proto_t protocol, int syslog_flags, int syslog_facility)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structzlog.html">zlog</a>* openzlog </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>progname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log_8h.html#a7191b9759b28b288102a2c6dd41e20a3">zlog_proto_t</a>&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syslog_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syslog_facility</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00624">624</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structzlog.html">zlog</a> *zl;
  u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;

  zl = <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a>(<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167baadacccb6d56b0f70c36004bb2f499c54">MTYPE_ZLOG</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structzlog.html">zlog</a>));

  zl-&gt;<a class="code" href="structzlog.html#af1397d3fd2adbb85ebf9b6e16ed4d95b">ident</a> = <a class="code" href="isis__main_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>;
  zl-&gt;<a class="code" href="structzlog.html#acafcb64affec5374e8e4d61fded92812">protocol</a> = <a class="code" href="structzlog.html#acafcb64affec5374e8e4d61fded92812">protocol</a>;
  zl-&gt;<a class="code" href="structzlog.html#a3cd253b1e67519d82ef1564156271c6e">facility</a> = syslog_facility;
  zl-&gt;<a class="code" href="structzlog.html#a955f566e2b7b08c5ec2f2952c14f32eb">syslog_options</a> = syslog_flags;

  <span class="comment">/* Set default logging levels. */</span>
  <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>)/<span class="keyword">sizeof</span>(zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[0]); i++)
    zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[i] = <a class="code" href="log_8h.html#a4881df705c4665936da19cea6623685e">ZLOG_DISABLED</a>;
  zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afad7c519b6be9a085d26f764f00a6e3c72">ZLOG_DEST_MONITOR</a>] = LOG_DEBUG;
  zl-&gt;<a class="code" href="structzlog.html#a009207d014b1da839bc8bec7d679b0ad">default_lvl</a> = LOG_DEBUG;

  openlog (<a class="code" href="isis__main_8c.html#ab9e1449fd00c98428516f0b41eddcb10">progname</a>, syslog_flags, zl-&gt;<a class="code" href="structzlog.html#a3cd253b1e67519d82ef1564156271c6e">facility</a>);
  
  <span class="keywordflow">return</span> zl;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7353ebc994f47abdc4245bb4f6e46fea"></a><!-- doxytag: member="log.c::proto_name2num" ref="a7353ebc994f47abdc4245bb4f6e46fea" args="(const char *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int proto_name2num </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00921">921</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
   <span class="keywordtype">unsigned</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;

   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="log_8c.html#ae656eed357dbab332c9579685e8be446">RTSIZE</a>; ++<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>)
     <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>, <a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[i].<span class="keywordtype">string</span>) == 0)
       <span class="keywordflow">return</span> <a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>].<a class="code" href="structzebra__desc__table.html#a5b1e839bcd20e760ff4c08cad8bb7862">type</a>;
   <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa70601e0152987332545566abf72b090"></a><!-- doxytag: member="log.c::quagga_timestamp" ref="aa70601e0152987332545566abf72b090" args="(int timestamp_precision, char *buf, size_t buflen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t quagga_timestamp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timestamp_precision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00075">75</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> <span class="keyword">struct </span>{
    time_t last;
    <span class="keywordtype">size_t</span> len;
    <span class="keywordtype">char</span> buf[28];
  } cache;
  <span class="keyword">struct </span>timeval clock;

  <span class="comment">/* would it be sufficient to use global &#39;recent_time&#39; here?  I fear not... */</span>
  gettimeofday(&amp;clock, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);

  <span class="comment">/* first, we update the cache if the time has changed */</span>
  <span class="keywordflow">if</span> (cache.last != clock.tv_sec)
    {
      <span class="keyword">struct </span>tm *tm;
      cache.last = clock.tv_sec;
      tm = localtime(&amp;cache.last);
      cache.len = strftime(cache.buf, <span class="keyword">sizeof</span>(cache.buf),
                   <span class="stringliteral">&quot;%Y/%m/%d %H:%M:%S&quot;</span>, tm);
    }
  <span class="comment">/* note: it&#39;s not worth caching the subsecond part, because</span>
<span class="comment">     chances are that back-to-back calls are not sufficiently close together</span>
<span class="comment">     for the clock not to have ticked forward */</span>

  <span class="keywordflow">if</span> (buflen &gt; cache.len)
    {
      <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a>(buf, cache.buf, cache.len);
      <span class="keywordflow">if</span> ((timestamp_precision &gt; 0) &amp;&amp;
      (buflen &gt; cache.len+1+timestamp_precision))
    {
      <span class="comment">/* should we worry about locale issues? */</span>
      <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> divisor[] = {0, 100000, 10000, 1000, 100, 10, 1};
      <span class="keywordtype">int</span> prec;
      <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a> = buf+cache.len+1+(prec = timestamp_precision);
      *p-- = <span class="charliteral">&#39;\0&#39;</span>;
      <span class="keywordflow">while</span> (prec &gt; 6)
        <span class="comment">/* this is unlikely to happen, but protect anyway */</span>
        {
          *p-- = <span class="charliteral">&#39;0&#39;</span>;
          prec--;
        }
      clock.tv_usec /= divisor[prec];
      <span class="keywordflow">do</span>
        {
          *p-- = <span class="charliteral">&#39;0&#39;</span>+(clock.tv_usec % 10);
          clock.tv_usec /= 10;
        }
      <span class="keywordflow">while</span> (--prec &gt; 0);
      *p = <span class="charliteral">&#39;.&#39;</span>;
      <span class="keywordflow">return</span> cache.len+1+timestamp_precision;
    }
      buf[cache.len] = <span class="charliteral">&#39;\0&#39;</span>;
      <span class="keywordflow">return</span> cache.len;
    }
  <span class="keywordflow">if</span> (buflen &gt; 0)
    buf[0] = <span class="charliteral">&#39;\0&#39;</span>;
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5292a9aa20fcddbb3998241685e18279"></a><!-- doxytag: member="log.c::safe_strerror" ref="a5292a9aa20fcddbb3998241685e18279" args="(int errnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* safe_strerror </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errnum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00812">812</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a> = strerror(errnum);
  <span class="keywordflow">return</span> (s != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) ? s : <span class="stringliteral">&quot;Unknown error&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a221cb302510814b906897944d346cbc3"></a><!-- doxytag: member="log.c::str_append" ref="a221cb302510814b906897944d346cbc3" args="(char *dst, int len, const char *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* str_append </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00220">220</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">while</span> ((len-- &gt; 0) &amp;&amp; *src)
    *dst++ = *src++;
  <span class="keywordflow">return</span> dst;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab2e057d52611ed04233ea01c68e871a5"></a><!-- doxytag: member="log.c::syslog_connect" ref="ab2e057d52611ed04233ea01c68e871a5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int syslog_connect </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00266">266</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifdef SUNOS_5</span>
<span class="preprocessor"></span>  <span class="keywordflow">return</span> -1;
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>  <span class="keywordtype">int</span> fd;
  <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>;
  <span class="keyword">struct </span>sockaddr_un addr;

  <span class="keywordflow">if</span> ((fd = socket(AF_UNIX,SOCK_DGRAM,0)) &lt; 0)
    <span class="keywordflow">return</span> -1;
  addr.sun_family = AF_UNIX;
<span class="preprocessor">#ifdef _PATH_LOG</span>
<span class="preprocessor"></span><span class="preprocessor">#define SYSLOG_SOCKET_PATH _PATH_LOG</span>
<span class="preprocessor"></span><span class="preprocessor">#else</span>
<span class="preprocessor"></span><span class="preprocessor">#define SYSLOG_SOCKET_PATH &quot;/dev/log&quot;</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(addr.sun_path,<span class="keyword">sizeof</span>(addr.sun_path),SYSLOG_SOCKET_PATH);
<span class="preprocessor">#undef SYSLOG_SOCKET_PATH</span>
<span class="preprocessor"></span>  *s = <span class="charliteral">&#39;\0&#39;</span>;
  <span class="keywordflow">if</span> (connect(fd,(<span class="keyword">struct</span> sockaddr *)&amp;addr,<span class="keyword">sizeof</span>(addr)) &lt; 0)
    {
      close(fd);
      <span class="keywordflow">return</span> -1;
    }
  <span class="keywordflow">return</span> fd;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a8c4d4637d2c9e63aedb25da9000530de"></a><!-- doxytag: member="log.c::syslog_sigsafe" ref="a8c4d4637d2c9e63aedb25da9000530de" args="(int priority, const char *msg, size_t msglen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void syslog_sigsafe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msglen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00296">296</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> <span class="keywordtype">int</span> syslog_fd = -1;
  <span class="keywordtype">char</span> buf[<span class="keyword">sizeof</span>(<span class="stringliteral">&quot;&lt;1234567890&gt;ripngd[1234567890]: &quot;</span>)+msglen+50];
  <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>;

  <span class="keywordflow">if</span> ((syslog_fd &lt; 0) &amp;&amp; ((syslog_fd = <a class="code" href="log_8c.html#ab2e057d52611ed04233ea01c68e871a5">syslog_connect</a>()) &lt; 0))
    <span class="keywordflow">return</span>;

<span class="preprocessor">#define LOC s,buf+sizeof(buf)-s</span>
<span class="preprocessor"></span>  s = buf;
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;&lt;&quot;</span>);
  s = <a class="code" href="log_8c.html#a80ef76ace680efc94420e6b41b8b87a9">num_append</a>(LOC,priority);
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;&gt;&quot;</span>);
  <span class="comment">/* forget about the timestamp, too difficult in a signal handler */</span>
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#af1397d3fd2adbb85ebf9b6e16ed4d95b">ident</a>);
  <span class="keywordflow">if</span> (<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#a955f566e2b7b08c5ec2f2952c14f32eb">syslog_options</a> &amp; LOG_PID)
    {
      s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;[&quot;</span>);
      s = <a class="code" href="log_8c.html#a80ef76ace680efc94420e6b41b8b87a9">num_append</a>(LOC,getpid());
      s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;]&quot;</span>);
    }
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;: &quot;</span>);
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<a class="code" href="structmsg.html">msg</a>);
  write(syslog_fd,buf,s-buf);
<span class="preprocessor">#undef LOC</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a339ab8c8c5a7ca6d21e344fd3b6b4916"></a><!-- doxytag: member="log.c::time_print" ref="a339ab8c8c5a7ca6d21e344fd3b6b4916" args="(FILE *fp, struct timestamp_control *ctl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void time_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtimestamp__control.html">timestamp_control</a> *&#160;</td>
          <td class="paramname"><em>ctl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00137">137</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (!ctl-&gt;<a class="code" href="structtimestamp__control.html#a1691f5b39846bf86d4b5f36fdfdf935e">already_rendered</a>)
    {
      ctl-&gt;<a class="code" href="structtimestamp__control.html#a6b830b1c0ee6418d148039bfc1ddc8bc">len</a> = <a class="code" href="log_8c.html#aa70601e0152987332545566abf72b090">quagga_timestamp</a>(ctl-&gt;<a class="code" href="structtimestamp__control.html#a58aa149c5e76ec58ce892de831fd95e9">precision</a>, ctl-&gt;<a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>, <span class="keyword">sizeof</span>(ctl-&gt;<a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>));
      ctl-&gt;<a class="code" href="structtimestamp__control.html#a1691f5b39846bf86d4b5f36fdfdf935e">already_rendered</a> = 1;
    }
  fprintf(fp, <span class="stringliteral">&quot;%s &quot;</span>, ctl-&gt;<a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aae5bf6763e3e56f4118957374d4f1208"></a><!-- doxytag: member="log.c::vzlog" ref="aae5bf6763e3e56f4118957374d4f1208" args="(struct zlog *zl, int priority, const char *format, va_list args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vzlog </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td>
          <td class="paramname"><em>zl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00150">150</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structtimestamp__control.html">timestamp_control</a> tsctl;
  tsctl.<a class="code" href="structtimestamp__control.html#a1691f5b39846bf86d4b5f36fdfdf935e">already_rendered</a> = 0;

  <span class="comment">/* If zlog is not specified, use default one. */</span>
  <span class="keywordflow">if</span> (zl == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    zl = <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>;

  <span class="comment">/* When zlog_default is also NULL, use stderr for logging. */</span>
  <span class="keywordflow">if</span> (zl == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      tsctl.precision = 0;
      <a class="code" href="log_8c.html#a339ab8c8c5a7ca6d21e344fd3b6b4916">time_print</a>(stderr, &amp;tsctl);
      fprintf (stderr, <span class="stringliteral">&quot;%s: &quot;</span>, <span class="stringliteral">&quot;unknown&quot;</span>);
      vfprintf (stderr, format, <a class="code" href="spgrid_8c.html#a2c8d3fa6d7117d15dd5c2871ac548ec4">args</a>);
      fprintf (stderr, <span class="stringliteral">&quot;\n&quot;</span>);
      fflush (stderr);

      <span class="comment">/* In this case we return at here. */</span>
      <span class="keywordflow">return</span>;
    }
  tsctl.precision = zl-&gt;<a class="code" href="structzlog.html#ae5eac9e70c5a60649771b68fcf3d9831">timestamp_precision</a>;

  <span class="comment">/* Syslog output */</span>
  <span class="keywordflow">if</span> (priority &lt;= zl-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa0b23cfb9b02e22f2606823361d397ef4">ZLOG_DEST_SYSLOG</a>])
    {
      va_list ac;
      <a class="code" href="zebra_8h.html#a3a33fef6728dc26a7e3fd47ad35ad3ae">va_copy</a>(ac, <a class="code" href="spgrid_8c.html#a2c8d3fa6d7117d15dd5c2871ac548ec4">args</a>);
      vsyslog (priority|<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#a3cd253b1e67519d82ef1564156271c6e">facility</a>, format, ac);
      va_end(ac);
    }

  <span class="comment">/* File output. */</span>
  <span class="keywordflow">if</span> ((priority &lt;= zl-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa36c69acd7ce2fd26be0604db878a17c9">ZLOG_DEST_FILE</a>]) &amp;&amp; zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>)
    {
      va_list ac;
      <a class="code" href="log_8c.html#a339ab8c8c5a7ca6d21e344fd3b6b4916">time_print</a> (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>, &amp;tsctl);
      <span class="keywordflow">if</span> (zl-&gt;<a class="code" href="structzlog.html#a9928a1757d99c07128ffd7f2f44cfe58">record_priority</a>)
    fprintf (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>, <span class="stringliteral">&quot;%s: &quot;</span>, <a class="code" href="log_8c.html#ad3349b0c67f3067aeb5d83ef5c92b473">zlog_priority</a>[priority]);
      fprintf (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>, <span class="stringliteral">&quot;%s: &quot;</span>, <a class="code" href="log_8c.html#a104618d1dc8bb7b6b5c36f8969f2a49e">zlog_proto_names</a>[zl-&gt;<a class="code" href="structzlog.html#acafcb64affec5374e8e4d61fded92812">protocol</a>]);
      <a class="code" href="zebra_8h.html#a3a33fef6728dc26a7e3fd47ad35ad3ae">va_copy</a>(ac, <a class="code" href="spgrid_8c.html#a2c8d3fa6d7117d15dd5c2871ac548ec4">args</a>);
      vfprintf (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>, format, ac);
      va_end(ac);
      fprintf (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>, <span class="stringliteral">&quot;\n&quot;</span>);
      fflush (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>);
    }

  <span class="comment">/* stdout output. */</span>
  <span class="keywordflow">if</span> (priority &lt;= zl-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa1883db184dab41d65e03180c1fbed617">ZLOG_DEST_STDOUT</a>])
    {
      va_list ac;
      <a class="code" href="log_8c.html#a339ab8c8c5a7ca6d21e344fd3b6b4916">time_print</a> (stdout, &amp;tsctl);
      <span class="keywordflow">if</span> (zl-&gt;<a class="code" href="structzlog.html#a9928a1757d99c07128ffd7f2f44cfe58">record_priority</a>)
    fprintf (stdout, <span class="stringliteral">&quot;%s: &quot;</span>, <a class="code" href="log_8c.html#ad3349b0c67f3067aeb5d83ef5c92b473">zlog_priority</a>[priority]);
      fprintf (stdout, <span class="stringliteral">&quot;%s: &quot;</span>, <a class="code" href="log_8c.html#a104618d1dc8bb7b6b5c36f8969f2a49e">zlog_proto_names</a>[zl-&gt;<a class="code" href="structzlog.html#acafcb64affec5374e8e4d61fded92812">protocol</a>]);
      <a class="code" href="zebra_8h.html#a3a33fef6728dc26a7e3fd47ad35ad3ae">va_copy</a>(ac, <a class="code" href="spgrid_8c.html#a2c8d3fa6d7117d15dd5c2871ac548ec4">args</a>);
      vfprintf (stdout, format, ac);
      va_end(ac);
      fprintf (stdout, <span class="stringliteral">&quot;\n&quot;</span>);
      fflush (stdout);
    }

  <span class="comment">/* Terminal monitor. */</span>
  <span class="keywordflow">if</span> (priority &lt;= zl-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afad7c519b6be9a085d26f764f00a6e3c72">ZLOG_DEST_MONITOR</a>])
    <a class="code" href="vty_8c.html#adc0f09a34324734b4f87905ae873cc55">vty_log</a> ((zl-&gt;<a class="code" href="structzlog.html#a9928a1757d99c07128ffd7f2f44cfe58">record_priority</a> ? <a class="code" href="log_8c.html#ad3349b0c67f3067aeb5d83ef5c92b473">zlog_priority</a>[priority] : <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),
         <a class="code" href="log_8c.html#a104618d1dc8bb7b6b5c36f8969f2a49e">zlog_proto_names</a>[zl-&gt;<a class="code" href="structzlog.html#acafcb64affec5374e8e4d61fded92812">protocol</a>], format, &amp;tsctl, <a class="code" href="spgrid_8c.html#a2c8d3fa6d7117d15dd5c2871ac548ec4">args</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a615f2a96489398a58c693eb46d3aa184"></a><!-- doxytag: member="log.c::zebra_route_char" ref="a615f2a96489398a58c693eb46d3aa184" args="(u_int zroute)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char zebra_route_char </td>
          <td>(</td>
          <td class="paramtype">u_int&#160;</td>
          <td class="paramname"><em>zroute</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00902">902</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="log_8c.html#a1b9acefae425e0f493211b22c66c4dd2">zroute_lookup</a>(zroute)-&gt;<a class="code" href="structzebra__desc__table.html#a0d45f07c57427d4c58cfead49d757e5e">chr</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae87aa85b5b05b120d376956ce5d13444"></a><!-- doxytag: member="log.c::zebra_route_string" ref="ae87aa85b5b05b120d376956ce5d13444" args="(u_int zroute)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* zebra_route_string </td>
          <td>(</td>
          <td class="paramtype">u_int&#160;</td>
          <td class="paramname"><em>zroute</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00896">896</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="log_8c.html#a1b9acefae425e0f493211b22c66c4dd2">zroute_lookup</a>(zroute)-&gt;<a class="code" href="structzebra__desc__table.html#a602efce5e9657bdb957ca79c2bfced25">string</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a34f80af784b8ec394e7a7154a7ec7364"></a><!-- doxytag: member="log.c::zlog" ref="a34f80af784b8ec394e7a7154a7ec7364" args="(struct zlog *zl, int priority, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structzlog.html">zlog</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td>
          <td class="paramname"><em>zl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00553">553</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  va_list <a class="code" href="spgrid_8c.html#a2c8d3fa6d7117d15dd5c2871ac548ec4">args</a>;

  va_start(args, format);
  <a class="code" href="log_8c.html#aae5bf6763e3e56f4118957374d4f1208">vzlog</a> (zl, priority, format, args);
  va_end (args);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a007e475475f7a96147bbb4315b58bb2e"></a><!-- doxytag: member="log.c::zlog_backtrace" ref="a007e475475f7a96147bbb4315b58bb2e" args="(int priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zlog_backtrace </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00519">519</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifndef HAVE_GLIBC_BACKTRACE</span>
<span class="preprocessor"></span>  <a class="code" href="log_8c.html#a34f80af784b8ec394e7a7154a7ec7364">zlog</a>(<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, priority, <span class="stringliteral">&quot;No backtrace available on this platform.&quot;</span>);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>  <span class="keywordtype">void</span> *array[20];
  <span class="keywordtype">int</span> size, <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keywordtype">char</span> **strings;

  <span class="keywordflow">if</span> (((size = backtrace(array,<span class="keyword">sizeof</span>(array)/<span class="keyword">sizeof</span>(array[0]))) &lt;= 0) ||
      ((<span class="keywordtype">size_t</span>)size &gt; <span class="keyword">sizeof</span>(array)/<span class="keyword">sizeof</span>(array[0])))
    {
      <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a>(<span class="stringliteral">&quot;Cannot get backtrace, returned invalid # of frames %d &quot;</span>
           <span class="stringliteral">&quot;(valid range is between 1 and %lu)&quot;</span>,
           size, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(<span class="keyword">sizeof</span>(array)/<span class="keyword">sizeof</span>(array[0])));
      <span class="keywordflow">return</span>;
    }
  <a class="code" href="log_8c.html#a34f80af784b8ec394e7a7154a7ec7364">zlog</a>(<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, priority, <span class="stringliteral">&quot;Backtrace for %d stack frames:&quot;</span>, size);
  <span class="keywordflow">if</span> (!(strings = backtrace_symbols(array, size)))
    {
      <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a>(<span class="stringliteral">&quot;Cannot get backtrace symbols (out of memory?)&quot;</span>);
      <span class="keywordflow">for</span> (i = 0; i &lt; size; i++)
    <a class="code" href="log_8c.html#a34f80af784b8ec394e7a7154a7ec7364">zlog</a>(<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, priority, <span class="stringliteral">&quot;[bt %d] %p&quot;</span>,i,array[i]);
    }
  <span class="keywordflow">else</span>
    {
      <span class="keywordflow">for</span> (i = 0; i &lt; size; i++)
    <a class="code" href="log_8c.html#a34f80af784b8ec394e7a7154a7ec7364">zlog</a>(<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, priority, <span class="stringliteral">&quot;[bt %d] %s&quot;</span>,i,strings[i]);
      free(strings);
    }
<span class="preprocessor">#endif </span><span class="comment">/* HAVE_GLIBC_BACKTRACE */</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6db992283a1d1e643121c8bde222e525"></a><!-- doxytag: member="log.c::zlog_backtrace_sigsafe" ref="a6db992283a1d1e643121c8bde222e525" args="(int priority, void *program_counter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zlog_backtrace_sigsafe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>program_counter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00434">434</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifdef HAVE_STACK_TRACE</span>
<span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> pclabel[] = <span class="stringliteral">&quot;Program counter: &quot;</span>;
  <span class="keywordtype">void</span> *array[64];
  <span class="keywordtype">int</span> size;
  <span class="keywordtype">char</span> <a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>[100];
  <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>, **bt = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<span class="preprocessor">#define LOC s,buf+sizeof(buf)-s</span>
<span class="preprocessor"></span>
<span class="preprocessor">#ifdef HAVE_GLIBC_BACKTRACE</span>
<span class="preprocessor"></span>  <span class="keywordflow">if</span> (((size = backtrace(array,<span class="keyword">sizeof</span>(array)/<span class="keyword">sizeof</span>(array[0]))) &lt;= 0) ||
      ((<span class="keywordtype">size_t</span>)size &gt; <span class="keyword">sizeof</span>(array)/<span class="keyword">sizeof</span>(array[0])))
    <span class="keywordflow">return</span>;

<span class="preprocessor">#define DUMP(FD) { \</span>
<span class="preprocessor">  if (program_counter) \</span>
<span class="preprocessor">    { \</span>
<span class="preprocessor">      write(FD, pclabel, sizeof(pclabel)-1); \</span>
<span class="preprocessor">      backtrace_symbols_fd(&amp;program_counter, 1, FD); \</span>
<span class="preprocessor">    } \</span>
<span class="preprocessor">  write(FD, buf, s-buf);    \</span>
<span class="preprocessor">  backtrace_symbols_fd(array, size, FD); \</span>
<span class="preprocessor">}</span>
<span class="preprocessor"></span><span class="preprocessor">#elif defined(HAVE_PRINTSTACK)</span>
<span class="preprocessor"></span><span class="preprocessor">#define DUMP(FD) { \</span>
<span class="preprocessor">  if (program_counter) \</span>
<span class="preprocessor">    write((FD), pclabel, sizeof(pclabel)-1); \</span>
<span class="preprocessor">  write((FD), buf, s-buf); \</span>
<span class="preprocessor">  printstack((FD)); \</span>
<span class="preprocessor">}</span>
<span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* HAVE_GLIBC_BACKTRACE, HAVE_PRINTSTACK */</span>

  s = <a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>;
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;Backtrace for &quot;</span>);
  s = <a class="code" href="log_8c.html#a80ef76ace680efc94420e6b41b8b87a9">num_append</a>(LOC,size);
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot; stack frames:\n&quot;</span>);

  <span class="keywordflow">if</span> ((<a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> &gt;= 0) || ((<a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = <a class="code" href="log_8c.html#ae757d8997fecba3ff8772d26fd323792">open_crashlog</a>()) &gt;= 0))
    <a class="code" href="log_8c.html#afd1a507af116f890f28297c0a5ed9e86">DUMP</a>(<a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a>)
  if (!<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>)
    DUMP(STDERR_FILENO)
  else
    {
      <span class="keywordflow">if</span> (priority &lt;= zlog_default-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa1883db184dab41d65e03180c1fbed617">ZLOG_DEST_STDOUT</a>])
    <a class="code" href="log_8c.html#afd1a507af116f890f28297c0a5ed9e86">DUMP</a>(STDOUT_FILENO)
      <span class="comment">/* Remove trailing &#39;\n&#39; for monitor and syslog */</span>
      *--s = <span class="charliteral">&#39;\0&#39;</span>;
      <span class="keywordflow">if</span> (priority &lt;= zlog_default-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afad7c519b6be9a085d26f764f00a6e3c72">ZLOG_DEST_MONITOR</a>])
    <a class="code" href="vty_8c.html#ac0b3f6add8b1af732eb0289a31c58f87">vty_log_fixed</a>(buf,s-buf);
      <span class="keywordflow">if</span> (priority &lt;= zlog_default-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa0b23cfb9b02e22f2606823361d397ef4">ZLOG_DEST_SYSLOG</a>])
    <a class="code" href="log_8c.html#a8c4d4637d2c9e63aedb25da9000530de">syslog_sigsafe</a>(priority|<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#a3cd253b1e67519d82ef1564156271c6e">facility</a>,buf,s-buf);
      {
    <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<span class="preprocessor">#ifdef HAVE_GLIBC_BACKTRACE</span>
<span class="preprocessor"></span>        bt = backtrace_symbols(array, size);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    <span class="comment">/* Just print the function addresses. */</span>
    <span class="keywordflow">for</span> (i = 0; i &lt; size; i++)
      {
        s = <a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>;
        <span class="keywordflow">if</span> (bt) 
          s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC, bt[i]);
        <span class="keywordflow">else</span> {
          s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;[bt &quot;</span>);
          s = <a class="code" href="log_8c.html#a80ef76ace680efc94420e6b41b8b87a9">num_append</a>(LOC,i);
          s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;] 0x&quot;</span>);
          s = hex_append(LOC,(u_long)(array[i]));
        }
        *s = <span class="charliteral">&#39;\0&#39;</span>;
        <span class="keywordflow">if</span> (priority &lt;= zlog_default-&gt;maxlvl[ZLOG_DEST_MONITOR])
          <a class="code" href="vty_8c.html#ac0b3f6add8b1af732eb0289a31c58f87">vty_log_fixed</a>(buf,s-buf);
        <span class="keywordflow">if</span> (priority &lt;= zlog_default-&gt;maxlvl[ZLOG_DEST_SYSLOG])
          <a class="code" href="log_8c.html#a8c4d4637d2c9e63aedb25da9000530de">syslog_sigsafe</a>(priority|<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#a3cd253b1e67519d82ef1564156271c6e">facility</a>,buf,s-buf);
      }
      <span class="keywordflow">if</span> (bt)
        free(bt);
      }
    }
<span class="preprocessor">#undef DUMP</span>
<span class="preprocessor"></span><span class="preprocessor">#undef LOC</span>
<span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* HAVE_STRACK_TRACE */</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac8de64ccb9c0c7785d895a7f8907f18e"></a><!-- doxytag: member="log.c::zlog_reset_file" ref="ac8de64ccb9c0c7785d895a7f8907f18e" args="(struct zlog *zl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zlog_reset_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td>
          <td class="paramname"><em>zl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00700">700</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (zl == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    zl = <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>;

  <span class="keywordflow">if</span> (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>)
    fclose (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>);
  zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = -1;
  zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa36c69acd7ce2fd26be0604db878a17c9">ZLOG_DEST_FILE</a>] = <a class="code" href="log_8h.html#a4881df705c4665936da19cea6623685e">ZLOG_DISABLED</a>;

  <span class="keywordflow">if</span> (zl-&gt;<a class="code" href="structzlog.html#ab0a74ebdc3ef203d2cdeb436ffde15c9">filename</a>)
    free (zl-&gt;<a class="code" href="structzlog.html#ab0a74ebdc3ef203d2cdeb436ffde15c9">filename</a>);
  zl-&gt;<a class="code" href="structzlog.html#ab0a74ebdc3ef203d2cdeb436ffde15c9">filename</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa854a1d910778b80a95f6b711025faa5"></a><!-- doxytag: member="log.c::zlog_rotate" ref="aa854a1d910778b80a95f6b711025faa5" args="(struct zlog *zl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zlog_rotate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td>
          <td class="paramname"><em>zl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00720">720</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> level;

  <span class="keywordflow">if</span> (zl == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    zl = <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>;

  <span class="keywordflow">if</span> (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>)
    fclose (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>);
  zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = -1;
  level = zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa36c69acd7ce2fd26be0604db878a17c9">ZLOG_DEST_FILE</a>];
  zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa36c69acd7ce2fd26be0604db878a17c9">ZLOG_DEST_FILE</a>] = <a class="code" href="log_8h.html#a4881df705c4665936da19cea6623685e">ZLOG_DISABLED</a>;

  <span class="keywordflow">if</span> (zl-&gt;<a class="code" href="structzlog.html#ab0a74ebdc3ef203d2cdeb436ffde15c9">filename</a>)
    {
      mode_t oldumask;
      <span class="keywordtype">int</span> save_errno;

      oldumask = umask (0777 &amp; ~LOGFILE_MASK);
      zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a> = fopen (zl-&gt;<a class="code" href="structzlog.html#ab0a74ebdc3ef203d2cdeb436ffde15c9">filename</a>, <span class="stringliteral">&quot;a&quot;</span>);
      save_errno = errno;
      umask(oldumask);
      <span class="keywordflow">if</span> (zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        {
      <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a>(<span class="stringliteral">&quot;Log rotate failed: cannot open file %s for append: %s&quot;</span>,
           zl-&gt;<a class="code" href="structzlog.html#ab0a74ebdc3ef203d2cdeb436ffde15c9">filename</a>, <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(save_errno));
      <span class="keywordflow">return</span> -1;
        }   
      <a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = fileno(zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a>);
      zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa36c69acd7ce2fd26be0604db878a17c9">ZLOG_DEST_FILE</a>] = level;
    }

  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa33a9ebfbc135db71eebbee2297bd6b3"></a><!-- doxytag: member="log.c::zlog_set_file" ref="aa33a9ebfbc135db71eebbee2297bd6b3" args="(struct zlog *zl, const char *filename, int log_level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int zlog_set_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td>
          <td class="paramname"><em>zl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>log_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00670">670</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  FILE *fp;
  mode_t oldumask;

  <span class="comment">/* There is opend file.  */</span>
  <a class="code" href="log_8c.html#ac8de64ccb9c0c7785d895a7f8907f18e">zlog_reset_file</a> (zl);

  <span class="comment">/* Set default zl. */</span>
  <span class="keywordflow">if</span> (zl == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    zl = <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>;

  <span class="comment">/* Open file. */</span>
  oldumask = umask (0777 &amp; ~LOGFILE_MASK);
  fp = fopen (filename, <span class="stringliteral">&quot;a&quot;</span>);
  umask(oldumask);
  <span class="keywordflow">if</span> (fp == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> 0;

  <span class="comment">/* Set flags. */</span>
  zl-&gt;<a class="code" href="structzlog.html#ab0a74ebdc3ef203d2cdeb436ffde15c9">filename</a> = strdup (filename);
  zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa36c69acd7ce2fd26be0604db878a17c9">ZLOG_DEST_FILE</a>] = log_level;
  zl-&gt;<a class="code" href="structzlog.html#acc819039d10dfe584d07470c7b80856d">fp</a> = fp;
  <a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = fileno(fp);

  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8ef98c8a7cd8474e0570a342208b7cfb"></a><!-- doxytag: member="log.c::zlog_set_level" ref="a8ef98c8a7cd8474e0570a342208b7cfb" args="(struct zlog *zl, zlog_dest_t dest, int log_level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zlog_set_level </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structzlog.html">zlog</a> *&#160;</td>
          <td class="paramname"><em>zl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log_8h.html#a73f647b113a31234b2acdc6979aa37af">zlog_dest_t</a>&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>log_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00661">661</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (zl == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    zl = <a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>;

  zl-&gt;<a class="code" href="structzlog.html#a6b8c81652f703d5d813414834b7a5be2">maxlvl</a>[dest] = log_level;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a05e23c9c58b9b7834cb867da34ea2556"></a><!-- doxytag: member="log.c::zlog_signal" ref="a05e23c9c58b9b7834cb867da34ea2556" args="(int signo, const char *action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zlog_signal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00358">358</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  time_t now;
  <span class="keywordtype">char</span> <a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>[<span class="keyword">sizeof</span>(<span class="stringliteral">&quot;DEFAULT: Received signal S at T (si_addr 0xP, PC 0xP); aborting...&quot;</span>)+100];
  <span class="keywordtype">char</span> *<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a> = <a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>;
  <span class="keywordtype">char</span> *msgstart = <a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>;
<span class="preprocessor">#define LOC s,buf+sizeof(buf)-s</span>
<span class="preprocessor"></span>
  time(&amp;now);
  <span class="keywordflow">if</span> (<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>)
    {
      s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<a class="code" href="log_8c.html#a104618d1dc8bb7b6b5c36f8969f2a49e">zlog_proto_names</a>[<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#acafcb64affec5374e8e4d61fded92812">protocol</a>]);
      *s++ = <span class="charliteral">&#39;:&#39;</span>;
      *s++ = <span class="charliteral">&#39; &#39;</span>;
      msgstart = <a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>;
    }
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;Received signal &quot;</span>);
  s = <a class="code" href="log_8c.html#a80ef76ace680efc94420e6b41b8b87a9">num_append</a>(LOC,signo);
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot; at &quot;</span>);
  s = <a class="code" href="log_8c.html#a80ef76ace680efc94420e6b41b8b87a9">num_append</a>(LOC,now);
<span class="preprocessor">#ifdef SA_SIGINFO</span>
<span class="preprocessor"></span>  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot; (si_addr 0x&quot;</span>);
  s = hex_append(LOC,(u_long)(siginfo-&gt;si_addr));
  <span class="keywordflow">if</span> (program_counter)
    {
      s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;, PC 0x&quot;</span>);
      s = hex_append(LOC,(u_long)program_counter);
    }
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;); &quot;</span>);
<span class="preprocessor">#else </span><span class="comment">/* SA_SIGINFO */</span>
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,<span class="stringliteral">&quot;; &quot;</span>);
<span class="preprocessor">#endif </span><span class="comment">/* SA_SIGINFO */</span>
  s = <a class="code" href="log_8c.html#a221cb302510814b906897944d346cbc3">str_append</a>(LOC,action);
  <span class="keywordflow">if</span> (s &lt; <a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>+<span class="keyword">sizeof</span>(<a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>))
    *s++ = <span class="charliteral">&#39;\n&#39;</span>;

  <span class="comment">/* N.B. implicit priority is most severe */</span>
<span class="preprocessor">#define PRI LOG_CRIT</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define DUMP(FD) write(FD, buf, s-buf);</span>
<span class="preprocessor"></span>  <span class="comment">/* If no file logging configured, try to write to fallback log file. */</span>
  <span class="keywordflow">if</span> ((<a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> &gt;= 0) || ((<a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = <a class="code" href="log_8c.html#ae757d8997fecba3ff8772d26fd323792">open_crashlog</a>()) &gt;= 0))
    <a class="code" href="log_8c.html#afd1a507af116f890f28297c0a5ed9e86">DUMP</a>(<a class="code" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a>)
  if (!<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>)
    DUMP(STDERR_FILENO)
  else
    {
      <span class="keywordflow">if</span> (PRI &lt;= zlog_default-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa1883db184dab41d65e03180c1fbed617">ZLOG_DEST_STDOUT</a>])
        <a class="code" href="log_8c.html#afd1a507af116f890f28297c0a5ed9e86">DUMP</a>(STDOUT_FILENO)
      <span class="comment">/* Remove trailing &#39;\n&#39; for monitor and syslog */</span>
      *--s = <span class="charliteral">&#39;\0&#39;</span>;
      <span class="keywordflow">if</span> (PRI &lt;= zlog_default-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afad7c519b6be9a085d26f764f00a6e3c72">ZLOG_DEST_MONITOR</a>])
        <a class="code" href="vty_8c.html#ac0b3f6add8b1af732eb0289a31c58f87">vty_log_fixed</a>(<a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>,s-<a class="code" href="structtimestamp__control.html#aab2bcb84e3ac17da33c7ee1df865db6d">buf</a>);
      <span class="keywordflow">if</span> (PRI &lt;= zlog_default-&gt;maxlvl[<a class="code" href="log_8h.html#a73f647b113a31234b2acdc6979aa37afa0b23cfb9b02e22f2606823361d397ef4">ZLOG_DEST_SYSLOG</a>])
    <a class="code" href="log_8c.html#a8c4d4637d2c9e63aedb25da9000530de">syslog_sigsafe</a>(PRI|<a class="code" href="log_8c.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a>-&gt;<a class="code" href="structzlog.html#a3cd253b1e67519d82ef1564156271c6e">facility</a>,msgstart,s-msgstart);
    }
<span class="preprocessor">#undef DUMP</span>
<span class="preprocessor"></span>
  <a class="code" href="log_8c.html#a6db992283a1d1e643121c8bde222e525">zlog_backtrace_sigsafe</a>(PRI,
#ifdef SA_SIGINFO
             program_counter
#<span class="keywordflow">else</span>
             <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>
#endif
            );
<span class="preprocessor">#undef PRI</span>
<span class="preprocessor"></span><span class="preprocessor">#undef LOC</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a1b9acefae425e0f493211b22c66c4dd2"></a><!-- doxytag: member="log.c::zroute_lookup" ref="a1b9acefae425e0f493211b22c66c4dd2" args="(u_int zroute)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structzebra__desc__table.html">zebra_desc_table</a>* zroute_lookup </td>
          <td>(</td>
          <td class="paramtype">u_int&#160;</td>
          <td class="paramname"><em>zroute</em></td><td>)</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00871">871</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;

  <span class="keywordflow">if</span> (zroute &gt;= <span class="keyword">sizeof</span>(<a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>)/<span class="keyword">sizeof</span>(<a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[0]))
    {
      <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a>(<span class="stringliteral">&quot;unknown zebra route type: %u&quot;</span>, zroute);
      <span class="keywordflow">return</span> &amp;<a class="code" href="log_8c.html#a788b2612999346d713a3fc7b8b2a3038">unknown</a>;
    }
  <span class="keywordflow">if</span> (zroute == <a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[zroute].<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>)
    <span class="keywordflow">return</span> &amp;<a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[zroute];
  <span class="keywordflow">for</span> (i = 0; i &lt; <span class="keyword">sizeof</span>(<a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>)/<span class="keyword">sizeof</span>(<a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[0]); i++)
    {
      <span class="keywordflow">if</span> (zroute == <a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[i].type)
        {
      <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a>(<span class="stringliteral">&quot;internal error: route type table out of order &quot;</span>
            <span class="stringliteral">&quot;while searching for %u, please notify developers&quot;</span>, zroute);
      <span class="keywordflow">return</span> &amp;<a class="code" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>];
        }
    }
  <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a>(<span class="stringliteral">&quot;internal error: cannot find route type %u in table!&quot;</span>, zroute);
  <span class="keywordflow">return</span> &amp;<a class="code" href="log_8c.html#a788b2612999346d713a3fc7b8b2a3038">unknown</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aefa57637f4459f32822cd5eac929f039"></a><!-- doxytag: member="log.c::zserv_command_string" ref="aefa57637f4459f32822cd5eac929f039" args="(unsigned int command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* zserv_command_string </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00908">908</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (command &gt;= <span class="keyword">sizeof</span>(<a class="code" href="log_8c.html#aadfba28e7b2451d6a86e173e738bdc51">command_types</a>)/<span class="keyword">sizeof</span>(<a class="code" href="log_8c.html#aadfba28e7b2451d6a86e173e738bdc51">command_types</a>[0]))
    {
      <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a> (<span class="stringliteral">&quot;unknown zserv command type: %u&quot;</span>, command);
      <span class="keywordflow">return</span> <a class="code" href="log_8c.html#a788b2612999346d713a3fc7b8b2a3038">unknown</a>.<a class="code" href="structzebra__desc__table.html#a602efce5e9657bdb957ca79c2bfced25">string</a>;
    }
  <span class="keywordflow">return</span> <a class="code" href="log_8c.html#aadfba28e7b2451d6a86e173e738bdc51">command_types</a>[command].<a class="code" href="structzebra__desc__table.html#a602efce5e9657bdb957ca79c2bfced25">string</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aadfba28e7b2451d6a86e173e738bdc51"></a><!-- doxytag: member="log.c::command_types" ref="aadfba28e7b2451d6a86e173e738bdc51" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structzebra__desc__table.html">zebra_desc_table</a> <a class="el" href="log_8c.html#aadfba28e7b2451d6a86e173e738bdc51">command_types</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#af23bf4b28d6d856ed43995d31c253119">ZEBRA_INTERFACE_ADD</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#aa7ee6fa3df5b16d052e27ff18ae4ac39">ZEBRA_INTERFACE_DELETE</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#aea532f1b7734390e98af1be9c18b0964">ZEBRA_INTERFACE_ADDRESS_ADD</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a8965100a302cd587b7afa842473c8be2">ZEBRA_INTERFACE_ADDRESS_DELETE</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a4eeb48b035d0448e843e5a8370439081">ZEBRA_INTERFACE_UP</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a5c5043b21f4e172630cde3f025734a66">ZEBRA_INTERFACE_DOWN</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#aa2913a6b1e5fbc598479aa282343a5e1">ZEBRA_IPV4_ROUTE_ADD</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a0c9efcc3f61219a6697f5da18d8de992">ZEBRA_IPV4_ROUTE_DELETE</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a2d0f19502bde040501c7ad64bc955739">ZEBRA_IPV6_ROUTE_ADD</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#ad98414d027f7107e91cb040a329ad48a">ZEBRA_IPV6_ROUTE_DELETE</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#aaf00306d6060095dd258463ee7cb0cc1">ZEBRA_REDISTRIBUTE_ADD</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a1dce1941aae01a8a16dace7591398a0d">ZEBRA_REDISTRIBUTE_DELETE</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a6a54e4c8e5f637b9edb208de808a2ac6">ZEBRA_REDISTRIBUTE_DEFAULT_ADD</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a2fd9f5c25e3e2e28a03047807f20e246">ZEBRA_REDISTRIBUTE_DEFAULT_DELETE</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a7ed7741500eb4f178369418725aef502">ZEBRA_IPV4_NEXTHOP_LOOKUP</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#aa08e113e5a8c6e41bf4e89ee1100221d">ZEBRA_IPV6_NEXTHOP_LOOKUP</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#ae2f9ecf7e0fa5362e68e4853506695bf">ZEBRA_IPV4_IMPORT_LOOKUP</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a5e826697d2fbd73c914fafc2e1297c4b">ZEBRA_IPV6_IMPORT_LOOKUP</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#ac6f975e58a38eac71f015ffc597b3f4a">ZEBRA_INTERFACE_RENAME</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a7fe5b4bfc1b5074695d98c043a521a16">ZEBRA_ROUTER_ID_ADD</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a977c768bd5d6565e7d620fe16e7d3239">ZEBRA_ROUTER_ID_DELETE</a>),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#ab336e7f6f414c6b3fa62531d2912af48">ZEBRA_ROUTER_ID_UPDATE</a>),
}
</pre></div>
<p>Definition at line <a class="el" href="log_8c_source.html#l00842">842</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad29d7c19f0a96be05166b8bd01f106bc"></a><!-- doxytag: member="log.c::logfile_fd" ref="ad29d7c19f0a96be05166b8bd01f106bc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="log_8c.html#ad29d7c19f0a96be05166b8bd01f106bc">logfile_fd</a> = -1<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00038">38</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1c81816d8c5a9e2c1916e0e25581f833"></a><!-- doxytag: member="log.c::route_types" ref="a1c81816d8c5a9e2c1916e0e25581f833" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structzebra__desc__table.html">zebra_desc_table</a> <a class="el" href="log_8c.html#a1c81816d8c5a9e2c1916e0e25581f833">route_types</a>[]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a650967617adbd419d14e5e05d9548108">ZEBRA_ROUTE_SYSTEM</a>,    <span class="stringliteral">&quot;system&quot;</span>,   <span class="charliteral">&#39;X&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a742710c29f8b3e8dc06ce7a5965c097c">ZEBRA_ROUTE_KERNEL</a>,    <span class="stringliteral">&quot;kernel&quot;</span>,   <span class="charliteral">&#39;K&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#aee45d53cdac2bd7fe4b2ce021c9d1b30">ZEBRA_ROUTE_CONNECT</a>,   <span class="stringliteral">&quot;connected&quot;</span>,    <span class="charliteral">&#39;C&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a93a491d961eb8bf6f61efd8f68579a0b">ZEBRA_ROUTE_STATIC</a>,    <span class="stringliteral">&quot;static&quot;</span>,   <span class="charliteral">&#39;S&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a2bbecb9ceffe9e03927c535f41ba56fb">ZEBRA_ROUTE_RIP</a>,   <span class="stringliteral">&quot;rip&quot;</span>,      <span class="charliteral">&#39;R&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#af2bdc951784ebaac4f1cec75e7b6313b">ZEBRA_ROUTE_RIPNG</a>, <span class="stringliteral">&quot;ripng&quot;</span>,    <span class="charliteral">&#39;R&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a35ba23125eb2c360943b1bad51673ab0">ZEBRA_ROUTE_OSPF</a>,  <span class="stringliteral">&quot;ospf&quot;</span>,     <span class="charliteral">&#39;O&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>, <span class="stringliteral">&quot;ospf6&quot;</span>,    <span class="charliteral">&#39;O&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a87ef34bfb648351225e8dd877f073401">ZEBRA_ROUTE_ISIS</a>,  <span class="stringliteral">&quot;isis&quot;</span>,     <span class="charliteral">&#39;I&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a1991829492a88a5df46712d8782240a0">ZEBRA_ROUTE_BGP</a>,   <span class="stringliteral">&quot;bgp&quot;</span>,      <span class="charliteral">&#39;B&#39;</span> ),
  <a class="code" href="log_8c.html#aa355f169a6a781ae92eef3ab19c8fd65">DESC_ENTRY</a>    (<a class="code" href="zebra_8h.html#a511d4b8dcbf5a87a19c695e382165a4d">ZEBRA_ROUTE_HSLS</a>,  <span class="stringliteral">&quot;hsls&quot;</span>,     <span class="charliteral">&#39;H&#39;</span> ),
}
</pre></div>
<p>Definition at line <a class="el" href="log_8c_source.html#l00826">826</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="a788b2612999346d713a3fc7b8b2a3038"></a><!-- doxytag: member="log.c::unknown" ref="a788b2612999346d713a3fc7b8b2a3038" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structzebra__desc__table.html">zebra_desc_table</a> <a class="el" href="log_8c.html#a788b2612999346d713a3fc7b8b2a3038">unknown</a> = { 0, &quot;unknown&quot;, '?' }<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00868">868</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="a69cba84b9cc9c438ad5f5b1379b702b5"></a><!-- doxytag: member="log.c::zlog_default" ref="a69cba84b9cc9c438ad5f5b1379b702b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structzlog.html">zlog</a>* <a class="el" href="log_8h.html#a69cba84b9cc9c438ad5f5b1379b702b5">zlog_default</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="log_8c_source.html#l00040">40</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad3349b0c67f3067aeb5d83ef5c92b473"></a><!-- doxytag: member="log.c::zlog_priority" ref="ad3349b0c67f3067aeb5d83ef5c92b473" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="log_8h.html#ad3349b0c67f3067aeb5d83ef5c92b473">zlog_priority</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <span class="stringliteral">&quot;emergencies&quot;</span>,
  <span class="stringliteral">&quot;alerts&quot;</span>,
  <span class="stringliteral">&quot;critical&quot;</span>,
  <span class="stringliteral">&quot;errors&quot;</span>,
  <span class="stringliteral">&quot;warnings&quot;</span>,
  <span class="stringliteral">&quot;notifications&quot;</span>,
  <span class="stringliteral">&quot;informational&quot;</span>,
  <span class="stringliteral">&quot;debugging&quot;</span>,
  <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="log_8c_source.html#l00057">57</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a class="anchor" id="a104618d1dc8bb7b6b5c36f8969f2a49e"></a><!-- doxytag: member="log.c::zlog_proto_names" ref="a104618d1dc8bb7b6b5c36f8969f2a49e" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="log_8h.html#a104618d1dc8bb7b6b5c36f8969f2a49e">zlog_proto_names</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> 
{
  <span class="stringliteral">&quot;NONE&quot;</span>,
  <span class="stringliteral">&quot;DEFAULT&quot;</span>,
  <span class="stringliteral">&quot;ZEBRA&quot;</span>,
  <span class="stringliteral">&quot;RIP&quot;</span>,
  <span class="stringliteral">&quot;BGP&quot;</span>,
  <span class="stringliteral">&quot;OSPF&quot;</span>,
  <span class="stringliteral">&quot;RIPNG&quot;</span>,
  <span class="stringliteral">&quot;OSPF6&quot;</span>,
  <span class="stringliteral">&quot;ISIS&quot;</span>,
  <span class="stringliteral">&quot;MASC&quot;</span>,
  <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="log_8c_source.html#l00042">42</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="log_8c.html">log.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:22 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
