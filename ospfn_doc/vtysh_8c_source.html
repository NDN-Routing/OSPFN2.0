<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: vtysh/vtysh.c Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('vtysh_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">vtysh/vtysh.c</div>  </div>
</div>
<div class="contents">
<a href="vtysh_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Virtual terminal interface shell.</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (C) 2000 Kunihiro Ishiguro</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This file is part of GNU Zebra.</span>
<a name="l00005"></a>00005 <span class="comment"> *</span>
<a name="l00006"></a>00006 <span class="comment"> * GNU Zebra is free software; you can redistribute it and/or modify it</span>
<a name="l00007"></a>00007 <span class="comment"> * under the terms of the GNU General Public License as published by the</span>
<a name="l00008"></a>00008 <span class="comment"> * Free Software Foundation; either version 2, or (at your option) any</span>
<a name="l00009"></a>00009 <span class="comment"> * later version.</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * GNU Zebra is distributed in the hope that it will be useful, but</span>
<a name="l00012"></a>00012 <span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00014"></a>00014 <span class="comment"> * General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00017"></a>00017 <span class="comment"> * along with GNU Zebra; see the file COPYING.  If not, write to the Free</span>
<a name="l00018"></a>00018 <span class="comment"> * Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA</span>
<a name="l00019"></a>00019 <span class="comment"> * 02111-1307, USA.  </span>
<a name="l00020"></a>00020 <span class="comment"> */</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;<a class="code" href="zebra_8h.html">zebra.h</a>&gt;</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;sys/un.h&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;setjmp.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;sys/wait.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;sys/resource.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;readline/readline.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;readline/history.h&gt;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="command_8h.html">command.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="memory_8h.html">memory.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="vtysh_8h.html">vtysh/vtysh.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">log.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="bgp__vty_8h.html">bgpd/bgp_vty.h</a>&quot;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="comment">/* Struct VTY. */</span>
<a name="l00040"></a><a class="code" href="vtysh_8h.html#a15b2c4e868040617c54eaaba3663b337">00040</a> <span class="keyword">struct </span><a class="code" href="structvty.html">vty</a> *<a class="code" href="vtysh_8c.html#a15b2c4e868040617c54eaaba3663b337">vty</a>;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="comment">/* VTY shell pager name. */</span>
<a name="l00043"></a><a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">00043</a> <span class="keywordtype">char</span> *<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">/* VTY shell client structure. */</span>
<a name="l00046"></a><a class="code" href="structvtysh__client.html">00046</a> <span class="keyword">struct </span><a class="code" href="structvtysh__client.html">vtysh_client</a>
<a name="l00047"></a>00047 {
<a name="l00048"></a><a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">00048</a>   <span class="keywordtype">int</span> <a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a>;
<a name="l00049"></a><a class="code" href="structvtysh__client.html#a0876496b411ac1e783c9b500407ab626">00049</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structvtysh__client.html#a0876496b411ac1e783c9b500407ab626">name</a>;
<a name="l00050"></a><a class="code" href="structvtysh__client.html#a28f03c5dc1deaa9e6ec8df96324c368c">00050</a>   <span class="keywordtype">int</span> <a class="code" href="structvtysh__client.html#a28f03c5dc1deaa9e6ec8df96324c368c">flag</a>;
<a name="l00051"></a><a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">00051</a>   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">path</a>;
<a name="l00052"></a>00052 } <a class="code" href="structvtysh__client.html">vtysh_client</a>[] =
<a name="l00053"></a>00053 {
<a name="l00054"></a>00054   { .<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a> = -1, .name = <span class="stringliteral">&quot;zebra&quot;</span>, .flag = <a class="code" href="vtysh_8h.html#a720da4b5300a0e7a24d619af855f643d">VTYSH_ZEBRA</a>, .path = ZEBRA_VTYSH_PATH},
<a name="l00055"></a>00055   { .fd = -1, .name = <span class="stringliteral">&quot;ripd&quot;</span>, .flag = <a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>, .path = RIP_VTYSH_PATH},
<a name="l00056"></a>00056   { .fd = -1, .name = <span class="stringliteral">&quot;ripngd&quot;</span>, .flag = <a class="code" href="vtysh_8h.html#ac00741dc88f5cefdef4a64fd31dfbfce">VTYSH_RIPNGD</a>, .path = RIPNG_VTYSH_PATH},
<a name="l00057"></a>00057   { .fd = -1, .name = <span class="stringliteral">&quot;ospfd&quot;</span>, .flag = <a class="code" href="vtysh_8h.html#a4fca7084c6fb7bd120377a39d139c73c">VTYSH_OSPFD</a>, .path = OSPF_VTYSH_PATH},
<a name="l00058"></a>00058   { .fd = -1, .name = <span class="stringliteral">&quot;ospf6d&quot;</span>, .flag = <a class="code" href="vtysh_8h.html#ae69f1eb44c7d6e56a3d4ed25717b2993">VTYSH_OSPF6D</a>, .path = OSPF6_VTYSH_PATH},
<a name="l00059"></a>00059   { .fd = -1, .name = <span class="stringliteral">&quot;bgpd&quot;</span>, .flag = <a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>, .path = BGP_VTYSH_PATH},
<a name="l00060"></a>00060   { .fd = -1, .name = <span class="stringliteral">&quot;isisd&quot;</span>, .flag = <a class="code" href="vtysh_8h.html#a48a2966fd5029eb3c9eeec04c56b0705">VTYSH_ISISD</a>, .path = ISIS_VTYSH_PATH},
<a name="l00061"></a>00061 };
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">00063</a> <span class="preprocessor">#define VTYSH_INDEX_MAX (sizeof(vtysh_client)/sizeof(vtysh_client[0]))</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span>
<a name="l00065"></a>00065 <span class="comment">/* We need direct access to ripd to implement vtysh_exit_ripd_only. */</span>
<a name="l00066"></a><a class="code" href="vtysh_8c.html#ab11c43ef0e43e6d0cb4a2e5c1b157d37">00066</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structvtysh__client.html">vtysh_client</a> *<a class="code" href="vtysh_8c.html#ab11c43ef0e43e6d0cb4a2e5c1b157d37">ripd_client</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00067"></a>00067  
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="comment">/* Using integrated config from Quagga.conf. Default is no. */</span>
<a name="l00070"></a><a class="code" href="vtysh__config_8c.html#a7b75b9e8f63b3edb257192b65ff12ac7">00070</a> <span class="keywordtype">int</span> <a class="code" href="vtysh_8c.html#a7b75b9e8f63b3edb257192b65ff12ac7">vtysh_writeconfig_integrated</a> = 0;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="keyword">extern</span> <span class="keywordtype">char</span> <a class="code" href="bgp__main_8c.html#aee27bf99050b66912b35ae16e5b06c81">config_default</a>[];
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00075"></a><a class="code" href="vtysh_8c.html#a9b3adabd1479ff58cb7c743200228e01">00075</a> <a class="code" href="vtysh_8c.html#a9b3adabd1479ff58cb7c743200228e01">vclient_close</a> (<span class="keyword">struct</span> <a class="code" href="structvtysh__client.html">vtysh_client</a> *vclient)
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077   <span class="keywordflow">if</span> (vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a> &gt;= 0)
<a name="l00078"></a>00078     {
<a name="l00079"></a>00079       fprintf(stderr,
<a name="l00080"></a>00080           <span class="stringliteral">&quot;Warning: closing connection to %s because of an I/O error!\n&quot;</span>,
<a name="l00081"></a>00081           vclient-&gt;<a class="code" href="structvtysh__client.html#a0876496b411ac1e783c9b500407ab626">name</a>);
<a name="l00082"></a>00082       close (vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a>);
<a name="l00083"></a>00083       vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a> = -1;
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085 }
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="comment">/* Following filled with debug code to trace a problematic condition</span>
<a name="l00088"></a>00088 <span class="comment"> * under load - it SHOULD handle it. */</span>
<a name="l00089"></a><a class="code" href="vtysh_8c.html#a333cf6e0c70608c17fe704439d0e00c2">00089</a> <span class="preprocessor">#define ERR_WHERE_STRING &quot;vtysh(): vtysh_client_config(): &quot;</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00091"></a><a class="code" href="vtysh_8c.html#a0932c0d402347e768e244af62b7e4f42">00091</a> <a class="code" href="vtysh_8c.html#a0932c0d402347e768e244af62b7e4f42">vtysh_client_config</a> (<span class="keyword">struct</span> <a class="code" href="structvtysh__client.html">vtysh_client</a> *vclient, <span class="keywordtype">char</span> *line)
<a name="l00092"></a>00092 {
<a name="l00093"></a>00093   <span class="keywordtype">int</span> ret;
<a name="l00094"></a>00094   <span class="keywordtype">char</span> *buf;
<a name="l00095"></a>00095   <span class="keywordtype">size_t</span> bufsz;
<a name="l00096"></a>00096   <span class="keywordtype">char</span> *pbuf;
<a name="l00097"></a>00097   <span class="keywordtype">size_t</span> <a class="code" href="dict_8c.html#a428f8207615465afdfcf1d31547ffef3">left</a>;
<a name="l00098"></a>00098   <span class="keywordtype">char</span> *eoln;
<a name="l00099"></a>00099   <span class="keywordtype">int</span> nbytes;
<a name="l00100"></a>00100   <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l00101"></a>00101   <span class="keywordtype">int</span> readln;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103   <span class="keywordflow">if</span> (vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a> &lt; 0)
<a name="l00104"></a>00104     <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00105"></a>00105 
<a name="l00106"></a>00106   ret = write (vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a>, line, strlen (line) + 1);
<a name="l00107"></a>00107   <span class="keywordflow">if</span> (ret &lt;= 0)
<a name="l00108"></a>00108     {
<a name="l00109"></a>00109       <a class="code" href="vtysh_8c.html#a9b3adabd1479ff58cb7c743200228e01">vclient_close</a> (vclient);
<a name="l00110"></a>00110       <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112     
<a name="l00113"></a>00113   <span class="comment">/* Allow enough room for buffer to read more than a few pages from socket. */</span>
<a name="l00114"></a>00114   bufsz = 5 * getpagesize() + 1;
<a name="l00115"></a>00115   buf = <a class="code" href="memory_8h.html#a6491adf46c1d769b529a8f2f7d75f2fe">XMALLOC</a>(<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba563963518edb70d4cd7492b06f48106e">MTYPE_TMP</a>, bufsz);
<a name="l00116"></a>00116   memset(buf, 0, bufsz);
<a name="l00117"></a>00117   pbuf = buf;
<a name="l00118"></a>00118 
<a name="l00119"></a>00119   <span class="keywordflow">while</span> (1)
<a name="l00120"></a>00120     {
<a name="l00121"></a>00121       <span class="keywordflow">if</span> (pbuf &gt;= ((buf + bufsz) -1))
<a name="l00122"></a>00122     {
<a name="l00123"></a>00123       fprintf (stderr, <a class="code" href="vtysh_8c.html#a333cf6e0c70608c17fe704439d0e00c2">ERR_WHERE_STRING</a> \
<a name="l00124"></a>00124            <span class="stringliteral">&quot;warning - pbuf beyond buffer end.\n&quot;</span>);
<a name="l00125"></a>00125       <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
<a name="l00126"></a>00126     }
<a name="l00127"></a>00127 
<a name="l00128"></a>00128       readln = (buf + bufsz) - pbuf - 1;
<a name="l00129"></a>00129       nbytes = read (vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a>, pbuf, readln);
<a name="l00130"></a>00130 
<a name="l00131"></a>00131       <span class="keywordflow">if</span> (nbytes &lt;= 0)
<a name="l00132"></a>00132     {
<a name="l00133"></a>00133 
<a name="l00134"></a>00134       <span class="keywordflow">if</span> (errno == EINTR)
<a name="l00135"></a>00135         <span class="keywordflow">continue</span>;
<a name="l00136"></a>00136 
<a name="l00137"></a>00137       fprintf(stderr, <a class="code" href="vtysh_8c.html#a333cf6e0c70608c17fe704439d0e00c2">ERR_WHERE_STRING</a> <span class="stringliteral">&quot;(%u)&quot;</span>, errno);
<a name="l00138"></a>00138       perror(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00139"></a>00139 
<a name="l00140"></a>00140       <span class="keywordflow">if</span> (errno == EAGAIN || errno == EIO)
<a name="l00141"></a>00141         <span class="keywordflow">continue</span>;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143       <a class="code" href="vtysh_8c.html#a9b3adabd1479ff58cb7c743200228e01">vclient_close</a> (vclient);
<a name="l00144"></a>00144       <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a>(<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba563963518edb70d4cd7492b06f48106e">MTYPE_TMP</a>, buf);
<a name="l00145"></a>00145       <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00146"></a>00146     }
<a name="l00147"></a>00147 
<a name="l00148"></a>00148       pbuf[nbytes] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00149"></a>00149 
<a name="l00150"></a>00150       <span class="keywordflow">if</span> (nbytes &gt;= 4)
<a name="l00151"></a>00151     {
<a name="l00152"></a>00152       i = nbytes - 4;
<a name="l00153"></a>00153       <span class="keywordflow">if</span> (pbuf[i] == <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; pbuf[i + 1] == <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; pbuf[i + 2] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l00154"></a>00154         {
<a name="l00155"></a>00155           ret = pbuf[i + 3];
<a name="l00156"></a>00156           <span class="keywordflow">break</span>;
<a name="l00157"></a>00157         }
<a name="l00158"></a>00158     }
<a name="l00159"></a>00159       pbuf += nbytes;
<a name="l00160"></a>00160 
<a name="l00161"></a>00161       <span class="comment">/* See if a line exists in buffer, if so parse and consume it, and</span>
<a name="l00162"></a>00162 <span class="comment">       * reset read position. */</span>
<a name="l00163"></a>00163       <span class="keywordflow">if</span> ((eoln = strrchr(buf, <span class="charliteral">&#39;\n&#39;</span>)) == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00164"></a>00164     <span class="keywordflow">continue</span>;
<a name="l00165"></a>00165 
<a name="l00166"></a>00166       <span class="keywordflow">if</span> (eoln &gt;= ((buf + bufsz) - 1))
<a name="l00167"></a>00167     {
<a name="l00168"></a>00168       fprintf (stderr, <a class="code" href="vtysh_8c.html#a333cf6e0c70608c17fe704439d0e00c2">ERR_WHERE_STRING</a> \
<a name="l00169"></a>00169            <span class="stringliteral">&quot;warning - eoln beyond buffer end.\n&quot;</span>);
<a name="l00170"></a>00170     }
<a name="l00171"></a>00171       <a class="code" href="vtysh_8h.html#a2b3b2c02b26427aa679c4db7e829f549">vtysh_config_parse</a>(buf);
<a name="l00172"></a>00172 
<a name="l00173"></a>00173       eoln++;
<a name="l00174"></a>00174       left = (size_t)(buf + bufsz - eoln);
<a name="l00175"></a>00175       memmove(buf, eoln, left);
<a name="l00176"></a>00176       buf[bufsz-1] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00177"></a>00177       pbuf = buf + strlen(buf);
<a name="l00178"></a>00178     }
<a name="l00179"></a>00179 
<a name="l00180"></a>00180   <span class="comment">/* Parse anything left in the buffer. */</span>
<a name="l00181"></a>00181 
<a name="l00182"></a>00182   <a class="code" href="vtysh_8h.html#a2b3b2c02b26427aa679c4db7e829f549">vtysh_config_parse</a> (buf);
<a name="l00183"></a>00183 
<a name="l00184"></a>00184   <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a>(<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba563963518edb70d4cd7492b06f48106e">MTYPE_TMP</a>, buf);
<a name="l00185"></a>00185   <span class="keywordflow">return</span> ret;
<a name="l00186"></a>00186 }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00189"></a><a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">00189</a> <a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">vtysh_client_execute</a> (<span class="keyword">struct</span> <a class="code" href="structvtysh__client.html">vtysh_client</a> *vclient, <span class="keyword">const</span> <span class="keywordtype">char</span> *line, FILE *fp)
<a name="l00190"></a>00190 {
<a name="l00191"></a>00191   <span class="keywordtype">int</span> ret;
<a name="l00192"></a>00192   <span class="keywordtype">char</span> buf[1001];
<a name="l00193"></a>00193   <span class="keywordtype">int</span> nbytes;
<a name="l00194"></a>00194   <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>; 
<a name="l00195"></a>00195   <span class="keywordtype">int</span> numnulls = 0;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197   <span class="keywordflow">if</span> (vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a> &lt; 0)
<a name="l00198"></a>00198     <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   ret = write (vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a>, line, strlen (line) + 1);
<a name="l00201"></a>00201   <span class="keywordflow">if</span> (ret &lt;= 0)
<a name="l00202"></a>00202     {
<a name="l00203"></a>00203       <a class="code" href="vtysh_8c.html#a9b3adabd1479ff58cb7c743200228e01">vclient_close</a> (vclient);
<a name="l00204"></a>00204       <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206     
<a name="l00207"></a>00207   <span class="keywordflow">while</span> (1)
<a name="l00208"></a>00208     {
<a name="l00209"></a>00209       nbytes = read (vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a>, buf, <span class="keyword">sizeof</span>(buf)-1);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211       <span class="keywordflow">if</span> (nbytes &lt;= 0 &amp;&amp; errno != EINTR)
<a name="l00212"></a>00212     {
<a name="l00213"></a>00213       <a class="code" href="vtysh_8c.html#a9b3adabd1479ff58cb7c743200228e01">vclient_close</a> (vclient);
<a name="l00214"></a>00214       <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00215"></a>00215     }
<a name="l00216"></a>00216 
<a name="l00217"></a>00217       <span class="keywordflow">if</span> (nbytes &gt; 0)
<a name="l00218"></a>00218     {
<a name="l00219"></a>00219       <span class="keywordflow">if</span> ((numnulls == 3) &amp;&amp; (nbytes == 1))
<a name="l00220"></a>00220         <span class="keywordflow">return</span> buf[0];
<a name="l00221"></a>00221 
<a name="l00222"></a>00222       buf[nbytes] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00223"></a>00223       fputs (buf, fp);
<a name="l00224"></a>00224       fflush (fp);
<a name="l00225"></a>00225       
<a name="l00226"></a>00226       <span class="comment">/* check for trailling \0\0\0&lt;ret code&gt;, </span>
<a name="l00227"></a>00227 <span class="comment">       * even if split across reads </span>
<a name="l00228"></a>00228 <span class="comment">       * (see lib/vty.c::vtysh_read)</span>
<a name="l00229"></a>00229 <span class="comment">       */</span>
<a name="l00230"></a>00230           <span class="keywordflow">if</span> (nbytes &gt;= 4) 
<a name="l00231"></a>00231             {
<a name="l00232"></a>00232               i = nbytes-4;
<a name="l00233"></a>00233               numnulls = 0;
<a name="l00234"></a>00234             }
<a name="l00235"></a>00235           <span class="keywordflow">else</span>
<a name="l00236"></a>00236             i = 0;
<a name="l00237"></a>00237           
<a name="l00238"></a>00238           <span class="keywordflow">while</span> (i &lt; nbytes &amp;&amp; numnulls &lt; 3)
<a name="l00239"></a>00239             {
<a name="l00240"></a>00240               <span class="keywordflow">if</span> (buf[i++] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l00241"></a>00241                 numnulls++;
<a name="l00242"></a>00242               <span class="keywordflow">else</span>
<a name="l00243"></a>00243                 numnulls = 0;
<a name="l00244"></a>00244             }
<a name="l00245"></a>00245 
<a name="l00246"></a>00246           <span class="comment">/* got 3 or more trailing NULs? */</span>
<a name="l00247"></a>00247           <span class="keywordflow">if</span> ((numnulls &gt;= 3) &amp;&amp; (i &lt; nbytes))
<a name="l00248"></a>00248             <span class="keywordflow">return</span> (buf[nbytes-1]);
<a name="l00249"></a>00249     }
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251 }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="keywordtype">void</span>
<a name="l00254"></a><a class="code" href="vtysh_8c.html#a85890c81c0612a668337127ed1ad014c">00254</a> <a class="code" href="vtysh_8c.html#a85890c81c0612a668337127ed1ad014c">vtysh_exit_ripd_only</a> (<span class="keywordtype">void</span>)
<a name="l00255"></a>00255 {
<a name="l00256"></a>00256   <span class="keywordflow">if</span> (ripd_client)
<a name="l00257"></a>00257     <a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">vtysh_client_execute</a> (ripd_client, <span class="stringliteral">&quot;exit&quot;</span>, stdout);
<a name="l00258"></a>00258 }
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="keywordtype">void</span>
<a name="l00262"></a><a class="code" href="vtysh_8h.html#ab52fdf3580a2328bde104bce79f6a93d">00262</a> <a class="code" href="vtysh_8c.html#ab52fdf3580a2328bde104bce79f6a93d">vtysh_pager_init</a> (<span class="keywordtype">void</span>)
<a name="l00263"></a>00263 {
<a name="l00264"></a>00264   <span class="keywordtype">char</span> *pager_defined;
<a name="l00265"></a>00265 
<a name="l00266"></a>00266   pager_defined = <a class="code" href="getopt_8c.html#aee28fd8a0e40b6d958f7d20348e45368">getenv</a> (<span class="stringliteral">&quot;VTYSH_PAGER&quot;</span>);
<a name="l00267"></a>00267 
<a name="l00268"></a>00268   <span class="keywordflow">if</span> (pager_defined)
<a name="l00269"></a>00269     <a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> = strdup (pager_defined);
<a name="l00270"></a>00270   <span class="keywordflow">else</span>
<a name="l00271"></a>00271     <a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> = strdup (<span class="stringliteral">&quot;more&quot;</span>);
<a name="l00272"></a>00272 }
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 <span class="comment">/* Command execution over the vty interface. */</span>
<a name="l00275"></a>00275 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00276"></a><a class="code" href="vtysh_8c.html#add6c09fb9e4319229026374aec84be56">00276</a> <a class="code" href="vtysh_8c.html#add6c09fb9e4319229026374aec84be56">vtysh_execute_func</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *line, <span class="keywordtype">int</span> pager)
<a name="l00277"></a>00277 {
<a name="l00278"></a>00278   <span class="keywordtype">int</span> ret, cmd_stat;
<a name="l00279"></a>00279   u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l00280"></a>00280   <a class="code" href="struct__vector.html">vector</a> vline;
<a name="l00281"></a>00281   <span class="keyword">struct </span><a class="code" href="structcmd__element.html">cmd_element</a> *cmd;
<a name="l00282"></a>00282   FILE *fp = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00283"></a>00283   <span class="keywordtype">int</span> closepager = 0;
<a name="l00284"></a>00284   <span class="keywordtype">int</span> tried = 0;
<a name="l00285"></a>00285   <span class="keywordtype">int</span> saved_ret, saved_node;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287   <span class="comment">/* Split readline string up into the vector. */</span>
<a name="l00288"></a>00288   vline = <a class="code" href="command_8c.html#a968b2f52fc543595fa4ce625f5fdb6a3">cmd_make_strvec</a> (line);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290   <span class="keywordflow">if</span> (vline == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00291"></a>00291     <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00292"></a>00292 
<a name="l00293"></a>00293   saved_ret = ret = <a class="code" href="command_8c.html#acf65ad66c233b7722618e8f3725145e0">cmd_execute_command</a> (vline, vty, &amp;cmd, 1);
<a name="l00294"></a>00294   saved_node = vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a>;
<a name="l00295"></a>00295 
<a name="l00296"></a>00296   <span class="comment">/* If command doesn&#39;t succeeded in current node, try to walk up in node tree.</span>
<a name="l00297"></a>00297 <span class="comment">   * Changing vty-&gt;node is enough to try it just out without actual walkup in</span>
<a name="l00298"></a>00298 <span class="comment">   * the vtysh. */</span>
<a name="l00299"></a>00299   <span class="keywordflow">while</span> (ret != <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a> &amp;&amp; ret != <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a> &amp;&amp; ret != <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>
<a name="l00300"></a>00300      &amp;&amp; vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> &gt; <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>)
<a name="l00301"></a>00301     {
<a name="l00302"></a>00302       vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8c.html#a40933b093218abad7c1407f2bc117dc1">node_parent</a>(vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a>);
<a name="l00303"></a>00303       ret = <a class="code" href="command_8c.html#acf65ad66c233b7722618e8f3725145e0">cmd_execute_command</a> (vline, vty, &amp;cmd, 1);
<a name="l00304"></a>00304       tried++;
<a name="l00305"></a>00305     }
<a name="l00306"></a>00306 
<a name="l00307"></a>00307   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = saved_node;
<a name="l00308"></a>00308 
<a name="l00309"></a>00309   <span class="comment">/* If command succeeded in any other node than current (tried &gt; 0) we have</span>
<a name="l00310"></a>00310 <span class="comment">   * to move into node in the vtysh where it succeeded. */</span>
<a name="l00311"></a>00311   <span class="keywordflow">if</span> (ret == <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a> || ret == <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a> || ret == <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>)
<a name="l00312"></a>00312     {
<a name="l00313"></a>00313       <span class="keywordflow">if</span> ((saved_node == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a> || saved_node == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>
<a name="l00314"></a>00314        || saved_node == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a> || saved_node == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>
<a name="l00315"></a>00315        || saved_node == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>)
<a name="l00316"></a>00316       &amp;&amp; (tried == 1))
<a name="l00317"></a>00317     {
<a name="l00318"></a>00318       <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a>(<span class="stringliteral">&quot;exit-address-family&quot;</span>);
<a name="l00319"></a>00319     }
<a name="l00320"></a>00320       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((saved_node == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>) &amp;&amp; (tried == 1))
<a name="l00321"></a>00321     {
<a name="l00322"></a>00322       <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a>(<span class="stringliteral">&quot;exit&quot;</span>);
<a name="l00323"></a>00323     }
<a name="l00324"></a>00324       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tried)
<a name="l00325"></a>00325     {
<a name="l00326"></a>00326       <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<span class="stringliteral">&quot;end&quot;</span>);
<a name="l00327"></a>00327       <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<span class="stringliteral">&quot;configure terminal&quot;</span>);
<a name="l00328"></a>00328     }
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330   <span class="comment">/* If command didn&#39;t succeed in any node, continue with return value from</span>
<a name="l00331"></a>00331 <span class="comment">   * first try. */</span>
<a name="l00332"></a>00332   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tried)
<a name="l00333"></a>00333     {
<a name="l00334"></a>00334       ret = saved_ret;
<a name="l00335"></a>00335     }
<a name="l00336"></a>00336 
<a name="l00337"></a>00337   <a class="code" href="command_8c.html#a2d4e7d3f3fe917dafa06eb6d156d9a6e">cmd_free_strvec</a> (vline);
<a name="l00338"></a>00338 
<a name="l00339"></a>00339   cmd_stat = ret;
<a name="l00340"></a>00340   <span class="keywordflow">switch</span> (ret)
<a name="l00341"></a>00341     {
<a name="l00342"></a>00342     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>:
<a name="l00343"></a>00343       <span class="keywordflow">if</span> (vty-&gt;<a class="code" href="structvty.html#a918d01c53936e81c45a177b0ceda3eca">type</a> == VTY_FILE)
<a name="l00344"></a>00344     fprintf (stdout,<span class="stringliteral">&quot;Warning...\n&quot;</span>);
<a name="l00345"></a>00345       <span class="keywordflow">break</span>;
<a name="l00346"></a>00346     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#aaca9c63a322f9ed0311fd20404ce8e9a">CMD_ERR_AMBIGUOUS</a>:
<a name="l00347"></a>00347       fprintf (stdout,<span class="stringliteral">&quot;%% Ambiguous command.\n&quot;</span>);
<a name="l00348"></a>00348       <span class="keywordflow">break</span>;
<a name="l00349"></a>00349     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a007b585758677d61751303a88c8914d5">CMD_ERR_NO_MATCH</a>:
<a name="l00350"></a>00350       fprintf (stdout,<span class="stringliteral">&quot;%% Unknown command.\n&quot;</span>);
<a name="l00351"></a>00351       <span class="keywordflow">break</span>;
<a name="l00352"></a>00352     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a9442a1eab547aab6955358c45814015c">CMD_ERR_INCOMPLETE</a>:
<a name="l00353"></a>00353       fprintf (stdout,<span class="stringliteral">&quot;%% Command incomplete.\n&quot;</span>);
<a name="l00354"></a>00354       <span class="keywordflow">break</span>;
<a name="l00355"></a>00355     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a>:
<a name="l00356"></a>00356       {
<a name="l00357"></a>00357     <span class="comment">/* FIXME: Don&#39;t open pager for exit commands. popen() causes problems</span>
<a name="l00358"></a>00358 <span class="comment">     * if exited from vtysh at all. This hack shouldn&#39;t cause any problem</span>
<a name="l00359"></a>00359 <span class="comment">     * but is really ugly. */</span>
<a name="l00360"></a>00360     <span class="keywordflow">if</span> (pager &amp;&amp; <a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> &amp;&amp; (strncmp(line, <span class="stringliteral">&quot;exit&quot;</span>, 4) != 0))
<a name="l00361"></a>00361       {
<a name="l00362"></a>00362         fp = popen (<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a>, <span class="stringliteral">&quot;w&quot;</span>);
<a name="l00363"></a>00363         <span class="keywordflow">if</span> (fp == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00364"></a>00364           {
<a name="l00365"></a>00365         perror (<span class="stringliteral">&quot;popen failed for pager&quot;</span>);
<a name="l00366"></a>00366         fp = stdout;
<a name="l00367"></a>00367           }
<a name="l00368"></a>00368         <span class="keywordflow">else</span>
<a name="l00369"></a>00369           closepager=1;
<a name="l00370"></a>00370       }
<a name="l00371"></a>00371     <span class="keywordflow">else</span>
<a name="l00372"></a>00372       fp = stdout;
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <span class="keywordflow">if</span> (! strcmp(cmd-&gt;<a class="code" href="structcmd__element.html#a8c80d3a57bae0cb6d6f1d6f6bf2ba1a3">string</a>,<span class="stringliteral">&quot;configure terminal&quot;</span>))
<a name="l00375"></a>00375       {
<a name="l00376"></a>00376         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l00377"></a>00377           {
<a name="l00378"></a>00378             cmd_stat = <a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">vtysh_client_execute</a>(&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i], line, fp);
<a name="l00379"></a>00379         <span class="keywordflow">if</span> (cmd_stat == <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>)
<a name="l00380"></a>00380           <span class="keywordflow">break</span>;
<a name="l00381"></a>00381           }
<a name="l00382"></a>00382 
<a name="l00383"></a>00383         <span class="keywordflow">if</span> (cmd_stat)
<a name="l00384"></a>00384           {
<a name="l00385"></a>00385         line = <span class="stringliteral">&quot;end&quot;</span>;
<a name="l00386"></a>00386         vline = <a class="code" href="command_8c.html#a968b2f52fc543595fa4ce625f5fdb6a3">cmd_make_strvec</a> (line);
<a name="l00387"></a>00387 
<a name="l00388"></a>00388         <span class="keywordflow">if</span> (vline == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00389"></a>00389           {
<a name="l00390"></a>00390             <span class="keywordflow">if</span> (pager &amp;&amp; <a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> &amp;&amp; fp &amp;&amp; closepager)
<a name="l00391"></a>00391               {
<a name="l00392"></a>00392             <span class="keywordflow">if</span> (pclose (fp) == -1)
<a name="l00393"></a>00393               {
<a name="l00394"></a>00394                 perror (<span class="stringliteral">&quot;pclose failed for pager&quot;</span>);
<a name="l00395"></a>00395               }
<a name="l00396"></a>00396             fp = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00397"></a>00397               }
<a name="l00398"></a>00398             <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00399"></a>00399           }
<a name="l00400"></a>00400 
<a name="l00401"></a>00401         ret = <a class="code" href="command_8c.html#acf65ad66c233b7722618e8f3725145e0">cmd_execute_command</a> (vline, vty, &amp;cmd, 1);
<a name="l00402"></a>00402         <a class="code" href="command_8c.html#a2d4e7d3f3fe917dafa06eb6d156d9a6e">cmd_free_strvec</a> (vline);
<a name="l00403"></a>00403         <span class="keywordflow">if</span> (ret != <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a>)
<a name="l00404"></a>00404           <span class="keywordflow">break</span>;
<a name="l00405"></a>00405           }
<a name="l00406"></a>00406         <span class="keywordflow">else</span>
<a name="l00407"></a>00407           <span class="keywordflow">if</span> (cmd-&gt;<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a>)
<a name="l00408"></a>00408         {
<a name="l00409"></a>00409           (*cmd-&gt;<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a>) (cmd, vty, 0, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00410"></a>00410           <span class="keywordflow">break</span>;
<a name="l00411"></a>00411         }
<a name="l00412"></a>00412       }
<a name="l00413"></a>00413 
<a name="l00414"></a>00414     cmd_stat = <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00415"></a>00415     <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l00416"></a>00416       {
<a name="l00417"></a>00417         <span class="keywordflow">if</span> (cmd-&gt;<a class="code" href="structcmd__element.html#ae42c9a4478f400fc54a157b52ea977b7">daemon</a> &amp; <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].<a class="code" href="structvtysh__client.html#a28f03c5dc1deaa9e6ec8df96324c368c">flag</a>)
<a name="l00418"></a>00418           {
<a name="l00419"></a>00419             cmd_stat = <a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">vtysh_client_execute</a>(&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i], line, fp);
<a name="l00420"></a>00420         <span class="keywordflow">if</span> (cmd_stat != <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>)
<a name="l00421"></a>00421           <span class="keywordflow">break</span>;
<a name="l00422"></a>00422           }
<a name="l00423"></a>00423       }
<a name="l00424"></a>00424     <span class="keywordflow">if</span> (cmd_stat != <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>)
<a name="l00425"></a>00425       <span class="keywordflow">break</span>;
<a name="l00426"></a>00426 
<a name="l00427"></a>00427     <span class="keywordflow">if</span> (cmd-&gt;<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a>)
<a name="l00428"></a>00428       (*cmd-&gt;<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a>) (cmd, vty, 0, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00429"></a>00429       }
<a name="l00430"></a>00430     }
<a name="l00431"></a>00431   <span class="keywordflow">if</span> (pager &amp;&amp; <a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> &amp;&amp; fp &amp;&amp; closepager)
<a name="l00432"></a>00432     {
<a name="l00433"></a>00433       <span class="keywordflow">if</span> (pclose (fp) == -1)
<a name="l00434"></a>00434     {
<a name="l00435"></a>00435       perror (<span class="stringliteral">&quot;pclose failed for pager&quot;</span>);
<a name="l00436"></a>00436     }
<a name="l00437"></a>00437       fp = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00438"></a>00438     }
<a name="l00439"></a>00439   <span class="keywordflow">return</span> cmd_stat;
<a name="l00440"></a>00440 }
<a name="l00441"></a>00441 
<a name="l00442"></a>00442 <span class="keywordtype">int</span>
<a name="l00443"></a><a class="code" href="vtysh_8h.html#ac395c31d6b2d1a0698de1fca19dbb128">00443</a> <a class="code" href="vtysh_8c.html#af04c7a1095e117c5c064f96269a5f3e5">vtysh_execute_no_pager</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *line)
<a name="l00444"></a>00444 {
<a name="l00445"></a>00445   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#add6c09fb9e4319229026374aec84be56">vtysh_execute_func</a> (line, 0);
<a name="l00446"></a>00446 }
<a name="l00447"></a>00447 
<a name="l00448"></a>00448 <span class="keywordtype">int</span>
<a name="l00449"></a><a class="code" href="vtysh_8h.html#ac5e7da66f8ee8e94bf9b19ecc2f66ae2">00449</a> <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *line)
<a name="l00450"></a>00450 {
<a name="l00451"></a>00451   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#add6c09fb9e4319229026374aec84be56">vtysh_execute_func</a> (line, 1);
<a name="l00452"></a>00452 }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454 <span class="comment">/* Configration make from file. */</span>
<a name="l00455"></a>00455 <span class="keywordtype">int</span>
<a name="l00456"></a><a class="code" href="vtysh_8h.html#a5ff2e95a42d6fbc21dc944ae05270201">00456</a> <a class="code" href="vtysh_8c.html#a132411707cd09c54f31ceb78ee4556a8">vtysh_config_from_file</a> (<span class="keyword">struct</span> vty *vty, FILE *fp)
<a name="l00457"></a>00457 {
<a name="l00458"></a>00458   <span class="keywordtype">int</span> ret;
<a name="l00459"></a>00459   <a class="code" href="struct__vector.html">vector</a> vline;
<a name="l00460"></a>00460   <span class="keyword">struct </span><a class="code" href="structcmd__element.html">cmd_element</a> *cmd;
<a name="l00461"></a>00461 
<a name="l00462"></a>00462   <span class="keywordflow">while</span> (fgets (vty-&gt;<a class="code" href="structvty.html#aa9d1b3b4593ff8e576a7e012c6b45570">buf</a>, <a class="code" href="vty_8h.html#a2d026199530c8617fbb5e0d89ab6cac1">VTY_BUFSIZ</a>, fp))
<a name="l00463"></a>00463     {
<a name="l00464"></a>00464       <span class="keywordflow">if</span> (vty-&gt;<a class="code" href="structvty.html#aa9d1b3b4593ff8e576a7e012c6b45570">buf</a>[0] == <span class="charliteral">&#39;!&#39;</span> || vty-&gt;<a class="code" href="structvty.html#aa9d1b3b4593ff8e576a7e012c6b45570">buf</a>[1] == <span class="charliteral">&#39;#&#39;</span>)
<a name="l00465"></a>00465     <span class="keywordflow">continue</span>;
<a name="l00466"></a>00466 
<a name="l00467"></a>00467       vline = <a class="code" href="command_8c.html#a968b2f52fc543595fa4ce625f5fdb6a3">cmd_make_strvec</a> (vty-&gt;<a class="code" href="structvty.html#aa9d1b3b4593ff8e576a7e012c6b45570">buf</a>);
<a name="l00468"></a>00468 
<a name="l00469"></a>00469       <span class="comment">/* In case of comment line. */</span>
<a name="l00470"></a>00470       <span class="keywordflow">if</span> (vline == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00471"></a>00471     <span class="keywordflow">continue</span>;
<a name="l00472"></a>00472 
<a name="l00473"></a>00473       <span class="comment">/* Execute configuration command : this is strict match. */</span>
<a name="l00474"></a>00474       ret = <a class="code" href="command_8c.html#a505b7841f868d0ed5d0273ef09cf22bb">cmd_execute_command_strict</a> (vline, vty, &amp;cmd);
<a name="l00475"></a>00475 
<a name="l00476"></a>00476       <span class="comment">/* Try again with setting node to CONFIG_NODE. */</span>
<a name="l00477"></a>00477       <span class="keywordflow">if</span> (ret != <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a> 
<a name="l00478"></a>00478       &amp;&amp; ret != <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a>
<a name="l00479"></a>00479       &amp;&amp; ret != <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>)
<a name="l00480"></a>00480     {
<a name="l00481"></a>00481       <span class="keywordflow">if</span> (vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>)
<a name="l00482"></a>00482         {
<a name="l00483"></a>00483           vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>;
<a name="l00484"></a>00484           <a class="code" href="vtysh_8c.html#a85890c81c0612a668337127ed1ad014c">vtysh_exit_ripd_only</a> ();
<a name="l00485"></a>00485           ret = <a class="code" href="command_8c.html#a505b7841f868d0ed5d0273ef09cf22bb">cmd_execute_command_strict</a> (vline, vty, &amp;cmd);
<a name="l00486"></a>00486 
<a name="l00487"></a>00487           <span class="keywordflow">if</span> (ret != <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a> 
<a name="l00488"></a>00488           &amp;&amp; ret != <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a> 
<a name="l00489"></a>00489           &amp;&amp; ret != <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>)
<a name="l00490"></a>00490         {
<a name="l00491"></a>00491           <a class="code" href="vtysh_8c.html#a85890c81c0612a668337127ed1ad014c">vtysh_exit_ripd_only</a> ();
<a name="l00492"></a>00492           vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>;
<a name="l00493"></a>00493           ret = <a class="code" href="command_8c.html#a505b7841f868d0ed5d0273ef09cf22bb">cmd_execute_command_strict</a> (vline, vty, &amp;cmd);
<a name="l00494"></a>00494         }
<a name="l00495"></a>00495         }
<a name="l00496"></a>00496       <span class="keywordflow">else</span>
<a name="l00497"></a>00497         {
<a name="l00498"></a>00498           <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<span class="stringliteral">&quot;end&quot;</span>);
<a name="l00499"></a>00499           <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a> (<span class="stringliteral">&quot;configure terminal&quot;</span>);
<a name="l00500"></a>00500           vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>;
<a name="l00501"></a>00501           ret = <a class="code" href="command_8c.html#a505b7841f868d0ed5d0273ef09cf22bb">cmd_execute_command_strict</a> (vline, vty, &amp;cmd);
<a name="l00502"></a>00502         }
<a name="l00503"></a>00503     }     
<a name="l00504"></a>00504 
<a name="l00505"></a>00505       <a class="code" href="command_8c.html#a2d4e7d3f3fe917dafa06eb6d156d9a6e">cmd_free_strvec</a> (vline);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507       <span class="keywordflow">switch</span> (ret)
<a name="l00508"></a>00508     {
<a name="l00509"></a>00509     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>:
<a name="l00510"></a>00510       <span class="keywordflow">if</span> (vty-&gt;<a class="code" href="structvty.html#a918d01c53936e81c45a177b0ceda3eca">type</a> == VTY_FILE)
<a name="l00511"></a>00511         fprintf (stdout,<span class="stringliteral">&quot;Warning...\n&quot;</span>);
<a name="l00512"></a>00512       <span class="keywordflow">break</span>;
<a name="l00513"></a>00513     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#aaca9c63a322f9ed0311fd20404ce8e9a">CMD_ERR_AMBIGUOUS</a>:
<a name="l00514"></a>00514       fprintf (stdout,<span class="stringliteral">&quot;%% Ambiguous command.\n&quot;</span>);
<a name="l00515"></a>00515       <span class="keywordflow">break</span>;
<a name="l00516"></a>00516     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a007b585758677d61751303a88c8914d5">CMD_ERR_NO_MATCH</a>:
<a name="l00517"></a>00517       fprintf (stdout,<span class="stringliteral">&quot;%% Unknown command: %s&quot;</span>, vty-&gt;<a class="code" href="structvty.html#aa9d1b3b4593ff8e576a7e012c6b45570">buf</a>);
<a name="l00518"></a>00518       <span class="keywordflow">break</span>;
<a name="l00519"></a>00519     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a9442a1eab547aab6955358c45814015c">CMD_ERR_INCOMPLETE</a>:
<a name="l00520"></a>00520       fprintf (stdout,<span class="stringliteral">&quot;%% Command incomplete.\n&quot;</span>);
<a name="l00521"></a>00521       <span class="keywordflow">break</span>;
<a name="l00522"></a>00522     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a8d7629f3e6636982242e203d410b8bed">CMD_SUCCESS_DAEMON</a>:
<a name="l00523"></a>00523       {
<a name="l00524"></a>00524         u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l00525"></a>00525         <span class="keywordtype">int</span> cmd_stat = <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00526"></a>00526 
<a name="l00527"></a>00527         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l00528"></a>00528           {
<a name="l00529"></a>00529             <span class="keywordflow">if</span> (cmd-&gt;<a class="code" href="structcmd__element.html#ae42c9a4478f400fc54a157b52ea977b7">daemon</a> &amp; <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].<a class="code" href="structvtysh__client.html#a28f03c5dc1deaa9e6ec8df96324c368c">flag</a>)
<a name="l00530"></a>00530           {
<a name="l00531"></a>00531             cmd_stat = <a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">vtysh_client_execute</a> (&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i],
<a name="l00532"></a>00532                              vty-&gt;<a class="code" href="structvty.html#aa9d1b3b4593ff8e576a7e012c6b45570">buf</a>, stdout);
<a name="l00533"></a>00533             <span class="keywordflow">if</span> (cmd_stat != <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>)
<a name="l00534"></a>00534               <span class="keywordflow">break</span>;
<a name="l00535"></a>00535           }
<a name="l00536"></a>00536           }
<a name="l00537"></a>00537         <span class="keywordflow">if</span> (cmd_stat != <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>)
<a name="l00538"></a>00538           <span class="keywordflow">break</span>;
<a name="l00539"></a>00539 
<a name="l00540"></a>00540         <span class="keywordflow">if</span> (cmd-&gt;<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a>)
<a name="l00541"></a>00541           (*cmd-&gt;<a class="code" href="structcmd__element.html#ae2c6558413d282f35bbe645a381c7355">func</a>) (cmd, vty, 0, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00542"></a>00542       }
<a name="l00543"></a>00543     }
<a name="l00544"></a>00544     }
<a name="l00545"></a>00545   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00546"></a>00546 }
<a name="l00547"></a>00547 
<a name="l00548"></a>00548 <span class="comment">/* We don&#39;t care about the point of the cursor when &#39;?&#39; is typed. */</span>
<a name="l00549"></a>00549 <span class="keywordtype">int</span>
<a name="l00550"></a><a class="code" href="vtysh_8c.html#a74e77d84ee6e2039252cb6794abff49f">00550</a> <a class="code" href="vtysh_8c.html#a74e77d84ee6e2039252cb6794abff49f">vtysh_rl_describe</a> (<span class="keywordtype">void</span>)
<a name="l00551"></a>00551 {
<a name="l00552"></a>00552   <span class="keywordtype">int</span> ret;
<a name="l00553"></a>00553   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l00554"></a>00554   <a class="code" href="struct__vector.html">vector</a> vline;
<a name="l00555"></a>00555   <a class="code" href="struct__vector.html">vector</a> describe;
<a name="l00556"></a>00556   <span class="keywordtype">int</span> width;
<a name="l00557"></a>00557   <span class="keyword">struct </span><a class="code" href="structdesc.html">desc</a> *<a class="code" href="structdesc.html">desc</a>;
<a name="l00558"></a>00558 
<a name="l00559"></a>00559   vline = <a class="code" href="command_8c.html#a968b2f52fc543595fa4ce625f5fdb6a3">cmd_make_strvec</a> (rl_line_buffer);
<a name="l00560"></a>00560 
<a name="l00561"></a>00561   <span class="comment">/* In case of &#39;&gt; ?&#39;. */</span>
<a name="l00562"></a>00562   <span class="keywordflow">if</span> (vline == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00563"></a>00563     {
<a name="l00564"></a>00564       vline = <a class="code" href="vector_8c.html#ae6a929ac3530de06eee1df3629d15247">vector_init</a> (1);
<a name="l00565"></a>00565       <a class="code" href="vector_8c.html#a09dff784fcc0e322c64e5975b3255fe0">vector_set</a> (vline, <span class="charliteral">&#39;\0&#39;</span>);
<a name="l00566"></a>00566     }
<a name="l00567"></a>00567   <span class="keywordflow">else</span> 
<a name="l00568"></a>00568     <span class="keywordflow">if</span> (rl_end &amp;&amp; isspace ((<span class="keywordtype">int</span>) rl_line_buffer[rl_end - 1]))
<a name="l00569"></a>00569       <a class="code" href="vector_8c.html#a09dff784fcc0e322c64e5975b3255fe0">vector_set</a> (vline, <span class="charliteral">&#39;\0&#39;</span>);
<a name="l00570"></a>00570 
<a name="l00571"></a>00571   describe = <a class="code" href="command_8c.html#a7cd7526d1c0ed77e854952eca9209502">cmd_describe_command</a> (vline, vty, &amp;ret);
<a name="l00572"></a>00572 
<a name="l00573"></a>00573   fprintf (stdout,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00574"></a>00574 
<a name="l00575"></a>00575   <span class="comment">/* Ambiguous and no match error. */</span>
<a name="l00576"></a>00576   <span class="keywordflow">switch</span> (ret)
<a name="l00577"></a>00577     {
<a name="l00578"></a>00578     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#aaca9c63a322f9ed0311fd20404ce8e9a">CMD_ERR_AMBIGUOUS</a>:
<a name="l00579"></a>00579       <a class="code" href="command_8c.html#a2d4e7d3f3fe917dafa06eb6d156d9a6e">cmd_free_strvec</a> (vline);
<a name="l00580"></a>00580       fprintf (stdout,<span class="stringliteral">&quot;%% Ambiguous command.\n&quot;</span>);
<a name="l00581"></a>00581       rl_on_new_line ();
<a name="l00582"></a>00582       <span class="keywordflow">return</span> 0;
<a name="l00583"></a>00583       <span class="keywordflow">break</span>;
<a name="l00584"></a>00584     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a007b585758677d61751303a88c8914d5">CMD_ERR_NO_MATCH</a>:
<a name="l00585"></a>00585       <a class="code" href="command_8c.html#a2d4e7d3f3fe917dafa06eb6d156d9a6e">cmd_free_strvec</a> (vline);
<a name="l00586"></a>00586       fprintf (stdout,<span class="stringliteral">&quot;%% There is no matched command.\n&quot;</span>);
<a name="l00587"></a>00587       rl_on_new_line ();
<a name="l00588"></a>00588       <span class="keywordflow">return</span> 0;
<a name="l00589"></a>00589       <span class="keywordflow">break</span>;
<a name="l00590"></a>00590     }  
<a name="l00591"></a>00591 
<a name="l00592"></a>00592   <span class="comment">/* Get width of command string. */</span>
<a name="l00593"></a>00593   width = 0;
<a name="l00594"></a>00594   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (describe); i++)
<a name="l00595"></a>00595     <span class="keywordflow">if</span> ((desc = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (describe, i)) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00596"></a>00596       {
<a name="l00597"></a>00597     <span class="keywordtype">int</span> len;
<a name="l00598"></a>00598 
<a name="l00599"></a>00599     <span class="keywordflow">if</span> (desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a>[0] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l00600"></a>00600       <span class="keywordflow">continue</span>;
<a name="l00601"></a>00601 
<a name="l00602"></a>00602     len = strlen (desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a>);
<a name="l00603"></a>00603     <span class="keywordflow">if</span> (desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a>[0] == <span class="charliteral">&#39;.&#39;</span>)
<a name="l00604"></a>00604       len--;
<a name="l00605"></a>00605 
<a name="l00606"></a>00606     <span class="keywordflow">if</span> (width &lt; len)
<a name="l00607"></a>00607       width = len;
<a name="l00608"></a>00608       }
<a name="l00609"></a>00609 
<a name="l00610"></a>00610   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vector_8h.html#ac96b7beddf251a81df131543d06d63c7">vector_active</a> (describe); i++)
<a name="l00611"></a>00611     <span class="keywordflow">if</span> ((desc = <a class="code" href="vector_8h.html#a34cb4a77fbd6ab6cb23707cdd1c4c0d2">vector_slot</a> (describe, i)) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00612"></a>00612       {
<a name="l00613"></a>00613     <span class="keywordflow">if</span> (desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a>[0] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l00614"></a>00614       <span class="keywordflow">continue</span>;
<a name="l00615"></a>00615 
<a name="l00616"></a>00616     <span class="keywordflow">if</span> (! desc-&gt;<a class="code" href="structdesc.html#ad00be16e06d1e70d8a047cae757be275">str</a>)
<a name="l00617"></a>00617       fprintf (stdout,<span class="stringliteral">&quot;  %-s\n&quot;</span>,
<a name="l00618"></a>00618            desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a>[0] == <span class="charliteral">&#39;.&#39;</span> ? desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a> + 1 : desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a>);
<a name="l00619"></a>00619     <span class="keywordflow">else</span>
<a name="l00620"></a>00620       fprintf (stdout,<span class="stringliteral">&quot;  %-*s  %s\n&quot;</span>,
<a name="l00621"></a>00621            width,
<a name="l00622"></a>00622            desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a>[0] == <span class="charliteral">&#39;.&#39;</span> ? desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a> + 1 : desc-&gt;<a class="code" href="structdesc.html#a4a8b851af1764597117afabeeb7c92c1">cmd</a>,
<a name="l00623"></a>00623            desc-&gt;<a class="code" href="structdesc.html#ad00be16e06d1e70d8a047cae757be275">str</a>);
<a name="l00624"></a>00624       }
<a name="l00625"></a>00625 
<a name="l00626"></a>00626   <a class="code" href="command_8c.html#a2d4e7d3f3fe917dafa06eb6d156d9a6e">cmd_free_strvec</a> (vline);
<a name="l00627"></a>00627   <a class="code" href="vector_8c.html#af535d7daaa1dc88a3ac5c4451a6296f0">vector_free</a> (describe);
<a name="l00628"></a>00628 
<a name="l00629"></a>00629   rl_on_new_line();
<a name="l00630"></a>00630 
<a name="l00631"></a>00631   <span class="keywordflow">return</span> 0;
<a name="l00632"></a>00632 }
<a name="l00633"></a>00633 
<a name="l00634"></a>00634 <span class="comment">/* Result of cmd_complete_command() call will be stored here</span>
<a name="l00635"></a>00635 <span class="comment"> * and used in new_completion() in order to put the space in</span>
<a name="l00636"></a>00636 <span class="comment"> * correct places only. */</span>
<a name="l00637"></a><a class="code" href="vtysh_8c.html#af81b590d8fc9b3cd11c7f36965655678">00637</a> <span class="keywordtype">int</span> <a class="code" href="vtysh_8c.html#af81b590d8fc9b3cd11c7f36965655678">complete_status</a>;
<a name="l00638"></a>00638 
<a name="l00639"></a>00639 <span class="keyword">static</span> <span class="keywordtype">char</span> *
<a name="l00640"></a><a class="code" href="vtysh_8c.html#a3df9b86b732ce8e1176c8db7a09b5594">00640</a> <a class="code" href="vtysh_8c.html#a3df9b86b732ce8e1176c8db7a09b5594">command_generator</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> state)
<a name="l00641"></a>00641 {
<a name="l00642"></a>00642   <a class="code" href="struct__vector.html">vector</a> vline;
<a name="l00643"></a>00643   <span class="keyword">static</span> <span class="keywordtype">char</span> **matched = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00644"></a>00644   <span class="keyword">static</span> <span class="keywordtype">int</span> index = 0;
<a name="l00645"></a>00645 
<a name="l00646"></a>00646   <span class="comment">/* First call. */</span>
<a name="l00647"></a>00647   <span class="keywordflow">if</span> (! state)
<a name="l00648"></a>00648     {
<a name="l00649"></a>00649       index = 0;
<a name="l00650"></a>00650 
<a name="l00651"></a>00651       <span class="keywordflow">if</span> (vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a302e1f38939b1a74bc848007bb70bfdf">AUTH_NODE</a> || vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a96b74116564789f517eef9284f18b472">AUTH_ENABLE_NODE</a>)
<a name="l00652"></a>00652     <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654       vline = <a class="code" href="command_8c.html#a968b2f52fc543595fa4ce625f5fdb6a3">cmd_make_strvec</a> (rl_line_buffer);
<a name="l00655"></a>00655       <span class="keywordflow">if</span> (vline == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00656"></a>00656     <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00657"></a>00657 
<a name="l00658"></a>00658       <span class="keywordflow">if</span> (rl_end &amp;&amp; isspace ((<span class="keywordtype">int</span>) rl_line_buffer[rl_end - 1]))
<a name="l00659"></a>00659     <a class="code" href="vector_8c.html#a09dff784fcc0e322c64e5975b3255fe0">vector_set</a> (vline, <span class="charliteral">&#39;\0&#39;</span>);
<a name="l00660"></a>00660 
<a name="l00661"></a>00661       matched = <a class="code" href="command_8c.html#a1d01d855dff60ded22f25f24d8c6d715">cmd_complete_command</a> (vline, vty, &amp;<a class="code" href="vtysh_8c.html#af81b590d8fc9b3cd11c7f36965655678">complete_status</a>);
<a name="l00662"></a>00662     }
<a name="l00663"></a>00663 
<a name="l00664"></a>00664   <span class="keywordflow">if</span> (matched &amp;&amp; matched[index])
<a name="l00665"></a>00665     <span class="keywordflow">return</span> matched[index++];
<a name="l00666"></a>00666 
<a name="l00667"></a>00667   <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00668"></a>00668 }
<a name="l00669"></a>00669 
<a name="l00670"></a>00670 <span class="keyword">static</span> <span class="keywordtype">char</span> **
<a name="l00671"></a><a class="code" href="vtysh_8c.html#a6181004aff2720bbe238406010a4e09f">00671</a> <a class="code" href="vtysh_8c.html#a6181004aff2720bbe238406010a4e09f">new_completion</a> (<span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> end)
<a name="l00672"></a>00672 {
<a name="l00673"></a>00673   <span class="keywordtype">char</span> **matches;
<a name="l00674"></a>00674 
<a name="l00675"></a>00675   matches = rl_completion_matches (text, <a class="code" href="vtysh_8c.html#a3df9b86b732ce8e1176c8db7a09b5594">command_generator</a>);
<a name="l00676"></a>00676 
<a name="l00677"></a>00677   <span class="keywordflow">if</span> (matches)
<a name="l00678"></a>00678     {
<a name="l00679"></a>00679       rl_point = rl_end;
<a name="l00680"></a>00680       <span class="keywordflow">if</span> (<a class="code" href="vtysh_8c.html#af81b590d8fc9b3cd11c7f36965655678">complete_status</a> == <a class="code" href="command_8h.html#ad5ac7be44eb88dbf764939677e82b10f">CMD_COMPLETE_FULL_MATCH</a>)
<a name="l00681"></a>00681     rl_pending_input = <span class="charliteral">&#39; &#39;</span>;
<a name="l00682"></a>00682     }
<a name="l00683"></a>00683 
<a name="l00684"></a>00684   <span class="keywordflow">return</span> matches;
<a name="l00685"></a>00685 }
<a name="l00686"></a>00686 
<a name="l00687"></a>00687 <span class="preprocessor">#if 0</span>
<a name="l00688"></a>00688 <span class="preprocessor"></span><span class="comment">/* This function is not actually being used. */</span>
<a name="l00689"></a>00689 <span class="keyword">static</span> <span class="keywordtype">char</span> **
<a name="l00690"></a>00690 vtysh_completion (<span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> end)
<a name="l00691"></a>00691 {
<a name="l00692"></a>00692   <span class="keywordtype">int</span> ret;
<a name="l00693"></a>00693   <a class="code" href="struct__vector.html">vector</a> vline;
<a name="l00694"></a>00694   <span class="keywordtype">char</span> **matched = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00695"></a>00695 
<a name="l00696"></a>00696   <span class="keywordflow">if</span> (vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a302e1f38939b1a74bc848007bb70bfdf">AUTH_NODE</a> || vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a96b74116564789f517eef9284f18b472">AUTH_ENABLE_NODE</a>)
<a name="l00697"></a>00697     <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00698"></a>00698 
<a name="l00699"></a>00699   vline = <a class="code" href="command_8c.html#a968b2f52fc543595fa4ce625f5fdb6a3">cmd_make_strvec</a> (rl_line_buffer);
<a name="l00700"></a>00700   <span class="keywordflow">if</span> (vline == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00701"></a>00701     <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00702"></a>00702 
<a name="l00703"></a>00703   <span class="comment">/* In case of &#39;help \t&#39;. */</span>
<a name="l00704"></a>00704   <span class="keywordflow">if</span> (rl_end &amp;&amp; isspace ((<span class="keywordtype">int</span>) rl_line_buffer[rl_end - 1]))
<a name="l00705"></a>00705     <a class="code" href="vector_8c.html#a09dff784fcc0e322c64e5975b3255fe0">vector_set</a> (vline, <span class="charliteral">&#39;\0&#39;</span>);
<a name="l00706"></a>00706 
<a name="l00707"></a>00707   matched = <a class="code" href="command_8c.html#a1d01d855dff60ded22f25f24d8c6d715">cmd_complete_command</a> (vline, vty, &amp;ret);
<a name="l00708"></a>00708 
<a name="l00709"></a>00709   <a class="code" href="command_8c.html#a2d4e7d3f3fe917dafa06eb6d156d9a6e">cmd_free_strvec</a> (vline);
<a name="l00710"></a>00710 
<a name="l00711"></a>00711   <span class="keywordflow">return</span> (<span class="keywordtype">char</span> **) matched;
<a name="l00712"></a>00712 }
<a name="l00713"></a>00713 <span class="preprocessor">#endif</span>
<a name="l00714"></a>00714 <span class="preprocessor"></span>
<a name="l00715"></a>00715 <span class="comment">/* Vty node structures. */</span>
<a name="l00716"></a><a class="code" href="vtysh_8c.html#aa55e59581f153b9dba3db593f9f7c32f">00716</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="structbgp__node.html">bgp_node</a> =
<a name="l00717"></a>00717 {
<a name="l00718"></a>00718   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>,
<a name="l00719"></a>00719   <span class="stringliteral">&quot;%s(config-router)# &quot;</span>,
<a name="l00720"></a>00720 };
<a name="l00721"></a>00721 
<a name="l00722"></a><a class="code" href="vtysh_8c.html#a85bd7b4a319ea721a2f61bd50e4d6a86">00722</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a85bd7b4a319ea721a2f61bd50e4d6a86">rip_node</a> =
<a name="l00723"></a>00723 {
<a name="l00724"></a>00724   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682aba91035637d2e661aaea111ea200751a">RIP_NODE</a>,
<a name="l00725"></a>00725   <span class="stringliteral">&quot;%s(config-router)# &quot;</span>,
<a name="l00726"></a>00726 };
<a name="l00727"></a>00727 
<a name="l00728"></a><a class="code" href="vtysh_8c.html#a4a5d1125129700662fa72b2913781daf">00728</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a4a5d1125129700662fa72b2913781daf">isis_node</a> =
<a name="l00729"></a>00729 {
<a name="l00730"></a>00730   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab25ba1a66148ff64a7b5aa681cc8c2dd">ISIS_NODE</a>,
<a name="l00731"></a>00731   <span class="stringliteral">&quot;%s(config-router)# &quot;</span>,
<a name="l00732"></a>00732 };
<a name="l00733"></a>00733 
<a name="l00734"></a><a class="code" href="vtysh_8c.html#a16f01e8f31d361deea8af5ea55c2d2ec">00734</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="ospf__vty_8c.html#a16f01e8f31d361deea8af5ea55c2d2ec">interface_node</a> =
<a name="l00735"></a>00735 {
<a name="l00736"></a>00736   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>,
<a name="l00737"></a>00737   <span class="stringliteral">&quot;%s(config-if)# &quot;</span>,
<a name="l00738"></a>00738 };
<a name="l00739"></a>00739 
<a name="l00740"></a><a class="code" href="vtysh_8c.html#a000ff6b0687a1583316c548e31d26aaf">00740</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a000ff6b0687a1583316c548e31d26aaf">rmap_node</a> =
<a name="l00741"></a>00741 {
<a name="l00742"></a>00742   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>,
<a name="l00743"></a>00743   <span class="stringliteral">&quot;%s(config-route-map)# &quot;</span>
<a name="l00744"></a>00744 };
<a name="l00745"></a>00745 
<a name="l00746"></a><a class="code" href="vtysh_8c.html#a6683c482f9e771c44b2279e90606739e">00746</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a6683c482f9e771c44b2279e90606739e">zebra_node</a> =
<a name="l00747"></a>00747 {
<a name="l00748"></a>00748   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682af7fc20f627618eee254477289b890df3">ZEBRA_NODE</a>,
<a name="l00749"></a>00749   <span class="stringliteral">&quot;%s(config-router)# &quot;</span>
<a name="l00750"></a>00750 };
<a name="l00751"></a>00751 
<a name="l00752"></a><a class="code" href="vtysh_8c.html#a336f1ec2bed23d59f1cea6e3d91dc86b">00752</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a336f1ec2bed23d59f1cea6e3d91dc86b">bgp_vpnv4_node</a> =
<a name="l00753"></a>00753 {
<a name="l00754"></a>00754   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>,
<a name="l00755"></a>00755   <span class="stringliteral">&quot;%s(config-router-af)# &quot;</span>
<a name="l00756"></a>00756 };
<a name="l00757"></a>00757 
<a name="l00758"></a><a class="code" href="vtysh_8c.html#a98af8f4784ccea3198a3abbde6d0b0ff">00758</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a98af8f4784ccea3198a3abbde6d0b0ff">bgp_ipv4_node</a> =
<a name="l00759"></a>00759 {
<a name="l00760"></a>00760   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>,
<a name="l00761"></a>00761   <span class="stringliteral">&quot;%s(config-router-af)# &quot;</span>
<a name="l00762"></a>00762 };
<a name="l00763"></a>00763 
<a name="l00764"></a><a class="code" href="vtysh_8c.html#af07cd5c213060ecd0a9365acf8fdc932">00764</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#af07cd5c213060ecd0a9365acf8fdc932">bgp_ipv4m_node</a> =
<a name="l00765"></a>00765 {
<a name="l00766"></a>00766   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>,
<a name="l00767"></a>00767   <span class="stringliteral">&quot;%s(config-router-af)# &quot;</span>
<a name="l00768"></a>00768 };
<a name="l00769"></a>00769 
<a name="l00770"></a><a class="code" href="vtysh_8c.html#aa470beda5dc7625731ac590e5c20b9a0">00770</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#aa470beda5dc7625731ac590e5c20b9a0">bgp_ipv6_node</a> =
<a name="l00771"></a>00771 {
<a name="l00772"></a>00772   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>,
<a name="l00773"></a>00773   <span class="stringliteral">&quot;%s(config-router-af)# &quot;</span>
<a name="l00774"></a>00774 };
<a name="l00775"></a>00775 
<a name="l00776"></a><a class="code" href="vtysh_8c.html#a0fe06be049c077a2b97d17c3b8f01d52">00776</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a0fe06be049c077a2b97d17c3b8f01d52">bgp_ipv6m_node</a> =
<a name="l00777"></a>00777 {
<a name="l00778"></a>00778   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>,
<a name="l00779"></a>00779   <span class="stringliteral">&quot;%s(config-router-af)# &quot;</span>
<a name="l00780"></a>00780 };
<a name="l00781"></a>00781 
<a name="l00782"></a><a class="code" href="vtysh_8c.html#a22ef01890c47d71528358dd276f93df1">00782</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a22ef01890c47d71528358dd276f93df1">ospf_node</a> =
<a name="l00783"></a>00783 {
<a name="l00784"></a>00784   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a53037feb34b636b5cabbcdb85698ac35">OSPF_NODE</a>,
<a name="l00785"></a>00785   <span class="stringliteral">&quot;%s(config-router)# &quot;</span>
<a name="l00786"></a>00786 };
<a name="l00787"></a>00787 
<a name="l00788"></a><a class="code" href="vtysh_8c.html#a286daa79e9b4faecb3db1b8b16eba2ed">00788</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a286daa79e9b4faecb3db1b8b16eba2ed">ripng_node</a> =
<a name="l00789"></a>00789 {
<a name="l00790"></a>00790   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a54754d9b49687991ae5cf0ba4d32dab2">RIPNG_NODE</a>,
<a name="l00791"></a>00791   <span class="stringliteral">&quot;%s(config-router)# &quot;</span>
<a name="l00792"></a>00792 };
<a name="l00793"></a>00793 
<a name="l00794"></a><a class="code" href="vtysh_8c.html#ae8691c427ab102d4d9203e5cb4dce40e">00794</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#ae8691c427ab102d4d9203e5cb4dce40e">ospf6_node</a> =
<a name="l00795"></a>00795 {
<a name="l00796"></a>00796   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>,
<a name="l00797"></a>00797   <span class="stringliteral">&quot;%s(config-ospf6)# &quot;</span>
<a name="l00798"></a>00798 };
<a name="l00799"></a>00799 
<a name="l00800"></a><a class="code" href="vtysh_8c.html#a23693dd5e02c15ebabfb28d4c1fc024f">00800</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#a23693dd5e02c15ebabfb28d4c1fc024f">keychain_node</a> =
<a name="l00801"></a>00801 {
<a name="l00802"></a>00802   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>,
<a name="l00803"></a>00803   <span class="stringliteral">&quot;%s(config-keychain)# &quot;</span>
<a name="l00804"></a>00804 };
<a name="l00805"></a>00805 
<a name="l00806"></a><a class="code" href="vtysh_8c.html#ab5d4e7bcfda008be2493061d3520be8a">00806</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vtysh_8c.html#ab5d4e7bcfda008be2493061d3520be8a">keychain_key_node</a> =
<a name="l00807"></a>00807 {
<a name="l00808"></a>00808   <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>,
<a name="l00809"></a>00809   <span class="stringliteral">&quot;%s(config-keychain-key)# &quot;</span>
<a name="l00810"></a>00810 };
<a name="l00811"></a>00811 
<a name="l00812"></a>00812 <span class="comment">/* Defined in lib/vty.c */</span>
<a name="l00813"></a>00813 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structcmd__node.html">cmd_node</a> <a class="code" href="vty_8c.html#a4515b7730ee408bb977cce603b51ce57">vty_node</a>;
<a name="l00814"></a>00814 
<a name="l00815"></a>00815 <span class="comment">/* When &#39;^Z&#39; is received from vty, move down to the enable mode. */</span>
<a name="l00816"></a>00816 <span class="keywordtype">int</span>
<a name="l00817"></a><a class="code" href="vtysh_8c.html#ab4ffa7202a53f3dcd90ce3b76b58c686">00817</a> <a class="code" href="vtysh_8c.html#ab4ffa7202a53f3dcd90ce3b76b58c686">vtysh_end</a> (<span class="keywordtype">void</span>)
<a name="l00818"></a>00818 {
<a name="l00819"></a>00819   <span class="keywordflow">switch</span> (vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a>)
<a name="l00820"></a>00820     {
<a name="l00821"></a>00821     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>:
<a name="l00822"></a>00822     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>:
<a name="l00823"></a>00823       <span class="comment">/* Nothing to do. */</span>
<a name="l00824"></a>00824       <span class="keywordflow">break</span>;
<a name="l00825"></a>00825     <span class="keywordflow">default</span>:
<a name="l00826"></a>00826       vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>;
<a name="l00827"></a>00827       <span class="keywordflow">break</span>;
<a name="l00828"></a>00828     }
<a name="l00829"></a>00829   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00830"></a>00830 }
<a name="l00831"></a>00831 
<a name="l00832"></a><a class="code" href="vtysh_8c.html#aacb4a95832b3ca48597fee9a285f918d">00832</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l00833"></a>00833      vtysh_end_all,
<a name="l00834"></a>00834      vtysh_end_all_cmd,
<a name="l00835"></a>00835      <span class="stringliteral">&quot;end&quot;</span>,
<a name="l00836"></a>00836      <span class="stringliteral">&quot;End current mode and change to enable mode\n&quot;</span>)
<a name="l00837"></a>00837 {
<a name="l00838"></a>00838   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#ab4ffa7202a53f3dcd90ce3b76b58c686">vtysh_end</a> ();
<a name="l00839"></a>00839 }
<a name="l00840"></a>00840 
<a name="l00841"></a><a class="code" href="vtysh_8c.html#a309599c04f3e427729aed6a492349026">00841</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00842"></a>00842      router_bgp,
<a name="l00843"></a>00843      router_bgp_cmd,
<a name="l00844"></a>00844      <span class="stringliteral">&quot;router bgp &quot;</span> <a class="code" href="bgp__vty_8h.html#a8799f670368c0af42774d6a740556afe">CMD_AS_RANGE</a>,
<a name="l00845"></a>00845      <a class="code" href="command_8h.html#a985579e5d4576dda3605a03feb161017">ROUTER_STR</a>
<a name="l00846"></a>00846      <a class="code" href="command_8h.html#a44a223791487ad235e39f42a47d60005">BGP_STR</a>
<a name="l00847"></a>00847      <a class="code" href="command_8h.html#a08051ff19b2d0b6fadba459bf0ed2df6">AS_STR</a>)
<a name="l00848"></a>00848 {
<a name="l00849"></a>00849   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>;
<a name="l00850"></a>00850   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00851"></a>00851 }
<a name="l00852"></a>00852 
<a name="l00853"></a><a class="code" href="vtysh_8c.html#a318d957d54bb26b1d07cdf36e8596541">00853</a> <a class="code" href="vtysh_8c.html#a318d957d54bb26b1d07cdf36e8596541">ALIAS_SH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00854"></a>00854       router_bgp,
<a name="l00855"></a>00855       router_bgp_view_cmd,
<a name="l00856"></a>00856       <span class="stringliteral">&quot;router bgp &quot;</span> <a class="code" href="bgp__vty_8h.html#a8799f670368c0af42774d6a740556afe">CMD_AS_RANGE</a> <span class="stringliteral">&quot; view WORD&quot;</span>,
<a name="l00857"></a>00857       <a class="code" href="command_8h.html#a985579e5d4576dda3605a03feb161017">ROUTER_STR</a>
<a name="l00858"></a>00858       <a class="code" href="command_8h.html#a44a223791487ad235e39f42a47d60005">BGP_STR</a>
<a name="l00859"></a>00859       <a class="code" href="command_8h.html#a08051ff19b2d0b6fadba459bf0ed2df6">AS_STR</a>
<a name="l00860"></a>00860       <span class="stringliteral">&quot;BGP view\n&quot;</span>
<a name="l00861"></a>00861       <span class="stringliteral">&quot;view name\n&quot;</span>)
<a name="l00862"></a>00862 
<a name="l00863"></a>00863 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00864"></a>00864      address_family_vpnv4,
<a name="l00865"></a>00865      address_family_vpnv4_cmd,
<a name="l00866"></a>00866      <span class="stringliteral">&quot;address-family vpnv4&quot;</span>,
<a name="l00867"></a>00867      <span class="stringliteral">&quot;Enter Address Family command mode\n&quot;</span>
<a name="l00868"></a>00868      <span class="stringliteral">&quot;Address family\n&quot;</span>)
<a name="l00869"></a>00869 {
<a name="l00870"></a>00870   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>;
<a name="l00871"></a>00871   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00872"></a>00872 }
<a name="l00873"></a>00873 
<a name="l00874"></a><a class="code" href="vtysh_8c.html#a2dc4045fbb29ecdf6ac49c05d88fcea9">00874</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00875"></a>00875      address_family_vpnv4_unicast,
<a name="l00876"></a>00876      address_family_vpnv4_unicast_cmd,
<a name="l00877"></a>00877      <span class="stringliteral">&quot;address-family vpnv4 unicast&quot;</span>,
<a name="l00878"></a>00878      <span class="stringliteral">&quot;Enter Address Family command mode\n&quot;</span>
<a name="l00879"></a>00879      <span class="stringliteral">&quot;Address family\n&quot;</span>
<a name="l00880"></a>00880      <span class="stringliteral">&quot;Address Family Modifier\n&quot;</span>)
<a name="l00881"></a>00881 {
<a name="l00882"></a>00882   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>;
<a name="l00883"></a>00883   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00884"></a>00884 }
<a name="l00885"></a>00885 
<a name="l00886"></a><a class="code" href="vtysh_8c.html#a2ec94722d639def0c1d3582303cafbf3">00886</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00887"></a>00887      address_family_ipv4_unicast,
<a name="l00888"></a>00888      address_family_ipv4_unicast_cmd,
<a name="l00889"></a>00889      <span class="stringliteral">&quot;address-family ipv4 unicast&quot;</span>,
<a name="l00890"></a>00890      <span class="stringliteral">&quot;Enter Address Family command mode\n&quot;</span>
<a name="l00891"></a>00891      <span class="stringliteral">&quot;Address family\n&quot;</span>
<a name="l00892"></a>00892      <span class="stringliteral">&quot;Address Family Modifier\n&quot;</span>)
<a name="l00893"></a>00893 {
<a name="l00894"></a>00894   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>;
<a name="l00895"></a>00895   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00896"></a>00896 }
<a name="l00897"></a>00897 
<a name="l00898"></a><a class="code" href="vtysh_8c.html#acb68573f2b1b6abf596c43c3ce7480f0">00898</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00899"></a>00899      address_family_ipv4_multicast,
<a name="l00900"></a>00900      address_family_ipv4_multicast_cmd,
<a name="l00901"></a>00901      <span class="stringliteral">&quot;address-family ipv4 multicast&quot;</span>,
<a name="l00902"></a>00902      <span class="stringliteral">&quot;Enter Address Family command mode\n&quot;</span>
<a name="l00903"></a>00903      <span class="stringliteral">&quot;Address family\n&quot;</span>
<a name="l00904"></a>00904      <span class="stringliteral">&quot;Address Family Modifier\n&quot;</span>)
<a name="l00905"></a>00905 {
<a name="l00906"></a>00906   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>;
<a name="l00907"></a>00907   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00908"></a>00908 }
<a name="l00909"></a>00909 
<a name="l00910"></a><a class="code" href="vtysh_8c.html#ac5c792c9f857248e2dc46ad9177358e3">00910</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00911"></a>00911      address_family_ipv6,
<a name="l00912"></a>00912      address_family_ipv6_cmd,
<a name="l00913"></a>00913      <span class="stringliteral">&quot;address-family ipv6&quot;</span>,
<a name="l00914"></a>00914      <span class="stringliteral">&quot;Enter Address Family command mode\n&quot;</span>
<a name="l00915"></a>00915      <span class="stringliteral">&quot;Address family\n&quot;</span>)
<a name="l00916"></a>00916 {
<a name="l00917"></a>00917   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>;
<a name="l00918"></a>00918   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00919"></a>00919 }
<a name="l00920"></a>00920 
<a name="l00921"></a><a class="code" href="vtysh_8c.html#a5f5282bb8416703b3d965199128761ad">00921</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00922"></a>00922      address_family_ipv6_unicast,
<a name="l00923"></a>00923      address_family_ipv6_unicast_cmd,
<a name="l00924"></a>00924      <span class="stringliteral">&quot;address-family ipv6 unicast&quot;</span>,
<a name="l00925"></a>00925      <span class="stringliteral">&quot;Enter Address Family command mode\n&quot;</span>
<a name="l00926"></a>00926      <span class="stringliteral">&quot;Address family\n&quot;</span>
<a name="l00927"></a>00927      <span class="stringliteral">&quot;Address Family Modifier\n&quot;</span>)
<a name="l00928"></a>00928 {
<a name="l00929"></a>00929   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>;
<a name="l00930"></a>00930   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00931"></a>00931 }
<a name="l00932"></a>00932 
<a name="l00933"></a><a class="code" href="vtysh_8c.html#a7419207989283903c1995c9e86f8b066">00933</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l00934"></a>00934      address_family_ipv6_multicast,
<a name="l00935"></a>00935      address_family_ipv6_multicast_cmd,
<a name="l00936"></a>00936      <span class="stringliteral">&quot;address-family ipv6 multicast&quot;</span>,
<a name="l00937"></a>00937      <span class="stringliteral">&quot;Enter Address Family command mode\n&quot;</span>
<a name="l00938"></a>00938      <span class="stringliteral">&quot;Address family\n&quot;</span>
<a name="l00939"></a>00939      <span class="stringliteral">&quot;Address Family Modifier\n&quot;</span>)
<a name="l00940"></a>00940 {
<a name="l00941"></a>00941   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>;
<a name="l00942"></a>00942   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00943"></a>00943 }
<a name="l00944"></a>00944 
<a name="l00945"></a><a class="code" href="vtysh_8c.html#ae77112e259a96b9fb83e1dbb73abbd46">00945</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>,
<a name="l00946"></a>00946      key_chain,
<a name="l00947"></a>00947      key_chain_cmd,
<a name="l00948"></a>00948      <span class="stringliteral">&quot;key chain WORD&quot;</span>,
<a name="l00949"></a>00949      <span class="stringliteral">&quot;Authentication key management\n&quot;</span>
<a name="l00950"></a>00950      <span class="stringliteral">&quot;Key-chain management\n&quot;</span>
<a name="l00951"></a>00951      <span class="stringliteral">&quot;Key-chain name\n&quot;</span>)
<a name="l00952"></a>00952 {
<a name="l00953"></a>00953   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>;
<a name="l00954"></a>00954   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00955"></a>00955 }    
<a name="l00956"></a>00956 
<a name="l00957"></a><a class="code" href="vtysh_8c.html#a7e33e74508392a966c38e108b7f169f3">00957</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>,
<a name="l00958"></a>00958      <a class="code" href="structkey.html">key</a>,
<a name="l00959"></a>00959      key_cmd,
<a name="l00960"></a>00960      <span class="stringliteral">&quot;key &lt;0-2147483647&gt;&quot;</span>,
<a name="l00961"></a>00961      <span class="stringliteral">&quot;Configure a key\n&quot;</span>
<a name="l00962"></a>00962      <span class="stringliteral">&quot;Key identifier number\n&quot;</span>)
<a name="l00963"></a>00963 {
<a name="l00964"></a>00964   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>;
<a name="l00965"></a>00965   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00966"></a>00966 }
<a name="l00967"></a>00967 
<a name="l00968"></a><a class="code" href="vtysh_8c.html#ab83173911e9eff0bc42c13f5c035a236">00968</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>,
<a name="l00969"></a>00969      router_rip,
<a name="l00970"></a>00970      router_rip_cmd,
<a name="l00971"></a>00971      <span class="stringliteral">&quot;router rip&quot;</span>,
<a name="l00972"></a>00972      <a class="code" href="command_8h.html#a985579e5d4576dda3605a03feb161017">ROUTER_STR</a>
<a name="l00973"></a>00973      <span class="stringliteral">&quot;RIP&quot;</span>)
<a name="l00974"></a>00974 {
<a name="l00975"></a>00975   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682aba91035637d2e661aaea111ea200751a">RIP_NODE</a>;
<a name="l00976"></a>00976   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00977"></a>00977 }
<a name="l00978"></a>00978 
<a name="l00979"></a><a class="code" href="vtysh_8c.html#a893b7cd34431ec5a7e35986b9d918256">00979</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ac00741dc88f5cefdef4a64fd31dfbfce">VTYSH_RIPNGD</a>,
<a name="l00980"></a>00980      router_ripng,
<a name="l00981"></a>00981      router_ripng_cmd,
<a name="l00982"></a>00982      <span class="stringliteral">&quot;router ripng&quot;</span>,
<a name="l00983"></a>00983      <a class="code" href="command_8h.html#a985579e5d4576dda3605a03feb161017">ROUTER_STR</a>
<a name="l00984"></a>00984      <span class="stringliteral">&quot;RIPng&quot;</span>)
<a name="l00985"></a>00985 {
<a name="l00986"></a>00986   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a54754d9b49687991ae5cf0ba4d32dab2">RIPNG_NODE</a>;
<a name="l00987"></a>00987   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00988"></a>00988 }
<a name="l00989"></a>00989 
<a name="l00990"></a><a class="code" href="vtysh_8c.html#a4c27782823553c2579214987d92b58eb">00990</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a4fca7084c6fb7bd120377a39d139c73c">VTYSH_OSPFD</a>,
<a name="l00991"></a>00991      router_ospf,
<a name="l00992"></a>00992      router_ospf_cmd,
<a name="l00993"></a>00993      <span class="stringliteral">&quot;router ospf&quot;</span>,
<a name="l00994"></a>00994      <span class="stringliteral">&quot;Enable a routing process\n&quot;</span>
<a name="l00995"></a>00995      <span class="stringliteral">&quot;Start OSPF configuration\n&quot;</span>)
<a name="l00996"></a>00996 {
<a name="l00997"></a>00997   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a53037feb34b636b5cabbcdb85698ac35">OSPF_NODE</a>;
<a name="l00998"></a>00998   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l00999"></a>00999 }
<a name="l01000"></a>01000 
<a name="l01001"></a><a class="code" href="vtysh_8c.html#ab33531a2d41314d848205ec76adc9797">01001</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ae69f1eb44c7d6e56a3d4ed25717b2993">VTYSH_OSPF6D</a>,
<a name="l01002"></a>01002      router_ospf6,
<a name="l01003"></a>01003      router_ospf6_cmd,
<a name="l01004"></a>01004      <span class="stringliteral">&quot;router ospf6&quot;</span>,
<a name="l01005"></a>01005      <a class="code" href="command_8h.html#ac07eb44ce5dc0b660ebcaa9a21400168">OSPF6_ROUTER_STR</a>
<a name="l01006"></a>01006      <a class="code" href="command_8h.html#a46e5b0a7baf38db964a69848c26aa96a">OSPF6_STR</a>)
<a name="l01007"></a>01007 {
<a name="l01008"></a>01008   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>;
<a name="l01009"></a>01009   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01010"></a>01010 }
<a name="l01011"></a>01011 
<a name="l01012"></a><a class="code" href="vtysh_8c.html#a6e8d8c39cc7367d71929c6cd5ca8ef45">01012</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a48a2966fd5029eb3c9eeec04c56b0705">VTYSH_ISISD</a>,
<a name="l01013"></a>01013      router_isis,
<a name="l01014"></a>01014      router_isis_cmd,
<a name="l01015"></a>01015      <span class="stringliteral">&quot;router isis WORD&quot;</span>,
<a name="l01016"></a>01016      <a class="code" href="command_8h.html#a985579e5d4576dda3605a03feb161017">ROUTER_STR</a>
<a name="l01017"></a>01017      <span class="stringliteral">&quot;ISO IS-IS\n&quot;</span>
<a name="l01018"></a>01018      <span class="stringliteral">&quot;ISO Routing area tag&quot;</span>)
<a name="l01019"></a>01019 {
<a name="l01020"></a>01020   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab25ba1a66148ff64a7b5aa681cc8c2dd">ISIS_NODE</a>;
<a name="l01021"></a>01021   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01022"></a>01022 }
<a name="l01023"></a>01023 
<a name="l01024"></a><a class="code" href="vtysh_8c.html#a3c36231ad521443791f4947ea5a9f3ff">01024</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ae0625dd08b0253f572033706f9a7747b">VTYSH_RMAP</a>,
<a name="l01025"></a>01025      <a class="code" href="structroute__map.html">route_map</a>,
<a name="l01026"></a>01026      route_map_cmd,
<a name="l01027"></a>01027      <span class="stringliteral">&quot;route-map WORD (deny|permit) &lt;1-65535&gt;&quot;</span>,
<a name="l01028"></a>01028      <span class="stringliteral">&quot;Create route-map or enter route-map command mode\n&quot;</span>
<a name="l01029"></a>01029      <span class="stringliteral">&quot;Route map tag\n&quot;</span>
<a name="l01030"></a>01030      <span class="stringliteral">&quot;Route map denies set operations\n&quot;</span>
<a name="l01031"></a>01031      <span class="stringliteral">&quot;Route map permits set operations\n&quot;</span>
<a name="l01032"></a>01032      <span class="stringliteral">&quot;Sequence to insert to/delete from existing route-map entry\n&quot;</span>)
<a name="l01033"></a>01033 {
<a name="l01034"></a>01034   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>;
<a name="l01035"></a>01035   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01036"></a>01036 }
<a name="l01037"></a>01037 
<a name="l01038"></a><a class="code" href="vtysh_8c.html#a3cf32847e9e59bb3368686e96a953cfe">01038</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01039"></a>01039      vtysh_line_vty,
<a name="l01040"></a>01040      vtysh_line_vty_cmd,
<a name="l01041"></a>01041      <span class="stringliteral">&quot;line vty&quot;</span>,
<a name="l01042"></a>01042      <span class="stringliteral">&quot;Configure a terminal line\n&quot;</span>
<a name="l01043"></a>01043      <span class="stringliteral">&quot;Virtual terminal\n&quot;</span>)
<a name="l01044"></a>01044 {
<a name="l01045"></a>01045   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a42e5cebd0265d2c03a8da6fa220e11c6">VTY_NODE</a>;
<a name="l01046"></a>01046   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01047"></a>01047 }
<a name="l01048"></a>01048 
<a name="l01049"></a><a class="code" href="vtysh_8c.html#a35616b2d1a7d09f58bb5457fcec2d9dd">01049</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01050"></a>01050      vtysh_enable, 
<a name="l01051"></a>01051      vtysh_enable_cmd,
<a name="l01052"></a>01052      <span class="stringliteral">&quot;enable&quot;</span>,
<a name="l01053"></a>01053      <span class="stringliteral">&quot;Turn on privileged mode command\n&quot;</span>)
<a name="l01054"></a>01054 {
<a name="l01055"></a>01055   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>;
<a name="l01056"></a>01056   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01057"></a>01057 }
<a name="l01058"></a>01058 
<a name="l01059"></a><a class="code" href="vtysh_8c.html#aff512a5c8332a64bf6dd1e3312bbbf7c">01059</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01060"></a>01060      vtysh_disable, 
<a name="l01061"></a>01061      vtysh_disable_cmd,
<a name="l01062"></a>01062      <span class="stringliteral">&quot;disable&quot;</span>,
<a name="l01063"></a>01063      <span class="stringliteral">&quot;Turn off privileged mode command\n&quot;</span>)
<a name="l01064"></a>01064 {
<a name="l01065"></a>01065   <span class="keywordflow">if</span> (vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>)
<a name="l01066"></a>01066     vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>;
<a name="l01067"></a>01067   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01068"></a>01068 }
<a name="l01069"></a>01069 
<a name="l01070"></a><a class="code" href="vtysh_8c.html#af95adf75284d4c75347f693093fe01cc">01070</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01071"></a>01071      vtysh_config_terminal,
<a name="l01072"></a>01072      vtysh_config_terminal_cmd,
<a name="l01073"></a>01073      <span class="stringliteral">&quot;configure terminal&quot;</span>,
<a name="l01074"></a>01074      <span class="stringliteral">&quot;Configuration from vty interface\n&quot;</span>
<a name="l01075"></a>01075      <span class="stringliteral">&quot;Configuration terminal\n&quot;</span>)
<a name="l01076"></a>01076 {
<a name="l01077"></a>01077   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>;
<a name="l01078"></a>01078   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01079"></a>01079 }
<a name="l01080"></a>01080 
<a name="l01081"></a>01081 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l01082"></a><a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">01082</a> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (<span class="keyword">struct</span> vty *vty)
<a name="l01083"></a>01083 {
<a name="l01084"></a>01084   <span class="keywordflow">switch</span> (vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a>)
<a name="l01085"></a>01085     {
<a name="l01086"></a>01086     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>:
<a name="l01087"></a>01087     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>:
<a name="l01088"></a>01088       <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (0);
<a name="l01089"></a>01089       <span class="keywordflow">break</span>;
<a name="l01090"></a>01090     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>:
<a name="l01091"></a>01091       vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>;
<a name="l01092"></a>01092       <span class="keywordflow">break</span>;
<a name="l01093"></a>01093     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>:
<a name="l01094"></a>01094     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682af7fc20f627618eee254477289b890df3">ZEBRA_NODE</a>:
<a name="l01095"></a>01095     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>:
<a name="l01096"></a>01096     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682aba91035637d2e661aaea111ea200751a">RIP_NODE</a>:
<a name="l01097"></a>01097     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a54754d9b49687991ae5cf0ba4d32dab2">RIPNG_NODE</a>:
<a name="l01098"></a>01098     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a53037feb34b636b5cabbcdb85698ac35">OSPF_NODE</a>:
<a name="l01099"></a>01099     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>:
<a name="l01100"></a>01100     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab25ba1a66148ff64a7b5aa681cc8c2dd">ISIS_NODE</a>:
<a name="l01101"></a>01101     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8863fd12cbe31d4555e4bfe57be8bc89">MASC_NODE</a>:
<a name="l01102"></a>01102     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>:
<a name="l01103"></a>01103     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a42e5cebd0265d2c03a8da6fa220e11c6">VTY_NODE</a>:
<a name="l01104"></a>01104     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>:
<a name="l01105"></a>01105       <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a>(<span class="stringliteral">&quot;end&quot;</span>);
<a name="l01106"></a>01106       <a class="code" href="vtysh_8c.html#a5025b058788e3d168761cc37982881c1">vtysh_execute</a>(<span class="stringliteral">&quot;configure terminal&quot;</span>);
<a name="l01107"></a>01107       vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>;
<a name="l01108"></a>01108       <span class="keywordflow">break</span>;
<a name="l01109"></a>01109     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>:
<a name="l01110"></a>01110     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>:
<a name="l01111"></a>01111     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>:
<a name="l01112"></a>01112     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>:
<a name="l01113"></a>01113     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>:
<a name="l01114"></a>01114       vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>;
<a name="l01115"></a>01115       <span class="keywordflow">break</span>;
<a name="l01116"></a>01116     <span class="keywordflow">case</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>:
<a name="l01117"></a>01117       vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>;
<a name="l01118"></a>01118       <span class="keywordflow">break</span>;
<a name="l01119"></a>01119     <span class="keywordflow">default</span>:
<a name="l01120"></a>01120       <span class="keywordflow">break</span>;
<a name="l01121"></a>01121     }
<a name="l01122"></a>01122   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01123"></a>01123 }
<a name="l01124"></a>01124 
<a name="l01125"></a><a class="code" href="vtysh_8c.html#ac59ebb199a42c0ff58a5adcf0ee8912f">01125</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01126"></a>01126      vtysh_exit_all,
<a name="l01127"></a>01127      vtysh_exit_all_cmd,
<a name="l01128"></a>01128      <span class="stringliteral">&quot;exit&quot;</span>,
<a name="l01129"></a>01129      <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01130"></a>01130 {
<a name="l01131"></a>01131   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01132"></a>01132 }
<a name="l01133"></a>01133 
<a name="l01134"></a><a class="code" href="vtysh_8c.html#accdc9a06a22c05258c716845222eea96">01134</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_all,
<a name="l01135"></a>01135        vtysh_quit_all_cmd,
<a name="l01136"></a>01136        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01137"></a>01137        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01138"></a>01138 
<a name="l01139"></a>01139 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l01140"></a>01140      exit_address_family,
<a name="l01141"></a>01141      exit_address_family_cmd,
<a name="l01142"></a>01142      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>-address-family&quot;,
<a name="l01143"></a>01143      &quot;Exit from Address Family configuration <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01144"></a>01144 {
<a name="l01145"></a>01145   <span class="keywordflow">if</span> (vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>
<a name="l01146"></a>01146       || vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>
<a name="l01147"></a>01147       || vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>
<a name="l01148"></a>01148       || vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>
<a name="l01149"></a>01149       || vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> == <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>)
<a name="l01150"></a>01150     vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>;
<a name="l01151"></a>01151   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01152"></a>01152 }
<a name="l01153"></a>01153 
<a name="l01154"></a><a class="code" href="vtysh_8c.html#af8ef2476faa919f125857c616169d83b">01154</a> <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a720da4b5300a0e7a24d619af855f643d">VTYSH_ZEBRA</a>,
<a name="l01155"></a>01155      vtysh_exit_zebra,
<a name="l01156"></a>01156      vtysh_exit_zebra_cmd,
<a name="l01157"></a>01157      <span class="stringliteral">&quot;exit&quot;</span>,
<a name="l01158"></a>01158      <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01159"></a>01159 {
<a name="l01160"></a>01160   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01161"></a>01161 }
<a name="l01162"></a>01162 
<a name="l01163"></a><a class="code" href="vtysh_8c.html#ae90f6522cd086b186161241d254bc7ec">01163</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_zebra,
<a name="l01164"></a>01164        vtysh_quit_zebra_cmd,
<a name="l01165"></a>01165        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01166"></a>01166        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01167"></a>01167 
<a name="l01168"></a>01168 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>,
<a name="l01169"></a>01169      vtysh_exit_ripd,
<a name="l01170"></a>01170      vtysh_exit_ripd_cmd,
<a name="l01171"></a>01171      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01172"></a>01172      &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01173"></a>01173 {
<a name="l01174"></a>01174   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01175"></a>01175 }
<a name="l01176"></a>01176 
<a name="l01177"></a><a class="code" href="vtysh_8c.html#a7b7ef44f88b37244fb47680e754e0568">01177</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_ripd,
<a name="l01178"></a>01178        vtysh_quit_ripd_cmd,
<a name="l01179"></a>01179        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01180"></a>01180        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01181"></a>01181 
<a name="l01182"></a>01182 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ac00741dc88f5cefdef4a64fd31dfbfce">VTYSH_RIPNGD</a>,
<a name="l01183"></a>01183      vtysh_exit_ripngd,
<a name="l01184"></a>01184      vtysh_exit_ripngd_cmd,
<a name="l01185"></a>01185      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01186"></a>01186      &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01187"></a>01187 {
<a name="l01188"></a>01188   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01189"></a>01189 }
<a name="l01190"></a>01190 
<a name="l01191"></a><a class="code" href="vtysh_8c.html#ae14281d60eac8cb9553c2549655a95ce">01191</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_ripngd,
<a name="l01192"></a>01192        vtysh_quit_ripngd_cmd,
<a name="l01193"></a>01193        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01194"></a>01194        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01195"></a>01195 
<a name="l01196"></a>01196 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ae0625dd08b0253f572033706f9a7747b">VTYSH_RMAP</a>,
<a name="l01197"></a>01197      vtysh_exit_rmap,
<a name="l01198"></a>01198      vtysh_exit_rmap_cmd,
<a name="l01199"></a>01199      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01200"></a>01200      &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01201"></a>01201 {
<a name="l01202"></a>01202   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01203"></a>01203 }
<a name="l01204"></a>01204 
<a name="l01205"></a><a class="code" href="vtysh_8c.html#a653f09a51797630e7f3c4249c9198f4d">01205</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_rmap,
<a name="l01206"></a>01206        vtysh_quit_rmap_cmd,
<a name="l01207"></a>01207        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01208"></a>01208        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01209"></a>01209 
<a name="l01210"></a>01210 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#aff532ddc4fd2d77385612c5c90032f08">VTYSH_BGPD</a>,
<a name="l01211"></a>01211      vtysh_exit_bgpd,
<a name="l01212"></a>01212      vtysh_exit_bgpd_cmd,
<a name="l01213"></a>01213      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01214"></a>01214      &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01215"></a>01215 {
<a name="l01216"></a>01216   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01217"></a>01217 }
<a name="l01218"></a>01218 
<a name="l01219"></a><a class="code" href="vtysh_8c.html#a492fb125645861f46bf30f84235ca3f4">01219</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_bgpd,
<a name="l01220"></a>01220        vtysh_quit_bgpd_cmd,
<a name="l01221"></a>01221        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01222"></a>01222        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01223"></a>01223 
<a name="l01224"></a>01224 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a4fca7084c6fb7bd120377a39d139c73c">VTYSH_OSPFD</a>,
<a name="l01225"></a>01225      vtysh_exit_ospfd,
<a name="l01226"></a>01226      vtysh_exit_ospfd_cmd,
<a name="l01227"></a>01227      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01228"></a>01228      &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01229"></a>01229 {
<a name="l01230"></a>01230   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01231"></a>01231 }
<a name="l01232"></a>01232 
<a name="l01233"></a><a class="code" href="vtysh_8c.html#ab6b58672286565d978ee2b01f594d6ce">01233</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_ospfd,
<a name="l01234"></a>01234        vtysh_quit_ospfd_cmd,
<a name="l01235"></a>01235        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01236"></a>01236        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01237"></a>01237 
<a name="l01238"></a>01238 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#ae69f1eb44c7d6e56a3d4ed25717b2993">VTYSH_OSPF6D</a>,
<a name="l01239"></a>01239      vtysh_exit_ospf6d,
<a name="l01240"></a>01240      vtysh_exit_ospf6d_cmd,
<a name="l01241"></a>01241      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01242"></a>01242      &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01243"></a>01243 {
<a name="l01244"></a>01244   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01245"></a>01245 }
<a name="l01246"></a>01246 
<a name="l01247"></a><a class="code" href="vtysh_8c.html#abc79a31ab96e00e4928dfc19d58c3487">01247</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_ospf6d,
<a name="l01248"></a>01248        vtysh_quit_ospf6d_cmd,
<a name="l01249"></a>01249        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01250"></a>01250        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01251"></a>01251 
<a name="l01252"></a>01252 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a48a2966fd5029eb3c9eeec04c56b0705">VTYSH_ISISD</a>,
<a name="l01253"></a>01253      vtysh_exit_isisd,
<a name="l01254"></a>01254      vtysh_exit_isisd_cmd,
<a name="l01255"></a>01255      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01256"></a>01256      &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01257"></a>01257 {
<a name="l01258"></a>01258   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01259"></a>01259 }
<a name="l01260"></a>01260 
<a name="l01261"></a><a class="code" href="vtysh_8c.html#affe63e077146e6e1bdfc0bf546536ab1">01261</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_isisd,
<a name="l01262"></a>01262        vtysh_quit_isisd_cmd,
<a name="l01263"></a>01263        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01264"></a>01264        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01265"></a>01265 
<a name="l01266"></a>01266 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01267"></a>01267          vtysh_exit_line_vty,
<a name="l01268"></a>01268          vtysh_exit_line_vty_cmd,
<a name="l01269"></a>01269          &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01270"></a>01270          &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01271"></a>01271 {
<a name="l01272"></a>01272   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01273"></a>01273 }
<a name="l01274"></a>01274 
<a name="l01275"></a><a class="code" href="vtysh_8c.html#a16467d92ffeb8d94a95cf7766df48016">01275</a> <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_exit_line_vty,
<a name="l01276"></a>01276        vtysh_quit_line_vty_cmd,
<a name="l01277"></a>01277        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01278"></a>01278        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01279"></a>01279 
<a name="l01280"></a>01280 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a3540349754c18b71cf2e2c82e4f92780">VTYSH_INTERFACE</a>,
<a name="l01281"></a>01281      vtysh_interface,
<a name="l01282"></a>01282      vtysh_interface_cmd,
<a name="l01283"></a>01283      &quot;<a class="code" href="structinterface.html">interface</a> IFNAME&quot;,
<a name="l01284"></a>01284      &quot;Select an <a class="code" href="structinterface.html">interface</a> to configure\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;
<a name="l01285"></a>01285      &quot;Interface&#39;<a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a> <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01286"></a>01286 {
<a name="l01287"></a>01287   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>;
<a name="l01288"></a>01288   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01289"></a>01289 }
<a name="l01290"></a>01290 
<a name="l01291"></a>01291 <span class="comment">/* TODO Implement &quot;no interface command in isisd. */</span>
<a name="l01292"></a>01292 <a class="code" href="command_8h.html#a86b046506937c447aecbb962745ebef7">DEFSH</a> (<a class="code" href="vtysh_8h.html#a720da4b5300a0e7a24d619af855f643d">VTYSH_ZEBRA</a>|<a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>|<a class="code" href="vtysh_8h.html#ac00741dc88f5cefdef4a64fd31dfbfce">VTYSH_RIPNGD</a>|<a class="code" href="vtysh_8h.html#a4fca7084c6fb7bd120377a39d139c73c">VTYSH_OSPFD</a>|<a class="code" href="vtysh_8h.html#ae69f1eb44c7d6e56a3d4ed25717b2993">VTYSH_OSPF6D</a>,
<a name="l01293"></a>01293        vtysh_no_interface_cmd,
<a name="l01294"></a>01294        <span class="stringliteral">&quot;no interface IFNAME&quot;</span>,
<a name="l01295"></a>01295        <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01296"></a>01296        <span class="stringliteral">&quot;Delete a pseudo interface&#39;s configuration\n&quot;</span>
<a name="l01297"></a>01297        <span class="stringliteral">&quot;Interface&#39;s name\n&quot;</span>)
<a name="l01298"></a>01298 
<a name="l01299"></a>01299 <span class="comment">/* TODO Implement interface description commands in ripngd, ospf6d</span>
<a name="l01300"></a>01300 <span class="comment"> * and isisd. */</span>
<a name="l01301"></a>01301 <a class="code" href="command_8h.html#a86b046506937c447aecbb962745ebef7">DEFSH</a> (<a class="code" href="vtysh_8h.html#a720da4b5300a0e7a24d619af855f643d">VTYSH_ZEBRA</a>|<a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>|<a class="code" href="vtysh_8h.html#a4fca7084c6fb7bd120377a39d139c73c">VTYSH_OSPFD</a>,
<a name="l01302"></a><a class="code" href="vtysh_8c.html#a796fb75383a312e3ac275ae8d0c19f32">01302</a>        <a class="code" href="if_8h.html#a51777a76e1c996fcf81ab577db829158">interface_desc_cmd</a>,
<a name="l01303"></a>01303        &quot;description .<a class="code" href="vtysh_8c.html#a796fb75383a312e3ac275ae8d0c19f32">LINE</a>&quot;,
<a name="l01304"></a>01304        &quot;Interface specific description\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;
<a name="l01305"></a>01305        &quot;Characters describing this <a class="code" href="structinterface.html">interface</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01306"></a>01306        
<a name="l01307"></a>01307 <a class="code" href="command_8h.html#a86b046506937c447aecbb962745ebef7">DEFSH</a> (<a class="code" href="vtysh_8h.html#a720da4b5300a0e7a24d619af855f643d">VTYSH_ZEBRA</a>|<a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>|VTYSH_OSPFD,
<a name="l01308"></a>01308        no_interface_desc_cmd,
<a name="l01309"></a>01309        &quot;no description&quot;,
<a name="l01310"></a>01310        <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01311"></a>01311        &quot;Interface specific description\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01312"></a>01312 
<a name="l01313"></a>01313 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a3540349754c18b71cf2e2c82e4f92780">VTYSH_INTERFACE</a>,
<a name="l01314"></a><a class="code" href="vtysh_8c.html#ac7f77219e6451a2ff3fc389329472c3d">01314</a>      <a class="code" href="vtysh_8c.html#a6af5e5f174a2943e107bd07c16f675c9">vtysh_exit_interface</a>,
<a name="l01315"></a>01315      <a class="code" href="vtysh_8c.html#ac7f77219e6451a2ff3fc389329472c3d">vtysh_exit_interface_cmd</a>,
<a name="l01316"></a>01316      &quot;<a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>&quot;,
<a name="l01317"></a>01317      &quot;Exit current <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a> and down to previous <a class="code" href="bgp__open_8h.html#af4324da5e10e48f7970f2bc5b611e367">mode</a>\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01318"></a>01318 {
<a name="l01319"></a>01319   <span class="keywordflow">return</span> <a class="code" href="vtysh_8c.html#a9bcc96f0b5d0cc9b5b55905e5a4c119c">vtysh_exit</a> (vty);
<a name="l01320"></a>01320 }
<a name="l01321"></a>01321 
<a name="l01322"></a>01322 <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (<a class="code" href="vtysh_8c.html#a6af5e5f174a2943e107bd07c16f675c9">vtysh_exit_interface</a>,
<a name="l01323"></a>01323        vtysh_quit_interface_cmd,
<a name="l01324"></a>01324        <span class="stringliteral">&quot;quit&quot;</span>,
<a name="l01325"></a>01325        <span class="stringliteral">&quot;Exit current mode and down to previous mode\n&quot;</span>)
<a name="l01326"></a>01326 
<a name="l01327"></a>01327 <span class="comment">/* Memory */</span>
<a name="l01328"></a>01328 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_show_memory,
<a name="l01329"></a>01329        vtysh_show_memory_cmd,
<a name="l01330"></a>01330        &quot;show <a class="code" href="command_8c.html#ab3b6b22f7fa8775522dcaa100befafad">memory</a>&quot;,
<a name="l01331"></a>01331        <a class="code" href="command_8h.html#aa19b6d5257cb6f7622eb6b3da8966b32">SHOW_STR</a>
<a name="l01332"></a>01332        &quot;Memory statistics\<a class="code" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)
<a name="l01333"></a>01333 {
<a name="l01334"></a>01334   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l01335"></a>01335   <span class="keywordtype">int</span> ret = <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01336"></a>01336   <span class="keywordtype">char</span> line[] = <span class="stringliteral">&quot;show memory\n&quot;</span>;
<a name="l01337"></a>01337   
<a name="l01338"></a>01338   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l01339"></a>01339     <span class="keywordflow">if</span> ( <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].fd &gt;= 0 )
<a name="l01340"></a>01340       {
<a name="l01341"></a>01341         fprintf (stdout, <span class="stringliteral">&quot;Memory statistics for %s:\n&quot;</span>, 
<a name="l01342"></a>01342                  <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l01343"></a>01343         ret = <a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">vtysh_client_execute</a> (&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i], line, stdout);
<a name="l01344"></a>01344         fprintf (stdout,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01345"></a>01345       }
<a name="l01346"></a>01346   
<a name="l01347"></a>01347   <span class="keywordflow">return</span> ret;
<a name="l01348"></a>01348 }
<a name="l01349"></a>01349 
<a name="l01350"></a>01350 <span class="comment">/* Logging commands. */</span>
<a name="l01351"></a>01351 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_show_logging,
<a name="l01352"></a>01352        vtysh_show_logging_cmd,
<a name="l01353"></a>01353        <span class="stringliteral">&quot;show logging&quot;</span>,
<a name="l01354"></a>01354        <a class="code" href="command_8h.html#aa19b6d5257cb6f7622eb6b3da8966b32">SHOW_STR</a>
<a name="l01355"></a>01355        <span class="stringliteral">&quot;Show current logging configuration\n&quot;</span>)
<a name="l01356"></a>01356 {
<a name="l01357"></a>01357   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l01358"></a>01358   <span class="keywordtype">int</span> ret = <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01359"></a>01359   <span class="keywordtype">char</span> line[] = <span class="stringliteral">&quot;show logging\n&quot;</span>;
<a name="l01360"></a>01360   
<a name="l01361"></a>01361   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l01362"></a>01362     <span class="keywordflow">if</span> ( <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].fd &gt;= 0 )
<a name="l01363"></a>01363       {
<a name="l01364"></a>01364         fprintf (stdout,<span class="stringliteral">&quot;Logging configuration for %s:\n&quot;</span>, 
<a name="l01365"></a>01365                  <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l01366"></a>01366         ret = <a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">vtysh_client_execute</a> (&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i], line, stdout);
<a name="l01367"></a>01367         fprintf (stdout,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01368"></a>01368       }
<a name="l01369"></a>01369   
<a name="l01370"></a>01370   <span class="keywordflow">return</span> ret;
<a name="l01371"></a>01371 }
<a name="l01372"></a>01372 
<a name="l01373"></a>01373 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01374"></a>01374      vtysh_log_stdout,
<a name="l01375"></a>01375      vtysh_log_stdout_cmd,
<a name="l01376"></a>01376      <span class="stringliteral">&quot;log stdout&quot;</span>,
<a name="l01377"></a>01377      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01378"></a>01378      <span class="stringliteral">&quot;Set stdout logging level\n&quot;</span>)
<a name="l01379"></a>01379 {
<a name="l01380"></a>01380   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01381"></a>01381 }
<a name="l01382"></a>01382 
<a name="l01383"></a>01383 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01384"></a>01384      vtysh_log_stdout_level,
<a name="l01385"></a>01385      vtysh_log_stdout_level_cmd,
<a name="l01386"></a>01386      <span class="stringliteral">&quot;log stdout &quot;</span><a class="code" href="log_8h.html#a0f910b831c2620d8e095c90406731025">LOG_LEVELS</a>,
<a name="l01387"></a>01387      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01388"></a>01388      <span class="stringliteral">&quot;Set stdout logging level\n&quot;</span>
<a name="l01389"></a>01389      <a class="code" href="log_8h.html#ac4a7675ddafbca6778aed3fbd5c27f65">LOG_LEVEL_DESC</a>)
<a name="l01390"></a>01390 {
<a name="l01391"></a>01391   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01392"></a>01392 }
<a name="l01393"></a>01393 
<a name="l01394"></a>01394 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01395"></a>01395      no_vtysh_log_stdout,
<a name="l01396"></a>01396      no_vtysh_log_stdout_cmd,
<a name="l01397"></a>01397      <span class="stringliteral">&quot;no log stdout [LEVEL]&quot;</span>,
<a name="l01398"></a>01398      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01399"></a>01399      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01400"></a>01400      <span class="stringliteral">&quot;Cancel logging to stdout\n&quot;</span>
<a name="l01401"></a>01401      <span class="stringliteral">&quot;Logging level\n&quot;</span>)
<a name="l01402"></a>01402 {
<a name="l01403"></a>01403   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01404"></a>01404 }
<a name="l01405"></a>01405 
<a name="l01406"></a>01406 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01407"></a>01407      vtysh_log_file,
<a name="l01408"></a>01408      vtysh_log_file_cmd,
<a name="l01409"></a>01409      <span class="stringliteral">&quot;log file FILENAME&quot;</span>,
<a name="l01410"></a>01410      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01411"></a>01411      <span class="stringliteral">&quot;Logging to file\n&quot;</span>
<a name="l01412"></a>01412      <span class="stringliteral">&quot;Logging filename\n&quot;</span>)
<a name="l01413"></a>01413 {
<a name="l01414"></a>01414   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01415"></a>01415 }
<a name="l01416"></a>01416 
<a name="l01417"></a>01417 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01418"></a>01418      vtysh_log_file_level,
<a name="l01419"></a>01419      vtysh_log_file_level_cmd,
<a name="l01420"></a>01420      <span class="stringliteral">&quot;log file FILENAME &quot;</span><a class="code" href="log_8h.html#a0f910b831c2620d8e095c90406731025">LOG_LEVELS</a>,
<a name="l01421"></a>01421      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01422"></a>01422      <span class="stringliteral">&quot;Logging to file\n&quot;</span>
<a name="l01423"></a>01423      <span class="stringliteral">&quot;Logging filename\n&quot;</span>
<a name="l01424"></a>01424      <a class="code" href="log_8h.html#ac4a7675ddafbca6778aed3fbd5c27f65">LOG_LEVEL_DESC</a>)
<a name="l01425"></a>01425 {
<a name="l01426"></a>01426   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01427"></a>01427 }
<a name="l01428"></a>01428 
<a name="l01429"></a>01429 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01430"></a>01430      no_vtysh_log_file,
<a name="l01431"></a>01431      no_vtysh_log_file_cmd,
<a name="l01432"></a>01432      <span class="stringliteral">&quot;no log file [FILENAME]&quot;</span>,
<a name="l01433"></a>01433      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01434"></a>01434      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01435"></a>01435      <span class="stringliteral">&quot;Cancel logging to file\n&quot;</span>
<a name="l01436"></a>01436      <span class="stringliteral">&quot;Logging file name\n&quot;</span>)
<a name="l01437"></a>01437 {
<a name="l01438"></a>01438   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01439"></a>01439 }
<a name="l01440"></a>01440 
<a name="l01441"></a>01441 <a class="code" href="vtysh_8c.html#a318d957d54bb26b1d07cdf36e8596541">ALIAS_SH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01442"></a>01442       no_vtysh_log_file,
<a name="l01443"></a>01443       no_vtysh_log_file_level_cmd,
<a name="l01444"></a>01444       <span class="stringliteral">&quot;no log file FILENAME LEVEL&quot;</span>,
<a name="l01445"></a>01445       <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01446"></a>01446       <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01447"></a>01447       <span class="stringliteral">&quot;Cancel logging to file\n&quot;</span>
<a name="l01448"></a>01448       <span class="stringliteral">&quot;Logging file name\n&quot;</span>
<a name="l01449"></a>01449       <span class="stringliteral">&quot;Logging level\n&quot;</span>)
<a name="l01450"></a>01450 
<a name="l01451"></a>01451 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01452"></a>01452      vtysh_log_monitor,
<a name="l01453"></a>01453      vtysh_log_monitor_cmd,
<a name="l01454"></a>01454      &quot;log monitor&quot;,
<a name="l01455"></a>01455      &quot;Logging control\n&quot;
<a name="l01456"></a>01456      &quot;Set <a class="code" href="command_8c.html#a86a1dd2b71797949f2b74f2b6ad32dd1">terminal</a> line (monitor) logging level\n&quot;)
<a name="l01457"></a>01457 {
<a name="l01458"></a>01458   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01459"></a>01459 }
<a name="l01460"></a>01460 
<a name="l01461"></a>01461 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01462"></a>01462      vtysh_log_monitor_level,
<a name="l01463"></a>01463      vtysh_log_monitor_level_cmd,
<a name="l01464"></a>01464      <span class="stringliteral">&quot;log monitor &quot;</span><a class="code" href="log_8h.html#a0f910b831c2620d8e095c90406731025">LOG_LEVELS</a>,
<a name="l01465"></a>01465      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01466"></a>01466      <span class="stringliteral">&quot;Set terminal line (monitor) logging level\n&quot;</span>
<a name="l01467"></a>01467      <a class="code" href="log_8h.html#ac4a7675ddafbca6778aed3fbd5c27f65">LOG_LEVEL_DESC</a>)
<a name="l01468"></a>01468 {
<a name="l01469"></a>01469   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01470"></a>01470 }
<a name="l01471"></a>01471 
<a name="l01472"></a>01472 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01473"></a>01473      no_vtysh_log_monitor,
<a name="l01474"></a>01474      no_vtysh_log_monitor_cmd,
<a name="l01475"></a>01475      <span class="stringliteral">&quot;no log monitor [LEVEL]&quot;</span>,
<a name="l01476"></a>01476      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01477"></a>01477      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01478"></a>01478      <span class="stringliteral">&quot;Disable terminal line (monitor) logging\n&quot;</span>
<a name="l01479"></a>01479      <span class="stringliteral">&quot;Logging level\n&quot;</span>)
<a name="l01480"></a>01480 {
<a name="l01481"></a>01481   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01482"></a>01482 }
<a name="l01483"></a>01483 
<a name="l01484"></a>01484 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01485"></a>01485      vtysh_log_syslog,
<a name="l01486"></a>01486      vtysh_log_syslog_cmd,
<a name="l01487"></a>01487      <span class="stringliteral">&quot;log syslog&quot;</span>,
<a name="l01488"></a>01488      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01489"></a>01489      <span class="stringliteral">&quot;Set syslog logging level\n&quot;</span>)
<a name="l01490"></a>01490 {
<a name="l01491"></a>01491   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01492"></a>01492 }
<a name="l01493"></a>01493 
<a name="l01494"></a>01494 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01495"></a>01495      vtysh_log_syslog_level,
<a name="l01496"></a>01496      vtysh_log_syslog_level_cmd,
<a name="l01497"></a>01497      <span class="stringliteral">&quot;log syslog &quot;</span><a class="code" href="log_8h.html#a0f910b831c2620d8e095c90406731025">LOG_LEVELS</a>,
<a name="l01498"></a>01498      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01499"></a>01499      <span class="stringliteral">&quot;Set syslog logging level\n&quot;</span>
<a name="l01500"></a>01500      <a class="code" href="log_8h.html#ac4a7675ddafbca6778aed3fbd5c27f65">LOG_LEVEL_DESC</a>)
<a name="l01501"></a>01501 {
<a name="l01502"></a>01502   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01503"></a>01503 }
<a name="l01504"></a>01504 
<a name="l01505"></a>01505 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01506"></a>01506      no_vtysh_log_syslog,
<a name="l01507"></a>01507      no_vtysh_log_syslog_cmd,
<a name="l01508"></a>01508      <span class="stringliteral">&quot;no log syslog [LEVEL]&quot;</span>,
<a name="l01509"></a>01509      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01510"></a>01510      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01511"></a>01511      <span class="stringliteral">&quot;Cancel logging to syslog\n&quot;</span>
<a name="l01512"></a>01512      <span class="stringliteral">&quot;Logging level\n&quot;</span>)
<a name="l01513"></a>01513 {
<a name="l01514"></a>01514   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01515"></a>01515 }
<a name="l01516"></a>01516 
<a name="l01517"></a>01517 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01518"></a>01518      vtysh_log_facility,
<a name="l01519"></a>01519      vtysh_log_facility_cmd,
<a name="l01520"></a>01520      <span class="stringliteral">&quot;log facility &quot;</span><a class="code" href="log_8h.html#a835775b266ce67126bb4d31928335f85">LOG_FACILITIES</a>,
<a name="l01521"></a>01521      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01522"></a>01522      <span class="stringliteral">&quot;Facility parameter for syslog messages\n&quot;</span>
<a name="l01523"></a>01523      <a class="code" href="log_8h.html#a9d0a4c4a220c0e87e8abb2743dbb2f54">LOG_FACILITY_DESC</a>)
<a name="l01524"></a>01524 
<a name="l01525"></a>01525 {
<a name="l01526"></a>01526   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01527"></a>01527 }
<a name="l01528"></a>01528 
<a name="l01529"></a>01529 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01530"></a>01530      no_vtysh_log_facility,
<a name="l01531"></a>01531      no_vtysh_log_facility_cmd,
<a name="l01532"></a>01532      <span class="stringliteral">&quot;no log facility [FACILITY]&quot;</span>,
<a name="l01533"></a>01533      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01534"></a>01534      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01535"></a>01535      <span class="stringliteral">&quot;Reset syslog facility to default (daemon)\n&quot;</span>
<a name="l01536"></a>01536      <span class="stringliteral">&quot;Syslog facility\n&quot;</span>)
<a name="l01537"></a>01537 
<a name="l01538"></a>01538 {
<a name="l01539"></a>01539   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01540"></a>01540 }
<a name="l01541"></a>01541 
<a name="l01542"></a>01542 <a class="code" href="command_8h.html#a30f376d4a7676935f618936582bc783b">DEFUNSH_DEPRECATED</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01543"></a>01543             vtysh_log_trap,
<a name="l01544"></a>01544             vtysh_log_trap_cmd,
<a name="l01545"></a>01545             <span class="stringliteral">&quot;log trap &quot;</span><a class="code" href="log_8h.html#a0f910b831c2620d8e095c90406731025">LOG_LEVELS</a>,
<a name="l01546"></a>01546             <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01547"></a>01547             <span class="stringliteral">&quot;(Deprecated) Set logging level and default for all destinations\n&quot;</span>
<a name="l01548"></a>01548             <a class="code" href="log_8h.html#ac4a7675ddafbca6778aed3fbd5c27f65">LOG_LEVEL_DESC</a>)
<a name="l01549"></a>01549 
<a name="l01550"></a>01550 {
<a name="l01551"></a>01551   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01552"></a>01552 }
<a name="l01553"></a>01553 
<a name="l01554"></a>01554 <a class="code" href="command_8h.html#a30f376d4a7676935f618936582bc783b">DEFUNSH_DEPRECATED</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01555"></a>01555             no_vtysh_log_trap,
<a name="l01556"></a>01556             no_vtysh_log_trap_cmd,
<a name="l01557"></a>01557             <span class="stringliteral">&quot;no log trap [LEVEL]&quot;</span>,
<a name="l01558"></a>01558             <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01559"></a>01559             <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01560"></a>01560             <span class="stringliteral">&quot;Permit all logging information\n&quot;</span>
<a name="l01561"></a>01561             <span class="stringliteral">&quot;Logging level\n&quot;</span>)
<a name="l01562"></a>01562 {
<a name="l01563"></a>01563   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01564"></a>01564 }
<a name="l01565"></a>01565 
<a name="l01566"></a>01566 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01567"></a>01567      vtysh_log_record_priority,
<a name="l01568"></a>01568      vtysh_log_record_priority_cmd,
<a name="l01569"></a>01569      <span class="stringliteral">&quot;log record-priority&quot;</span>,
<a name="l01570"></a>01570      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01571"></a>01571      <span class="stringliteral">&quot;Log the priority of the message within the message\n&quot;</span>)
<a name="l01572"></a>01572 {
<a name="l01573"></a>01573   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01574"></a>01574 }
<a name="l01575"></a>01575 
<a name="l01576"></a>01576 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01577"></a>01577      no_vtysh_log_record_priority,
<a name="l01578"></a>01578      no_vtysh_log_record_priority_cmd,
<a name="l01579"></a>01579      <span class="stringliteral">&quot;no log record-priority&quot;</span>,
<a name="l01580"></a>01580      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01581"></a>01581      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01582"></a>01582      <span class="stringliteral">&quot;Do not log the priority of the message within the message\n&quot;</span>)
<a name="l01583"></a>01583 {
<a name="l01584"></a>01584   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01585"></a>01585 }
<a name="l01586"></a>01586 
<a name="l01587"></a>01587 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01588"></a>01588      vtysh_log_timestamp_precision,
<a name="l01589"></a>01589      vtysh_log_timestamp_precision_cmd,
<a name="l01590"></a>01590      <span class="stringliteral">&quot;log timestamp precision &lt;0-6&gt;&quot;</span>,
<a name="l01591"></a>01591      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01592"></a>01592      <span class="stringliteral">&quot;Timestamp configuration\n&quot;</span>
<a name="l01593"></a>01593      <span class="stringliteral">&quot;Set the timestamp precision\n&quot;</span>
<a name="l01594"></a>01594      <span class="stringliteral">&quot;Number of subsecond digits\n&quot;</span>)
<a name="l01595"></a>01595 {
<a name="l01596"></a>01596   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01597"></a>01597 }
<a name="l01598"></a>01598 
<a name="l01599"></a>01599 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01600"></a>01600      no_vtysh_log_timestamp_precision,
<a name="l01601"></a>01601      no_vtysh_log_timestamp_precision_cmd,
<a name="l01602"></a>01602      <span class="stringliteral">&quot;no log timestamp precision&quot;</span>,
<a name="l01603"></a>01603      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01604"></a>01604      <span class="stringliteral">&quot;Logging control\n&quot;</span>
<a name="l01605"></a>01605      <span class="stringliteral">&quot;Timestamp configuration\n&quot;</span>
<a name="l01606"></a>01606      <span class="stringliteral">&quot;Reset the timestamp precision to the default value of 0\n&quot;</span>)
<a name="l01607"></a>01607 {
<a name="l01608"></a>01608   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01609"></a>01609 }
<a name="l01610"></a>01610 
<a name="l01611"></a>01611 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01612"></a>01612      vtysh_service_password_encrypt,
<a name="l01613"></a>01613      vtysh_service_password_encrypt_cmd,
<a name="l01614"></a>01614      <span class="stringliteral">&quot;service password-encryption&quot;</span>,
<a name="l01615"></a>01615      <span class="stringliteral">&quot;Set up miscellaneous service\n&quot;</span>
<a name="l01616"></a>01616      <span class="stringliteral">&quot;Enable encrypted passwords\n&quot;</span>)
<a name="l01617"></a>01617 {
<a name="l01618"></a>01618   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01619"></a>01619 }
<a name="l01620"></a>01620 
<a name="l01621"></a>01621 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01622"></a>01622      no_vtysh_service_password_encrypt,
<a name="l01623"></a>01623      no_vtysh_service_password_encrypt_cmd,
<a name="l01624"></a>01624      <span class="stringliteral">&quot;no service password-encryption&quot;</span>,
<a name="l01625"></a>01625      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01626"></a>01626      <span class="stringliteral">&quot;Set up miscellaneous service\n&quot;</span>
<a name="l01627"></a>01627      <span class="stringliteral">&quot;Enable encrypted passwords\n&quot;</span>)
<a name="l01628"></a>01628 {
<a name="l01629"></a>01629   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01630"></a>01630 }
<a name="l01631"></a>01631 
<a name="l01632"></a>01632 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01633"></a>01633      vtysh_config_password,
<a name="l01634"></a>01634      vtysh_password_cmd,
<a name="l01635"></a>01635      <span class="stringliteral">&quot;password (8|) WORD&quot;</span>,
<a name="l01636"></a>01636      <span class="stringliteral">&quot;Assign the terminal connection password\n&quot;</span>
<a name="l01637"></a>01637      <span class="stringliteral">&quot;Specifies a HIDDEN password will follow\n&quot;</span>
<a name="l01638"></a>01638      <span class="stringliteral">&quot;dummy string \n&quot;</span>
<a name="l01639"></a>01639      <span class="stringliteral">&quot;The HIDDEN line password string\n&quot;</span>)
<a name="l01640"></a>01640 {
<a name="l01641"></a>01641   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01642"></a>01642 }
<a name="l01643"></a>01643 
<a name="l01644"></a>01644 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01645"></a>01645      vtysh_password_text,
<a name="l01646"></a>01646      vtysh_password_text_cmd,
<a name="l01647"></a>01647      <span class="stringliteral">&quot;password LINE&quot;</span>,
<a name="l01648"></a>01648      <span class="stringliteral">&quot;Assign the terminal connection password\n&quot;</span>
<a name="l01649"></a>01649      <span class="stringliteral">&quot;The UNENCRYPTED (cleartext) line password\n&quot;</span>)
<a name="l01650"></a>01650 {
<a name="l01651"></a>01651   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01652"></a>01652 }
<a name="l01653"></a>01653 
<a name="l01654"></a>01654 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01655"></a>01655      vtysh_config_enable_password,
<a name="l01656"></a>01656      vtysh_enable_password_cmd,
<a name="l01657"></a>01657      <span class="stringliteral">&quot;enable password (8|) WORD&quot;</span>,
<a name="l01658"></a>01658      <span class="stringliteral">&quot;Modify enable password parameters\n&quot;</span>
<a name="l01659"></a>01659      <span class="stringliteral">&quot;Assign the privileged level password\n&quot;</span>
<a name="l01660"></a>01660      <span class="stringliteral">&quot;Specifies a HIDDEN password will follow\n&quot;</span>
<a name="l01661"></a>01661      <span class="stringliteral">&quot;dummy string \n&quot;</span>
<a name="l01662"></a>01662      <span class="stringliteral">&quot;The HIDDEN &#39;enable&#39; password string\n&quot;</span>)
<a name="l01663"></a>01663 {
<a name="l01664"></a>01664   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01665"></a>01665 }
<a name="l01666"></a>01666 
<a name="l01667"></a>01667 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01668"></a>01668      vtysh_enable_password_text,
<a name="l01669"></a>01669      vtysh_enable_password_text_cmd,
<a name="l01670"></a>01670      <span class="stringliteral">&quot;enable password LINE&quot;</span>,
<a name="l01671"></a>01671      <span class="stringliteral">&quot;Modify enable password parameters\n&quot;</span>
<a name="l01672"></a>01672      <span class="stringliteral">&quot;Assign the privileged level password\n&quot;</span>
<a name="l01673"></a>01673      <span class="stringliteral">&quot;The UNENCRYPTED (cleartext) &#39;enable&#39; password\n&quot;</span>)
<a name="l01674"></a>01674 {
<a name="l01675"></a>01675   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01676"></a>01676 }
<a name="l01677"></a>01677 
<a name="l01678"></a>01678 <a class="code" href="command_8h.html#a09b9a6bc47d7a80648d8d1fdf33092a1">DEFUNSH</a> (<a class="code" href="vtysh_8h.html#a06d39a2a9196b5340839531d63cd7502">VTYSH_ALL</a>,
<a name="l01679"></a>01679      no_vtysh_config_enable_password,
<a name="l01680"></a>01680      no_vtysh_enable_password_cmd,
<a name="l01681"></a>01681      <span class="stringliteral">&quot;no enable password&quot;</span>,
<a name="l01682"></a>01682      <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01683"></a>01683      <span class="stringliteral">&quot;Modify enable password parameters\n&quot;</span>
<a name="l01684"></a>01684      <span class="stringliteral">&quot;Assign the privileged level password\n&quot;</span>)
<a name="l01685"></a>01685 {
<a name="l01686"></a>01686   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01687"></a>01687 }
<a name="l01688"></a>01688 
<a name="l01689"></a>01689 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_write_terminal,
<a name="l01690"></a>01690        vtysh_write_terminal_cmd,
<a name="l01691"></a>01691        <span class="stringliteral">&quot;write terminal&quot;</span>,
<a name="l01692"></a>01692        <span class="stringliteral">&quot;Write running configuration to memory, network, or terminal\n&quot;</span>
<a name="l01693"></a>01693        <span class="stringliteral">&quot;Write to terminal\n&quot;</span>)
<a name="l01694"></a>01694 {
<a name="l01695"></a>01695   u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l01696"></a>01696   <span class="keywordtype">int</span> ret;
<a name="l01697"></a>01697   <span class="keywordtype">char</span> line[] = <span class="stringliteral">&quot;write terminal\n&quot;</span>;
<a name="l01698"></a>01698   FILE *fp = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01699"></a>01699 
<a name="l01700"></a>01700   <span class="keywordflow">if</span> (<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a>)
<a name="l01701"></a>01701     {
<a name="l01702"></a>01702       fp = popen (<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a>, <span class="stringliteral">&quot;w&quot;</span>);
<a name="l01703"></a>01703       <span class="keywordflow">if</span> (fp == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01704"></a>01704     {
<a name="l01705"></a>01705       perror (<span class="stringliteral">&quot;popen&quot;</span>);
<a name="l01706"></a>01706       <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (1);
<a name="l01707"></a>01707     }
<a name="l01708"></a>01708     }
<a name="l01709"></a>01709   <span class="keywordflow">else</span>
<a name="l01710"></a>01710     fp = stdout;
<a name="l01711"></a>01711 
<a name="l01712"></a>01712   <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Building configuration...%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<a name="l01713"></a>01713   <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%sCurrent configuration:%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>,
<a name="l01714"></a>01714        <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<a name="l01715"></a>01715   <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;!%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<a name="l01716"></a>01716 
<a name="l01717"></a>01717   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l01718"></a>01718     ret = <a class="code" href="vtysh_8c.html#a0932c0d402347e768e244af62b7e4f42">vtysh_client_config</a> (&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i], line);
<a name="l01719"></a>01719 
<a name="l01720"></a>01720   <span class="comment">/* Integrate vtysh specific configuration. */</span>
<a name="l01721"></a>01721   <a class="code" href="vtysh_8h.html#aee7573fb9e6643e6824301716ed52de2">vtysh_config_write</a> ();
<a name="l01722"></a>01722 
<a name="l01723"></a>01723   <a class="code" href="vtysh_8h.html#ace417b3977b8a5e1eebb10210c7bd944">vtysh_config_dump</a> (fp);
<a name="l01724"></a>01724 
<a name="l01725"></a>01725   <span class="keywordflow">if</span> (<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> &amp;&amp; fp)
<a name="l01726"></a>01726     {
<a name="l01727"></a>01727       fflush (fp);
<a name="l01728"></a>01728       <span class="keywordflow">if</span> (pclose (fp) == -1)
<a name="l01729"></a>01729     {
<a name="l01730"></a>01730       perror (<span class="stringliteral">&quot;pclose&quot;</span>);
<a name="l01731"></a>01731       <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (1);
<a name="l01732"></a>01732     }
<a name="l01733"></a>01733       fp = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01734"></a>01734     }
<a name="l01735"></a>01735 
<a name="l01736"></a>01736   <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;end%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<a name="l01737"></a>01737   
<a name="l01738"></a>01738   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01739"></a>01739 }
<a name="l01740"></a>01740 
<a name="l01741"></a>01741 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_integrated_config,
<a name="l01742"></a>01742        vtysh_integrated_config_cmd,
<a name="l01743"></a>01743        <span class="stringliteral">&quot;service integrated-vtysh-config&quot;</span>,
<a name="l01744"></a>01744        <span class="stringliteral">&quot;Set up miscellaneous service\n&quot;</span>
<a name="l01745"></a>01745        <span class="stringliteral">&quot;Write configuration into integrated file\n&quot;</span>)
<a name="l01746"></a>01746 {
<a name="l01747"></a>01747   <a class="code" href="vtysh_8c.html#a7b75b9e8f63b3edb257192b65ff12ac7">vtysh_writeconfig_integrated</a> = 1;
<a name="l01748"></a>01748   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01749"></a>01749 }
<a name="l01750"></a>01750 
<a name="l01751"></a>01751 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (no_vtysh_integrated_config,
<a name="l01752"></a>01752        no_vtysh_integrated_config_cmd,
<a name="l01753"></a>01753        <span class="stringliteral">&quot;no service integrated-vtysh-config&quot;</span>,
<a name="l01754"></a>01754        <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01755"></a>01755        <span class="stringliteral">&quot;Set up miscellaneous service\n&quot;</span>
<a name="l01756"></a>01756        <span class="stringliteral">&quot;Write configuration into integrated file\n&quot;</span>)
<a name="l01757"></a>01757 {
<a name="l01758"></a>01758   <a class="code" href="vtysh_8c.html#a7b75b9e8f63b3edb257192b65ff12ac7">vtysh_writeconfig_integrated</a> = 0;
<a name="l01759"></a>01759   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01760"></a>01760 }
<a name="l01761"></a>01761 
<a name="l01762"></a>01762 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l01763"></a>01763 write_config_integrated(<span class="keywordtype">void</span>)
<a name="l01764"></a>01764 {
<a name="l01765"></a>01765   u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l01766"></a>01766   <span class="keywordtype">int</span> ret;
<a name="l01767"></a>01767   <span class="keywordtype">char</span> line[] = <span class="stringliteral">&quot;write terminal\n&quot;</span>;
<a name="l01768"></a>01768   FILE *fp;
<a name="l01769"></a>01769   <span class="keywordtype">char</span> *integrate_sav = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01770"></a>01770 
<a name="l01771"></a>01771   integrate_sav = <a class="code" href="regex_8c.html#ab7e36af3707843f77cc5b4e831c2fa6d">malloc</a> (strlen (<a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>) +
<a name="l01772"></a>01772               strlen (<a class="code" href="command_8h.html#a0837aaf45e6c54e1340b0d2df36cd599">CONF_BACKUP_EXT</a>) + 1);
<a name="l01773"></a>01773   strcpy (integrate_sav, <a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>);
<a name="l01774"></a>01774   strcat (integrate_sav, <a class="code" href="command_8h.html#a0837aaf45e6c54e1340b0d2df36cd599">CONF_BACKUP_EXT</a>);
<a name="l01775"></a>01775 
<a name="l01776"></a>01776   fprintf (stdout,<span class="stringliteral">&quot;Building Configuration...\n&quot;</span>);
<a name="l01777"></a>01777 
<a name="l01778"></a>01778   <span class="comment">/* Move current configuration file to backup config file. */</span>
<a name="l01779"></a>01779   unlink (integrate_sav);
<a name="l01780"></a>01780   rename (<a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>, integrate_sav);
<a name="l01781"></a>01781   free (integrate_sav);
<a name="l01782"></a>01782  
<a name="l01783"></a>01783   fp = fopen (<a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>, <span class="stringliteral">&quot;w&quot;</span>);
<a name="l01784"></a>01784   <span class="keywordflow">if</span> (fp == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l01785"></a>01785     {
<a name="l01786"></a>01786       fprintf (stdout,<span class="stringliteral">&quot;%% Can&#39;t open configuration file %s.\n&quot;</span>,
<a name="l01787"></a>01787            <a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>);
<a name="l01788"></a>01788       <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01789"></a>01789     }
<a name="l01790"></a>01790 
<a name="l01791"></a>01791   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l01792"></a>01792     ret = <a class="code" href="vtysh_8c.html#a0932c0d402347e768e244af62b7e4f42">vtysh_client_config</a> (&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i], line);
<a name="l01793"></a>01793 
<a name="l01794"></a>01794   <a class="code" href="vtysh_8h.html#ace417b3977b8a5e1eebb10210c7bd944">vtysh_config_dump</a> (fp);
<a name="l01795"></a>01795 
<a name="l01796"></a>01796   fclose (fp);
<a name="l01797"></a>01797 
<a name="l01798"></a>01798   <span class="keywordflow">if</span> (chmod (<a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>, CONFIGFILE_MASK) != 0)
<a name="l01799"></a>01799     {
<a name="l01800"></a>01800       fprintf (stdout,<span class="stringliteral">&quot;%% Can&#39;t chmod configuration file %s: %s (%d)\n&quot;</span>, 
<a name="l01801"></a>01801     <a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>, <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(errno), errno);
<a name="l01802"></a>01802       <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
<a name="l01803"></a>01803     }
<a name="l01804"></a>01804 
<a name="l01805"></a>01805   fprintf(stdout,<span class="stringliteral">&quot;Integrated configuration saved to %s\n&quot;</span>,<a class="code" href="vty_8c.html#a1374f502412fa0cf9bac27528c3739f6">integrate_default</a>);
<a name="l01806"></a>01806 
<a name="l01807"></a>01807   fprintf (stdout,<span class="stringliteral">&quot;[OK]\n&quot;</span>);
<a name="l01808"></a>01808 
<a name="l01809"></a>01809   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01810"></a>01810 }
<a name="l01811"></a>01811 
<a name="l01812"></a>01812 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_write_memory,
<a name="l01813"></a>01813        vtysh_write_memory_cmd,
<a name="l01814"></a>01814        <span class="stringliteral">&quot;write memory&quot;</span>,
<a name="l01815"></a>01815        <span class="stringliteral">&quot;Write running configuration to memory, network, or terminal\n&quot;</span>
<a name="l01816"></a>01816        <span class="stringliteral">&quot;Write configuration to the file (same as write file)\n&quot;</span>)
<a name="l01817"></a>01817 {
<a name="l01818"></a>01818   <span class="keywordtype">int</span> ret = <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01819"></a>01819   <span class="keywordtype">char</span> line[] = <span class="stringliteral">&quot;write memory\n&quot;</span>;
<a name="l01820"></a>01820   u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l01821"></a>01821   
<a name="l01822"></a>01822   <span class="comment">/* If integrated Quagga.conf explicitely set. */</span>
<a name="l01823"></a>01823   <span class="keywordflow">if</span> (<a class="code" href="vtysh_8c.html#a7b75b9e8f63b3edb257192b65ff12ac7">vtysh_writeconfig_integrated</a>)
<a name="l01824"></a>01824     <span class="keywordflow">return</span> write_config_integrated();
<a name="l01825"></a>01825 
<a name="l01826"></a>01826   fprintf (stdout,<span class="stringliteral">&quot;Building Configuration...\n&quot;</span>);
<a name="l01827"></a>01827       
<a name="l01828"></a>01828   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l01829"></a>01829     ret = <a class="code" href="vtysh_8c.html#aed2dbb1187253f4032c9d0637d3821f9">vtysh_client_execute</a> (&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i], line, stdout);
<a name="l01830"></a>01830   
<a name="l01831"></a>01831   fprintf (stdout,<span class="stringliteral">&quot;[OK]\n&quot;</span>);
<a name="l01832"></a>01832 
<a name="l01833"></a>01833   <span class="keywordflow">return</span> ret;
<a name="l01834"></a>01834 }
<a name="l01835"></a>01835 
<a name="l01836"></a>01836 <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_write_memory,
<a name="l01837"></a>01837        vtysh_copy_runningconfig_startupconfig_cmd,
<a name="l01838"></a>01838        <span class="stringliteral">&quot;copy running-config startup-config&quot;</span>,  
<a name="l01839"></a>01839        <span class="stringliteral">&quot;Copy from one file to another\n&quot;</span>
<a name="l01840"></a>01840        <span class="stringliteral">&quot;Copy from current system configuration\n&quot;</span>
<a name="l01841"></a>01841        <span class="stringliteral">&quot;Copy to startup configuration\n&quot;</span>)
<a name="l01842"></a>01842 
<a name="l01843"></a>01843 <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_write_memory,
<a name="l01844"></a>01844        vtysh_write_file_cmd,
<a name="l01845"></a>01845        &quot;write <a class="code" href="command_8c.html#a26a9ef9f1cd2906dfd6438f0141f1f9a">file</a>&quot;,
<a name="l01846"></a>01846        &quot;Write running configuration to memory, <a class="code" href="command_8c.html#acec200f241e2d8f6b38bc83616c4c468">network</a>, or <a class="code" href="command_8c.html#a86a1dd2b71797949f2b74f2b6ad32dd1">terminal</a>\n&quot;
<a name="l01847"></a>01847        &quot;Write configuration to the file (same as write memory)\n&quot;)
<a name="l01848"></a>01848 
<a name="l01849"></a>01849 <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_write_memory,
<a name="l01850"></a>01850        vtysh_write_cmd,
<a name="l01851"></a>01851        &quot;write&quot;,
<a name="l01852"></a>01852        &quot;Write running configuration to memory, network, or <a class="code" href="command_8c.html#a86a1dd2b71797949f2b74f2b6ad32dd1">terminal</a>\n&quot;)
<a name="l01853"></a>01853 
<a name="l01854"></a>01854 <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_write_terminal,
<a name="l01855"></a>01855        vtysh_show_running_config_cmd,
<a name="l01856"></a>01856        &quot;show running-<a class="code" href="structconfig.html">config</a>&quot;,
<a name="l01857"></a>01857        <a class="code" href="command_8h.html#aa19b6d5257cb6f7622eb6b3da8966b32">SHOW_STR</a>
<a name="l01858"></a>01858        &quot;Current operating configuration\n&quot;)
<a name="l01859"></a>01859 
<a name="l01860"></a>01860 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_terminal_length,
<a name="l01861"></a>01861        vtysh_terminal_length_cmd,
<a name="l01862"></a>01862        &quot;<a class="code" href="command_8c.html#a86a1dd2b71797949f2b74f2b6ad32dd1">terminal</a> <a class="code" href="isis__pdu_8h.html#a64ed70bbcb4536e2af22a1aaf5209d18">length</a> &lt;0-512&gt;&quot;,
<a name="l01863"></a>01863        &quot;Set <a class="code" href="command_8c.html#a86a1dd2b71797949f2b74f2b6ad32dd1">terminal</a> line parameters\n&quot;
<a name="l01864"></a>01864        &quot;Set number of lines on a screen\n&quot;
<a name="l01865"></a>01865        &quot;Number of lines on screen (0 for no pausing)\n&quot;)
<a name="l01866"></a>01866 {
<a name="l01867"></a>01867   <span class="keywordtype">int</span> lines;
<a name="l01868"></a>01868   <span class="keywordtype">char</span> *endptr = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01869"></a>01869   <span class="keywordtype">char</span> default_pager[10];
<a name="l01870"></a>01870 
<a name="l01871"></a>01871   lines = strtol (argv[0], &amp;endptr, 10);
<a name="l01872"></a>01872   <span class="keywordflow">if</span> (lines &lt; 0 || lines &gt; 512 || *endptr != <span class="charliteral">&#39;\0&#39;</span>)
<a name="l01873"></a>01873     {
<a name="l01874"></a>01874       <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;length is malformed%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<a name="l01875"></a>01875       <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
<a name="l01876"></a>01876     }
<a name="l01877"></a>01877 
<a name="l01878"></a>01878   <span class="keywordflow">if</span> (<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a>)
<a name="l01879"></a>01879     {
<a name="l01880"></a>01880       free (<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a>);
<a name="l01881"></a>01881       <a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01882"></a>01882     }
<a name="l01883"></a>01883 
<a name="l01884"></a>01884   <span class="keywordflow">if</span> (lines != 0)
<a name="l01885"></a>01885     {
<a name="l01886"></a>01886       <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a>(default_pager, 10, <span class="stringliteral">&quot;more -%i&quot;</span>, lines);
<a name="l01887"></a>01887       <a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> = strdup (default_pager);
<a name="l01888"></a>01888     }
<a name="l01889"></a>01889 
<a name="l01890"></a>01890   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01891"></a>01891 }
<a name="l01892"></a>01892 
<a name="l01893"></a>01893 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_terminal_no_length,
<a name="l01894"></a>01894        vtysh_terminal_no_length_cmd,
<a name="l01895"></a>01895        <span class="stringliteral">&quot;terminal no length&quot;</span>,
<a name="l01896"></a>01896        <span class="stringliteral">&quot;Set terminal line parameters\n&quot;</span>
<a name="l01897"></a>01897        <a class="code" href="command_8h.html#a5b14384572729c1d1b3755d1bea1f17d">NO_STR</a>
<a name="l01898"></a>01898        <span class="stringliteral">&quot;Set number of lines on a screen\n&quot;</span>)
<a name="l01899"></a>01899 {
<a name="l01900"></a>01900   <span class="keywordflow">if</span> (<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a>)
<a name="l01901"></a>01901     {
<a name="l01902"></a>01902       free (<a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a>);
<a name="l01903"></a>01903       <a class="code" href="vtysh_8c.html#aa4bbe236fe0fa93ece5868abe08769ad">vtysh_pager_name</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01904"></a>01904     }
<a name="l01905"></a>01905 
<a name="l01906"></a>01906   <a class="code" href="vtysh_8c.html#ab52fdf3580a2328bde104bce79f6a93d">vtysh_pager_init</a>();
<a name="l01907"></a>01907   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01908"></a>01908 }
<a name="l01909"></a>01909 
<a name="l01910"></a>01910 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_show_daemons,
<a name="l01911"></a>01911        vtysh_show_daemons_cmd,
<a name="l01912"></a>01912        <span class="stringliteral">&quot;show daemons&quot;</span>,
<a name="l01913"></a>01913        <a class="code" href="command_8h.html#aa19b6d5257cb6f7622eb6b3da8966b32">SHOW_STR</a>
<a name="l01914"></a>01914        <span class="stringliteral">&quot;Show list of running daemons\n&quot;</span>)
<a name="l01915"></a>01915 {
<a name="l01916"></a>01916   u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l01917"></a>01917 
<a name="l01918"></a>01918   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l01919"></a>01919     <span class="keywordflow">if</span> ( <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].fd &gt;= 0 )
<a name="l01920"></a>01920       <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a>(vty, <span class="stringliteral">&quot; %s&quot;</span>, <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);
<a name="l01921"></a>01921   <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a>(vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="vty_8h.html#a3be8ca867e2953936a95c68dc64824b6">VTY_NEWLINE</a>);
<a name="l01922"></a>01922 
<a name="l01923"></a>01923   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01924"></a>01924 }
<a name="l01925"></a>01925 
<a name="l01926"></a>01926 <span class="comment">/* Execute command in child process. */</span>
<a name="l01927"></a>01927 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l01928"></a>01928 execute_command (<span class="keyword">const</span> <span class="keywordtype">char</span> *command, <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> *arg1,
<a name="l01929"></a>01929          <span class="keyword">const</span> <span class="keywordtype">char</span> *arg2)
<a name="l01930"></a>01930 {
<a name="l01931"></a>01931   <span class="keywordtype">int</span> ret;
<a name="l01932"></a>01932   pid_t <a class="code" href="zebra_2main_8c.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>;
<a name="l01933"></a>01933   <span class="keywordtype">int</span> status;
<a name="l01934"></a>01934 
<a name="l01935"></a>01935   <span class="comment">/* Call fork(). */</span>
<a name="l01936"></a>01936   pid = fork ();
<a name="l01937"></a>01937 
<a name="l01938"></a>01938   <span class="keywordflow">if</span> (pid &lt; 0)
<a name="l01939"></a>01939     {
<a name="l01940"></a>01940       <span class="comment">/* Failure of fork(). */</span>
<a name="l01941"></a>01941       fprintf (stderr, <span class="stringliteral">&quot;Can&#39;t fork: %s\n&quot;</span>, <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a> (errno));
<a name="l01942"></a>01942       <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (1);
<a name="l01943"></a>01943     }
<a name="l01944"></a>01944   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pid == 0)
<a name="l01945"></a>01945     {
<a name="l01946"></a>01946       <span class="comment">/* This is child process. */</span>
<a name="l01947"></a>01947       <span class="keywordflow">switch</span> (argc)
<a name="l01948"></a>01948     {
<a name="l01949"></a>01949     <span class="keywordflow">case</span> 0:
<a name="l01950"></a>01950       ret = execlp (command, command, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01951"></a>01951       <span class="keywordflow">break</span>;
<a name="l01952"></a>01952     <span class="keywordflow">case</span> 1:
<a name="l01953"></a>01953       ret = execlp (command, command, arg1, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01954"></a>01954       <span class="keywordflow">break</span>;
<a name="l01955"></a>01955     <span class="keywordflow">case</span> 2:
<a name="l01956"></a>01956       ret = execlp (command, command, arg1, arg2, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01957"></a>01957       <span class="keywordflow">break</span>;
<a name="l01958"></a>01958     }
<a name="l01959"></a>01959 
<a name="l01960"></a>01960       <span class="comment">/* When execlp suceed, this part is not executed. */</span>
<a name="l01961"></a>01961       fprintf (stderr, <span class="stringliteral">&quot;Can&#39;t execute %s: %s\n&quot;</span>, command, <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a> (errno));
<a name="l01962"></a>01962       <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (1);
<a name="l01963"></a>01963     }
<a name="l01964"></a>01964   <span class="keywordflow">else</span>
<a name="l01965"></a>01965     {
<a name="l01966"></a>01966       <span class="comment">/* This is parent. */</span>
<a name="l01967"></a>01967       <a class="code" href="vtysh_8h.html#a489f9ad15bf09e3b6cbe24098f4bef89">execute_flag</a> = 1;
<a name="l01968"></a>01968       ret = wait4 (pid, &amp;status, 0, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01969"></a>01969       <a class="code" href="vtysh_8h.html#a489f9ad15bf09e3b6cbe24098f4bef89">execute_flag</a> = 0;
<a name="l01970"></a>01970     }
<a name="l01971"></a>01971   <span class="keywordflow">return</span> 0;
<a name="l01972"></a>01972 }
<a name="l01973"></a>01973 
<a name="l01974"></a>01974 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_ping,
<a name="l01975"></a>01975        vtysh_ping_cmd,
<a name="l01976"></a>01976        <span class="stringliteral">&quot;ping WORD&quot;</span>,
<a name="l01977"></a>01977        <span class="stringliteral">&quot;Send echo messages\n&quot;</span>
<a name="l01978"></a>01978        <span class="stringliteral">&quot;Ping destination address or hostname\n&quot;</span>)
<a name="l01979"></a>01979 {
<a name="l01980"></a>01980   execute_command (<span class="stringliteral">&quot;ping&quot;</span>, 1, argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01981"></a>01981   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01982"></a>01982 }
<a name="l01983"></a>01983 
<a name="l01984"></a>01984 <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_ping,
<a name="l01985"></a>01985        vtysh_ping_ip_cmd,
<a name="l01986"></a>01986        <span class="stringliteral">&quot;ping ip WORD&quot;</span>,
<a name="l01987"></a>01987        <span class="stringliteral">&quot;Send echo messages\n&quot;</span>
<a name="l01988"></a>01988        <span class="stringliteral">&quot;IP echo\n&quot;</span>
<a name="l01989"></a>01989        <span class="stringliteral">&quot;Ping destination address or hostname\n&quot;</span>)
<a name="l01990"></a>01990 
<a name="l01991"></a>01991 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_traceroute,
<a name="l01992"></a>01992        vtysh_traceroute_cmd,
<a name="l01993"></a>01993        &quot;traceroute <a class="code" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;,
<a name="l01994"></a>01994        &quot;Trace route to destination\n&quot;
<a name="l01995"></a>01995        &quot;Trace route to destination address or <a class="code" href="structhostname.html">hostname</a>\n&quot;)
<a name="l01996"></a>01996 {
<a name="l01997"></a>01997   execute_command (<span class="stringliteral">&quot;traceroute&quot;</span>, 1, argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l01998"></a>01998   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l01999"></a>01999 }
<a name="l02000"></a>02000 
<a name="l02001"></a>02001 <a class="code" href="command_8h.html#a7a8f1df2b731617ea7ada9ba5cbdb704">ALIAS</a> (vtysh_traceroute,
<a name="l02002"></a>02002        vtysh_traceroute_ip_cmd,
<a name="l02003"></a>02003        <span class="stringliteral">&quot;traceroute ip WORD&quot;</span>,
<a name="l02004"></a>02004        <span class="stringliteral">&quot;Trace route to destination\n&quot;</span>
<a name="l02005"></a>02005        <span class="stringliteral">&quot;IP trace\n&quot;</span>
<a name="l02006"></a>02006        <span class="stringliteral">&quot;Trace route to destination address or hostname\n&quot;</span>)
<a name="l02007"></a>02007 
<a name="l02008"></a>02008 <span class="preprocessor">#ifdef HAVE_IPV6</span>
<a name="l02009"></a>02009 <span class="preprocessor"></span><a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_ping6,
<a name="l02010"></a>02010        vtysh_ping6_cmd,
<a name="l02011"></a>02011        <span class="stringliteral">&quot;ping ipv6 WORD&quot;</span>,
<a name="l02012"></a>02012        <span class="stringliteral">&quot;Send echo messages\n&quot;</span>
<a name="l02013"></a>02013        <span class="stringliteral">&quot;IPv6 echo\n&quot;</span>
<a name="l02014"></a>02014        <span class="stringliteral">&quot;Ping destination address or hostname\n&quot;</span>)
<a name="l02015"></a>02015 {
<a name="l02016"></a>02016   execute_command (<span class="stringliteral">&quot;ping6&quot;</span>, 1, argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02017"></a>02017   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l02018"></a>02018 }
<a name="l02019"></a>02019 
<a name="l02020"></a>02020 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_traceroute6,
<a name="l02021"></a>02021        vtysh_traceroute6_cmd,
<a name="l02022"></a>02022        <span class="stringliteral">&quot;traceroute ipv6 WORD&quot;</span>,
<a name="l02023"></a>02023        <span class="stringliteral">&quot;Trace route to destination\n&quot;</span>
<a name="l02024"></a>02024        <span class="stringliteral">&quot;IPv6 trace\n&quot;</span>
<a name="l02025"></a>02025        <span class="stringliteral">&quot;Trace route to destination address or hostname\n&quot;</span>)
<a name="l02026"></a>02026 {
<a name="l02027"></a>02027   execute_command (<span class="stringliteral">&quot;traceroute6&quot;</span>, 1, argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02028"></a>02028   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l02029"></a>02029 }
<a name="l02030"></a>02030 <span class="preprocessor">#endif</span>
<a name="l02031"></a>02031 <span class="preprocessor"></span>
<a name="l02032"></a>02032 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_telnet,
<a name="l02033"></a>02033        vtysh_telnet_cmd,
<a name="l02034"></a>02034        <span class="stringliteral">&quot;telnet WORD&quot;</span>,
<a name="l02035"></a>02035        <span class="stringliteral">&quot;Open a telnet connection\n&quot;</span>
<a name="l02036"></a>02036        <span class="stringliteral">&quot;IP address or hostname of a remote system\n&quot;</span>)
<a name="l02037"></a>02037 {
<a name="l02038"></a>02038   execute_command (<span class="stringliteral">&quot;telnet&quot;</span>, 1, argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02039"></a>02039   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l02040"></a>02040 }
<a name="l02041"></a>02041 
<a name="l02042"></a>02042 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_telnet_port,
<a name="l02043"></a>02043        vtysh_telnet_port_cmd,
<a name="l02044"></a>02044        <span class="stringliteral">&quot;telnet WORD PORT&quot;</span>,
<a name="l02045"></a>02045        <span class="stringliteral">&quot;Open a telnet connection\n&quot;</span>
<a name="l02046"></a>02046        <span class="stringliteral">&quot;IP address or hostname of a remote system\n&quot;</span>
<a name="l02047"></a>02047        <span class="stringliteral">&quot;TCP Port number\n&quot;</span>)
<a name="l02048"></a>02048 {
<a name="l02049"></a>02049   execute_command (<span class="stringliteral">&quot;telnet&quot;</span>, 2, argv[0], argv[1]);
<a name="l02050"></a>02050   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l02051"></a>02051 }
<a name="l02052"></a>02052 
<a name="l02053"></a>02053 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_ssh,
<a name="l02054"></a>02054        vtysh_ssh_cmd,
<a name="l02055"></a>02055        <span class="stringliteral">&quot;ssh WORD&quot;</span>,
<a name="l02056"></a>02056        <span class="stringliteral">&quot;Open an ssh connection\n&quot;</span>
<a name="l02057"></a>02057        <span class="stringliteral">&quot;[user@]host\n&quot;</span>)
<a name="l02058"></a>02058 {
<a name="l02059"></a>02059   execute_command (<span class="stringliteral">&quot;ssh&quot;</span>, 1, argv[0], <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02060"></a>02060   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l02061"></a>02061 }
<a name="l02062"></a>02062 
<a name="l02063"></a>02063 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_start_shell,
<a name="l02064"></a>02064        vtysh_start_shell_cmd,
<a name="l02065"></a>02065        <span class="stringliteral">&quot;start-shell&quot;</span>,
<a name="l02066"></a>02066        <span class="stringliteral">&quot;Start UNIX shell\n&quot;</span>)
<a name="l02067"></a>02067 {
<a name="l02068"></a>02068   execute_command (<span class="stringliteral">&quot;sh&quot;</span>, 0, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02069"></a>02069   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l02070"></a>02070 }
<a name="l02071"></a>02071 
<a name="l02072"></a>02072 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_start_bash,
<a name="l02073"></a>02073        vtysh_start_bash_cmd,
<a name="l02074"></a>02074        <span class="stringliteral">&quot;start-shell bash&quot;</span>,
<a name="l02075"></a>02075        <span class="stringliteral">&quot;Start UNIX shell\n&quot;</span>
<a name="l02076"></a>02076        <span class="stringliteral">&quot;Start bash\n&quot;</span>)
<a name="l02077"></a>02077 {
<a name="l02078"></a>02078   execute_command (<span class="stringliteral">&quot;bash&quot;</span>, 0, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02079"></a>02079   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l02080"></a>02080 }
<a name="l02081"></a>02081 
<a name="l02082"></a>02082 <a class="code" href="command_8h.html#acc29190d35966eddbcfeceed3aab6d25">DEFUN</a> (vtysh_start_zsh,
<a name="l02083"></a>02083        vtysh_start_zsh_cmd,
<a name="l02084"></a>02084        <span class="stringliteral">&quot;start-shell zsh&quot;</span>,
<a name="l02085"></a>02085        <span class="stringliteral">&quot;Start UNIX shell\n&quot;</span>
<a name="l02086"></a>02086        <span class="stringliteral">&quot;Start Z shell\n&quot;</span>)
<a name="l02087"></a>02087 {
<a name="l02088"></a>02088   execute_command (<span class="stringliteral">&quot;zsh&quot;</span>, 0, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02089"></a>02089   <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
<a name="l02090"></a>02090 }
<a name="l02091"></a>02091 
<a name="l02092"></a>02092 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l02093"></a>02093 vtysh_install_default (<span class="keyword">enum</span> <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682">node_type</a> <a class="code" href="structcmd__node.html#a6a931223d8f8ff0df6d102ffc7ac666d">node</a>)
<a name="l02094"></a>02094 {
<a name="l02095"></a>02095   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (node, &amp;config_list_cmd);
<a name="l02096"></a>02096 }
<a name="l02097"></a>02097 
<a name="l02098"></a>02098 <span class="comment">/* Making connection to protocol daemon. */</span>
<a name="l02099"></a>02099 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l02100"></a>02100 vtysh_connect (<span class="keyword">struct</span> <a class="code" href="structvtysh__client.html">vtysh_client</a> *vclient)
<a name="l02101"></a>02101 {
<a name="l02102"></a>02102   <span class="keywordtype">int</span> ret;
<a name="l02103"></a>02103   <span class="keywordtype">int</span> sock, len;
<a name="l02104"></a>02104   <span class="keyword">struct </span>sockaddr_un addr;
<a name="l02105"></a>02105   <span class="keyword">struct </span>stat s_stat;
<a name="l02106"></a>02106 
<a name="l02107"></a>02107   <span class="comment">/* Stat socket to see if we have permission to access it. */</span>
<a name="l02108"></a>02108   ret = stat (vclient-&gt;<a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">path</a>, &amp;s_stat);
<a name="l02109"></a>02109   <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; errno != ENOENT)
<a name="l02110"></a>02110     {
<a name="l02111"></a>02111       fprintf  (stderr, <span class="stringliteral">&quot;vtysh_connect(%s): stat = %s\n&quot;</span>, 
<a name="l02112"></a>02112         vclient-&gt;<a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">path</a>, <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(errno)); 
<a name="l02113"></a>02113       <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a>(1);
<a name="l02114"></a>02114     }
<a name="l02115"></a>02115   
<a name="l02116"></a>02116   <span class="keywordflow">if</span> (ret &gt;= 0)
<a name="l02117"></a>02117     {
<a name="l02118"></a>02118       <span class="keywordflow">if</span> (! S_ISSOCK(s_stat.st_mode))
<a name="l02119"></a>02119     {
<a name="l02120"></a>02120       fprintf (stderr, <span class="stringliteral">&quot;vtysh_connect(%s): Not a socket\n&quot;</span>,
<a name="l02121"></a>02121            vclient-&gt;<a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">path</a>);
<a name="l02122"></a>02122       <a class="code" href="vtysh_8c.html#afa5f6ba5518772e1487b961507e2a570">exit</a> (1);
<a name="l02123"></a>02123     }
<a name="l02124"></a>02124       
<a name="l02125"></a>02125     }
<a name="l02126"></a>02126 
<a name="l02127"></a>02127   sock = socket (AF_UNIX, SOCK_STREAM, 0);
<a name="l02128"></a>02128   <span class="keywordflow">if</span> (sock &lt; 0)
<a name="l02129"></a>02129     {
<a name="l02130"></a>02130 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l02131"></a>02131 <span class="preprocessor"></span>      fprintf(stderr, <span class="stringliteral">&quot;vtysh_connect(%s): socket = %s\n&quot;</span>, vclient-&gt;<a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">path</a>,
<a name="l02132"></a>02132           <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(errno));
<a name="l02133"></a>02133 <span class="preprocessor">#endif </span><span class="comment">/* DEBUG */</span>
<a name="l02134"></a>02134       <span class="keywordflow">return</span> -1;
<a name="l02135"></a>02135     }
<a name="l02136"></a>02136 
<a name="l02137"></a>02137   memset (&amp;addr, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> sockaddr_un));
<a name="l02138"></a>02138   addr.sun_family = AF_UNIX;
<a name="l02139"></a>02139   strncpy (addr.sun_path, vclient-&gt;<a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">path</a>, strlen (vclient-&gt;<a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">path</a>));
<a name="l02140"></a>02140 <span class="preprocessor">#ifdef HAVE_STRUCT_SOCKADDR_UN_SUN_LEN</span>
<a name="l02141"></a>02141 <span class="preprocessor"></span>  len = addr.sun_len = SUN_LEN(&amp;addr);
<a name="l02142"></a>02142 <span class="preprocessor">#else</span>
<a name="l02143"></a>02143 <span class="preprocessor"></span>  len = <span class="keyword">sizeof</span> (addr.sun_family) + strlen (addr.sun_path);
<a name="l02144"></a>02144 <span class="preprocessor">#endif </span><span class="comment">/* HAVE_STRUCT_SOCKADDR_UN_SUN_LEN */</span>
<a name="l02145"></a>02145 
<a name="l02146"></a>02146   ret = connect (sock, (<span class="keyword">struct</span> sockaddr *) &amp;addr, len);
<a name="l02147"></a>02147   <span class="keywordflow">if</span> (ret &lt; 0)
<a name="l02148"></a>02148     {
<a name="l02149"></a>02149 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l02150"></a>02150 <span class="preprocessor"></span>      fprintf(stderr, <span class="stringliteral">&quot;vtysh_connect(%s): connect = %s\n&quot;</span>, vclient-&gt;<a class="code" href="structvtysh__client.html#a722b328383730d77080e14c15de44257">path</a>,
<a name="l02151"></a>02151           <a class="code" href="log_8c.html#a5292a9aa20fcddbb3998241685e18279">safe_strerror</a>(errno));
<a name="l02152"></a>02152 <span class="preprocessor">#endif </span><span class="comment">/* DEBUG */</span>
<a name="l02153"></a>02153       close (sock);
<a name="l02154"></a>02154       <span class="keywordflow">return</span> -1;
<a name="l02155"></a>02155     }
<a name="l02156"></a>02156   vclient-&gt;<a class="code" href="structvtysh__client.html#a02bd74c9b33f4776b164f8de5c18ecdb">fd</a> = sock;
<a name="l02157"></a>02157 
<a name="l02158"></a>02158   <span class="keywordflow">return</span> 0;
<a name="l02159"></a>02159 }
<a name="l02160"></a>02160 
<a name="l02161"></a>02161 <span class="keywordtype">int</span>
<a name="l02162"></a>02162 <a class="code" href="vtysh_8h.html#ad0816e38098067bb34c7531b0d9002da">vtysh_connect_all</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *daemon_name)
<a name="l02163"></a>02163 {
<a name="l02164"></a>02164   u_int <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
<a name="l02165"></a>02165   <span class="keywordtype">int</span> rc = 0;
<a name="l02166"></a>02166   <span class="keywordtype">int</span> matches = 0;
<a name="l02167"></a>02167 
<a name="l02168"></a>02168   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="vtysh_8c.html#a5fc1b8da02be0291aa6cd18350d381c2">VTYSH_INDEX_MAX</a>; i++)
<a name="l02169"></a>02169     {
<a name="l02170"></a>02170       <span class="keywordflow">if</span> (!daemon_name || !strcmp(daemon_name, <a class="code" href="structvtysh__client.html">vtysh_client</a>[i].<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>))
<a name="l02171"></a>02171     {
<a name="l02172"></a>02172       matches++;
<a name="l02173"></a>02173       <span class="keywordflow">if</span> (vtysh_connect(&amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[i]) == 0)
<a name="l02174"></a>02174         rc++;
<a name="l02175"></a>02175       <span class="comment">/* We need direct access to ripd in vtysh_exit_ripd_only. */</span>
<a name="l02176"></a>02176       <span class="keywordflow">if</span> (<a class="code" href="structvtysh__client.html">vtysh_client</a>[i].flag == <a class="code" href="vtysh_8h.html#ad9acdd9563ec1b73774b27c663cf2c3b">VTYSH_RIPD</a>)
<a name="l02177"></a>02177         ripd_client = &amp;<a class="code" href="structvtysh__client.html">vtysh_client</a>[<a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>];
<a name="l02178"></a>02178     }
<a name="l02179"></a>02179     }
<a name="l02180"></a>02180   <span class="keywordflow">if</span> (!matches)
<a name="l02181"></a>02181     fprintf(stderr, <span class="stringliteral">&quot;Error: no daemons match name %s!\n&quot;</span>, daemon_name);
<a name="l02182"></a>02182   <span class="keywordflow">return</span> rc;
<a name="l02183"></a>02183 }
<a name="l02184"></a>02184 
<a name="l02185"></a>02185 <span class="comment">/* To disable readline&#39;s filename completion. */</span>
<a name="l02186"></a>02186 <span class="keyword">static</span> <span class="keywordtype">char</span> *
<a name="l02187"></a>02187 vtysh_completion_entry_function (<span class="keyword">const</span> <span class="keywordtype">char</span> *ignore, <span class="keywordtype">int</span> invoking_key)
<a name="l02188"></a>02188 {
<a name="l02189"></a>02189   <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l02190"></a>02190 }
<a name="l02191"></a>02191 
<a name="l02192"></a>02192 <span class="keywordtype">void</span>
<a name="l02193"></a>02193 <a class="code" href="vtysh_8h.html#a02e1e20931be865c96775437e2044ac2">vtysh_readline_init</a> (<span class="keywordtype">void</span>)
<a name="l02194"></a>02194 {
<a name="l02195"></a>02195   <span class="comment">/* readline related settings. */</span>
<a name="l02196"></a>02196   rl_bind_key (<span class="charliteral">&#39;?&#39;</span>, (Function *) <a class="code" href="vtysh_8c.html#a74e77d84ee6e2039252cb6794abff49f">vtysh_rl_describe</a>);
<a name="l02197"></a>02197   rl_completion_entry_function = vtysh_completion_entry_function;
<a name="l02198"></a>02198   rl_attempted_completion_function = (CPPFunction *)<a class="code" href="vtysh_8c.html#a6181004aff2720bbe238406010a4e09f">new_completion</a>;
<a name="l02199"></a>02199   <span class="comment">/* do not append space after completion. It will be appended</span>
<a name="l02200"></a>02200 <span class="comment">   * in new_completion() function explicitly. */</span>
<a name="l02201"></a>02201   rl_completion_append_character = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l02202"></a>02202 }
<a name="l02203"></a>02203 
<a name="l02204"></a>02204 <span class="keywordtype">char</span> *
<a name="l02205"></a>02205 <a class="code" href="vtysh_8h.html#a37f52f3b9bfc70529d876b874efda20b">vtysh_prompt</a> (<span class="keywordtype">void</span>)
<a name="l02206"></a>02206 {
<a name="l02207"></a>02207   <span class="keyword">static</span> <span class="keyword">struct </span>utsname names;
<a name="l02208"></a>02208   <span class="keyword">static</span> <span class="keywordtype">char</span> buf[100];
<a name="l02209"></a>02209   <span class="keyword">const</span> <span class="keywordtype">char</span>*<a class="code" href="structhostname.html">hostname</a>;
<a name="l02210"></a>02210   <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structhost.html">host</a> <a class="code" href="structhost.html">host</a>;
<a name="l02211"></a>02211 
<a name="l02212"></a>02212   hostname = <a class="code" href="structhost.html">host</a>.<a class="code" href="structhost.html#ae29a96977a9350ec0d4323ccd38ebc9b">name</a>;
<a name="l02213"></a>02213 
<a name="l02214"></a>02214   <span class="keywordflow">if</span> (!hostname)
<a name="l02215"></a>02215     {
<a name="l02216"></a>02216       <span class="keywordflow">if</span> (!names.nodename[0])
<a name="l02217"></a>02217     uname (&amp;names);
<a name="l02218"></a>02218       hostname = names.nodename;
<a name="l02219"></a>02219     }
<a name="l02220"></a>02220 
<a name="l02221"></a>02221   <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, <span class="keyword">sizeof</span> buf, <a class="code" href="command_8c.html#afca289ddfb2617c0e1c2d26824bf9ccf">cmd_prompt</a> (vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a>), hostname);
<a name="l02222"></a>02222 
<a name="l02223"></a>02223   <span class="keywordflow">return</span> buf;
<a name="l02224"></a>02224 }
<a name="l02225"></a>02225 
<a name="l02226"></a>02226 <span class="keywordtype">void</span>
<a name="l02227"></a>02227 <a class="code" href="vtysh_8h.html#a24b0388fb74fc2f16f7741afdb3c70a2">vtysh_init_vty</a> (<span class="keywordtype">void</span>)
<a name="l02228"></a>02228 {
<a name="l02229"></a>02229   <span class="comment">/* Make vty structure. */</span>
<a name="l02230"></a>02230   vty = <a class="code" href="vty_8c.html#a5761c76c7eaf421587052c372034cd57">vty_new</a> ();
<a name="l02231"></a>02231   vty-&gt;<a class="code" href="structvty.html#a918d01c53936e81c45a177b0ceda3eca">type</a> = VTY_SHELL;
<a name="l02232"></a>02232   vty-&gt;<a class="code" href="structvty.html#a9ac72abb8e0411b52a9d91d1a11aeaff">node</a> = <a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>;
<a name="l02233"></a>02233 
<a name="l02234"></a>02234   <span class="comment">/* Initialize commands. */</span>
<a name="l02235"></a>02235   <a class="code" href="command_8h.html#ac8aa19764b709737963069a30334afb5">cmd_init</a> (0);
<a name="l02236"></a>02236 
<a name="l02237"></a>02237   <span class="comment">/* Install nodes. */</span>
<a name="l02238"></a>02238   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;bgp_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02239"></a>02239   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;rip_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02240"></a>02240   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;interface_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02241"></a>02241   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;rmap_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02242"></a>02242   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;zebra_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02243"></a>02243   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;bgp_vpnv4_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02244"></a>02244   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;bgp_ipv4_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02245"></a>02245   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;bgp_ipv4m_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02246"></a>02246 <span class="comment">/* #ifdef HAVE_IPV6 */</span>
<a name="l02247"></a>02247   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;bgp_ipv6_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02248"></a>02248   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;bgp_ipv6m_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02249"></a>02249 <span class="comment">/* #endif */</span>
<a name="l02250"></a>02250   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;ospf_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02251"></a>02251 <span class="comment">/* #ifdef HAVE_IPV6 */</span>
<a name="l02252"></a>02252   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;ripng_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02253"></a>02253   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;ospf6_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02254"></a>02254 <span class="comment">/* #endif */</span>
<a name="l02255"></a>02255   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;keychain_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02256"></a>02256   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;keychain_key_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02257"></a>02257   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;isis_node, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02258"></a>02258   <a class="code" href="command_8c.html#a7ee8a7c258e1e5a6e3ff6173dd1658e3">install_node</a> (&amp;<a class="code" href="vty_8c.html#a4515b7730ee408bb977cce603b51ce57">vty_node</a>, <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l02259"></a>02259 
<a name="l02260"></a>02260   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>);
<a name="l02261"></a>02261   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>);
<a name="l02262"></a>02262   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>);
<a name="l02263"></a>02263   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>);
<a name="l02264"></a>02264   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682aba91035637d2e661aaea111ea200751a">RIP_NODE</a>);
<a name="l02265"></a>02265   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>);
<a name="l02266"></a>02266   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>);
<a name="l02267"></a>02267   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682af7fc20f627618eee254477289b890df3">ZEBRA_NODE</a>);
<a name="l02268"></a>02268   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>);
<a name="l02269"></a>02269   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>);
<a name="l02270"></a>02270   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>);
<a name="l02271"></a>02271   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>);
<a name="l02272"></a>02272   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>);
<a name="l02273"></a>02273   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a53037feb34b636b5cabbcdb85698ac35">OSPF_NODE</a>);
<a name="l02274"></a>02274   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a54754d9b49687991ae5cf0ba4d32dab2">RIPNG_NODE</a>);
<a name="l02275"></a>02275   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>);
<a name="l02276"></a>02276   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab25ba1a66148ff64a7b5aa681cc8c2dd">ISIS_NODE</a>);
<a name="l02277"></a>02277   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>);
<a name="l02278"></a>02278   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>);
<a name="l02279"></a>02279   vtysh_install_default (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a42e5cebd0265d2c03a8da6fa220e11c6">VTY_NODE</a>);
<a name="l02280"></a>02280 
<a name="l02281"></a>02281   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_enable_cmd);
<a name="l02282"></a>02282   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_config_terminal_cmd);
<a name="l02283"></a>02283   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_disable_cmd);
<a name="l02284"></a>02284 
<a name="l02285"></a>02285   <span class="comment">/* &quot;exit&quot; command. */</span>
<a name="l02286"></a>02286   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_exit_all_cmd);
<a name="l02287"></a>02287   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_quit_all_cmd);
<a name="l02288"></a>02288   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_exit_all_cmd);
<a name="l02289"></a>02289   <span class="comment">/* install_element (CONFIG_NODE, &amp;vtysh_quit_all_cmd); */</span>
<a name="l02290"></a>02290   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_exit_all_cmd);
<a name="l02291"></a>02291   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_quit_all_cmd);
<a name="l02292"></a>02292   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682aba91035637d2e661aaea111ea200751a">RIP_NODE</a>, &amp;vtysh_exit_ripd_cmd);
<a name="l02293"></a>02293   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682aba91035637d2e661aaea111ea200751a">RIP_NODE</a>, &amp;vtysh_quit_ripd_cmd);
<a name="l02294"></a>02294   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a54754d9b49687991ae5cf0ba4d32dab2">RIPNG_NODE</a>, &amp;vtysh_exit_ripngd_cmd);
<a name="l02295"></a>02295   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a54754d9b49687991ae5cf0ba4d32dab2">RIPNG_NODE</a>, &amp;vtysh_quit_ripngd_cmd);
<a name="l02296"></a>02296   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a53037feb34b636b5cabbcdb85698ac35">OSPF_NODE</a>, &amp;vtysh_exit_ospfd_cmd);
<a name="l02297"></a>02297   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a53037feb34b636b5cabbcdb85698ac35">OSPF_NODE</a>, &amp;vtysh_quit_ospfd_cmd);
<a name="l02298"></a>02298   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>, &amp;vtysh_exit_ospf6d_cmd);
<a name="l02299"></a>02299   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>, &amp;vtysh_quit_ospf6d_cmd);
<a name="l02300"></a>02300   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;vtysh_exit_bgpd_cmd);
<a name="l02301"></a>02301   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;vtysh_quit_bgpd_cmd);
<a name="l02302"></a>02302   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>, &amp;vtysh_exit_bgpd_cmd);
<a name="l02303"></a>02303   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>, &amp;vtysh_quit_bgpd_cmd);
<a name="l02304"></a>02304   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>, &amp;vtysh_exit_bgpd_cmd);
<a name="l02305"></a>02305   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>, &amp;vtysh_quit_bgpd_cmd);
<a name="l02306"></a>02306   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>, &amp;vtysh_exit_bgpd_cmd);
<a name="l02307"></a>02307   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>, &amp;vtysh_quit_bgpd_cmd);
<a name="l02308"></a>02308   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>, &amp;vtysh_exit_bgpd_cmd);
<a name="l02309"></a>02309   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>, &amp;vtysh_quit_bgpd_cmd);
<a name="l02310"></a>02310   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>, &amp;vtysh_exit_bgpd_cmd);
<a name="l02311"></a>02311   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>, &amp;vtysh_quit_bgpd_cmd);
<a name="l02312"></a>02312   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab25ba1a66148ff64a7b5aa681cc8c2dd">ISIS_NODE</a>, &amp;vtysh_exit_isisd_cmd);
<a name="l02313"></a>02313   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab25ba1a66148ff64a7b5aa681cc8c2dd">ISIS_NODE</a>, &amp;vtysh_quit_isisd_cmd);
<a name="l02314"></a>02314   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>, &amp;vtysh_exit_ripd_cmd);
<a name="l02315"></a>02315   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>, &amp;vtysh_quit_ripd_cmd);
<a name="l02316"></a>02316   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>, &amp;vtysh_exit_ripd_cmd);
<a name="l02317"></a>02317   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>, &amp;vtysh_quit_ripd_cmd);
<a name="l02318"></a>02318   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;vtysh_exit_rmap_cmd);
<a name="l02319"></a>02319   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;vtysh_quit_rmap_cmd);
<a name="l02320"></a>02320   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a42e5cebd0265d2c03a8da6fa220e11c6">VTY_NODE</a>, &amp;vtysh_exit_line_vty_cmd);
<a name="l02321"></a>02321   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a42e5cebd0265d2c03a8da6fa220e11c6">VTY_NODE</a>, &amp;vtysh_quit_line_vty_cmd);
<a name="l02322"></a>02322 
<a name="l02323"></a>02323   <span class="comment">/* &quot;end&quot; command. */</span>
<a name="l02324"></a>02324   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02325"></a>02325   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02326"></a>02326   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682aba91035637d2e661aaea111ea200751a">RIP_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02327"></a>02327   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a54754d9b49687991ae5cf0ba4d32dab2">RIPNG_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02328"></a>02328   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a53037feb34b636b5cabbcdb85698ac35">OSPF_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02329"></a>02329   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02330"></a>02330   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02331"></a>02331   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02332"></a>02332   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02333"></a>02333   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02334"></a>02334   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02335"></a>02335   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02336"></a>02336   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab25ba1a66148ff64a7b5aa681cc8c2dd">ISIS_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02337"></a>02337   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02338"></a>02338   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02339"></a>02339   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02340"></a>02340   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a42e5cebd0265d2c03a8da6fa220e11c6">VTY_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02341"></a>02341 
<a name="l02342"></a>02342   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;<a class="code" href="if_8h.html#a51777a76e1c996fcf81ab577db829158">interface_desc_cmd</a>);
<a name="l02343"></a>02343   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;no_interface_desc_cmd);
<a name="l02344"></a>02344   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;vtysh_end_all_cmd);
<a name="l02345"></a>02345   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;<a class="code" href="vtysh_8c.html#ac7f77219e6451a2ff3fc389329472c3d">vtysh_exit_interface_cmd</a>);
<a name="l02346"></a>02346   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ab6c1e2776b59860b606da9864e608e39">INTERFACE_NODE</a>, &amp;vtysh_quit_interface_cmd);
<a name="l02347"></a>02347   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;router_rip_cmd);
<a name="l02348"></a>02348 <span class="preprocessor">#ifdef HAVE_IPV6</span>
<a name="l02349"></a>02349 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;router_ripng_cmd);
<a name="l02350"></a>02350 <span class="preprocessor">#endif</span>
<a name="l02351"></a>02351 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;router_ospf_cmd);
<a name="l02352"></a>02352 <span class="preprocessor">#ifdef HAVE_IPV6</span>
<a name="l02353"></a>02353 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;router_ospf6_cmd);
<a name="l02354"></a>02354 <span class="preprocessor">#endif</span>
<a name="l02355"></a>02355 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;router_isis_cmd);
<a name="l02356"></a>02356   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;router_bgp_cmd);
<a name="l02357"></a>02357   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;router_bgp_view_cmd);
<a name="l02358"></a>02358   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;address_family_vpnv4_cmd);
<a name="l02359"></a>02359   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;address_family_vpnv4_unicast_cmd);
<a name="l02360"></a>02360   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;address_family_ipv4_unicast_cmd);
<a name="l02361"></a>02361   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;address_family_ipv4_multicast_cmd);
<a name="l02362"></a>02362 <span class="preprocessor">#ifdef HAVE_IPV6</span>
<a name="l02363"></a>02363 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;address_family_ipv6_cmd);
<a name="l02364"></a>02364   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7493d9d6392a7010c13aa962093436a7">BGP_NODE</a>, &amp;address_family_ipv6_unicast_cmd);
<a name="l02365"></a>02365 <span class="preprocessor">#endif</span>
<a name="l02366"></a>02366 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7d6209ce7672734b4681adb05e925e08">BGP_VPNV4_NODE</a>, &amp;exit_address_family_cmd);
<a name="l02367"></a>02367   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a7391c0900502387d3204e9de89022905">BGP_IPV4_NODE</a>, &amp;exit_address_family_cmd);
<a name="l02368"></a>02368   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a0f046c161a229e71ed9da963e29c961d">BGP_IPV4M_NODE</a>, &amp;exit_address_family_cmd);
<a name="l02369"></a>02369   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682ad40fb52980325d9440b23b5f86701ffc">BGP_IPV6_NODE</a>, &amp;exit_address_family_cmd);
<a name="l02370"></a>02370   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682adbe4c8c9e45712b199bcc26560e77ea4">BGP_IPV6M_NODE</a>, &amp;exit_address_family_cmd);
<a name="l02371"></a>02371   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;key_chain_cmd);
<a name="l02372"></a>02372   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;route_map_cmd);
<a name="l02373"></a>02373   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_line_vty_cmd);
<a name="l02374"></a>02374   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>, &amp;key_cmd);
<a name="l02375"></a>02375   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a17696c332f7c9a776b7ce27fab05739b">KEYCHAIN_NODE</a>, &amp;key_chain_cmd);
<a name="l02376"></a>02376   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a82708770dcbadd9cbe5279a2d7d1a974">KEYCHAIN_KEY_NODE</a>, &amp;key_chain_cmd);
<a name="l02377"></a>02377   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_interface_cmd);
<a name="l02378"></a>02378   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_no_interface_cmd);
<a name="l02379"></a>02379   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_show_running_config_cmd);
<a name="l02380"></a>02380   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_copy_runningconfig_startupconfig_cmd);
<a name="l02381"></a>02381   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_write_file_cmd);
<a name="l02382"></a>02382   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_write_cmd);
<a name="l02383"></a>02383 
<a name="l02384"></a>02384   <span class="comment">/* &quot;write terminal&quot; command. */</span>
<a name="l02385"></a>02385   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_write_terminal_cmd);
<a name="l02386"></a>02386  
<a name="l02387"></a>02387   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_integrated_config_cmd);
<a name="l02388"></a>02388   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_integrated_config_cmd);
<a name="l02389"></a>02389 
<a name="l02390"></a>02390   <span class="comment">/* &quot;write memory&quot; command. */</span>
<a name="l02391"></a>02391   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_write_memory_cmd);
<a name="l02392"></a>02392 
<a name="l02393"></a>02393   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_terminal_length_cmd);
<a name="l02394"></a>02394   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_terminal_length_cmd);
<a name="l02395"></a>02395   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_terminal_no_length_cmd);
<a name="l02396"></a>02396   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_terminal_no_length_cmd);
<a name="l02397"></a>02397   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_show_daemons_cmd);
<a name="l02398"></a>02398   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_show_daemons_cmd);
<a name="l02399"></a>02399 
<a name="l02400"></a>02400   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_ping_cmd);
<a name="l02401"></a>02401   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_ping_ip_cmd);
<a name="l02402"></a>02402   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_traceroute_cmd);
<a name="l02403"></a>02403   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_traceroute_ip_cmd);
<a name="l02404"></a>02404 <span class="preprocessor">#ifdef HAVE_IPV6</span>
<a name="l02405"></a>02405 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_ping6_cmd);
<a name="l02406"></a>02406   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_traceroute6_cmd);
<a name="l02407"></a>02407 <span class="preprocessor">#endif</span>
<a name="l02408"></a>02408 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_telnet_cmd);
<a name="l02409"></a>02409   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_telnet_port_cmd);
<a name="l02410"></a>02410   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_ssh_cmd);
<a name="l02411"></a>02411   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_ping_cmd);
<a name="l02412"></a>02412   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_ping_ip_cmd);
<a name="l02413"></a>02413   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_traceroute_cmd);
<a name="l02414"></a>02414   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_traceroute_ip_cmd);
<a name="l02415"></a>02415 <span class="preprocessor">#ifdef HAVE_IPV6</span>
<a name="l02416"></a>02416 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_ping6_cmd);
<a name="l02417"></a>02417   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_traceroute6_cmd);
<a name="l02418"></a>02418 <span class="preprocessor">#endif</span>
<a name="l02419"></a>02419 <span class="preprocessor"></span>  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_telnet_cmd);
<a name="l02420"></a>02420   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_telnet_port_cmd);
<a name="l02421"></a>02421   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_ssh_cmd);
<a name="l02422"></a>02422   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_start_shell_cmd);
<a name="l02423"></a>02423   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_start_bash_cmd);
<a name="l02424"></a>02424   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_start_zsh_cmd);
<a name="l02425"></a>02425   
<a name="l02426"></a>02426   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_show_memory_cmd);
<a name="l02427"></a>02427   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_show_memory_cmd);
<a name="l02428"></a>02428 
<a name="l02429"></a>02429   <span class="comment">/* Logging */</span>
<a name="l02430"></a>02430   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;vtysh_show_logging_cmd);
<a name="l02431"></a>02431   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;vtysh_show_logging_cmd);
<a name="l02432"></a>02432   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_stdout_cmd);
<a name="l02433"></a>02433   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_stdout_level_cmd);
<a name="l02434"></a>02434   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_stdout_cmd);
<a name="l02435"></a>02435   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_file_cmd);
<a name="l02436"></a>02436   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_file_level_cmd);
<a name="l02437"></a>02437   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_file_cmd);
<a name="l02438"></a>02438   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_file_level_cmd);
<a name="l02439"></a>02439   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_monitor_cmd);
<a name="l02440"></a>02440   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_monitor_level_cmd);
<a name="l02441"></a>02441   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_monitor_cmd);
<a name="l02442"></a>02442   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_syslog_cmd);
<a name="l02443"></a>02443   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_syslog_level_cmd);
<a name="l02444"></a>02444   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_syslog_cmd);
<a name="l02445"></a>02445   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_trap_cmd);
<a name="l02446"></a>02446   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_trap_cmd);
<a name="l02447"></a>02447   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_facility_cmd);
<a name="l02448"></a>02448   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_facility_cmd);
<a name="l02449"></a>02449   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_record_priority_cmd);
<a name="l02450"></a>02450   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_record_priority_cmd);
<a name="l02451"></a>02451   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_log_timestamp_precision_cmd);
<a name="l02452"></a>02452   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_log_timestamp_precision_cmd);
<a name="l02453"></a>02453 
<a name="l02454"></a>02454   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_service_password_encrypt_cmd);
<a name="l02455"></a>02455   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_service_password_encrypt_cmd);
<a name="l02456"></a>02456 
<a name="l02457"></a>02457   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_password_cmd);
<a name="l02458"></a>02458   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_password_text_cmd);
<a name="l02459"></a>02459   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_enable_password_cmd);
<a name="l02460"></a>02460   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;vtysh_enable_password_text_cmd);
<a name="l02461"></a>02461   <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_vtysh_enable_password_cmd);
<a name="l02462"></a>02462 
<a name="l02463"></a>02463 }
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="vtysh_8c.html">vtysh.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:09 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
