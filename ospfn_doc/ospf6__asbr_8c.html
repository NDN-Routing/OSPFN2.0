<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: ospf6d/ospf6_asbr.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ospf6__asbr_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ospf6d/ospf6_asbr.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="prefix_8h_source.html">prefix.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vty_8h_source.html">vty.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="routemap_8h_source.html">routemap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="table_8h_source.html">table.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="plist_8h_source.html">plist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="thread_8h_source.html">thread.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="linklist_8h_source.html">linklist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__proto_8h_source.html">ospf6_proto.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsa_8h_source.html">ospf6_lsa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsdb_8h_source.html">ospf6_lsdb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__route_8h_source.html">ospf6_route.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__zebra_8h_source.html">ospf6_zebra.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__message_8h_source.html">ospf6_message.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__top_8h_source.html">ospf6_top.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__area_8h_source.html">ospf6_area.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__interface_8h_source.html">ospf6_interface.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__neighbor_8h_source.html">ospf6_neighbor.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__asbr_8h_source.html">ospf6_asbr.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__intra_8h_source.html">ospf6_intra.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__flood_8h_source.html">ospf6_flood.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6d_8h_source.html">ospf6d.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ospf6_asbr.c:</div>
<div class="dyncontent">
<div class="center"><img src="ospf6__asbr_8c__incl.png" border="0" usemap="#ospf6d_2ospf6__asbr_8c" alt=""/></div>
<map name="ospf6d_2ospf6__asbr_8c" id="ospf6d_2ospf6__asbr_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1201,80,1268,107"/><area shape="rect" id="node53" href="log_8h.html" title="log.h" alt="" coords="2414,229,2465,256"/><area shape="rect" id="node56" href="memory_8h.html" title="memory.h" alt="" coords="2696,80,2779,107"/><area shape="rect" id="node58" href="prefix_8h.html" title="prefix.h" alt="" coords="2873,155,2940,181"/><area shape="rect" id="node60" href="command_8h.html" title="command.h" alt="" coords="2478,80,2569,107"/><area shape="rect" id="node62" href="vty_8h.html" title="vty.h" alt="" coords="2535,155,2587,181"/><area shape="rect" id="node64" href="thread_8h.html" title="thread.h" alt="" coords="2573,229,2645,256"/><area shape="rect" id="node68" href="routemap_8h.html" title="routemap.h" alt="" coords="3261,229,3352,256"/><area shape="rect" id="node70" href="table_8h.html" title="table.h" alt="" coords="3003,155,3067,181"/><area shape="rect" id="node72" href="plist_8h.html" title="plist.h" alt="" coords="3387,80,3445,107"/><area shape="rect" id="node75" href="linklist_8h.html" title="linklist.h" alt="" coords="3470,80,3540,107"/><area shape="rect" id="node77" href="ospf6__proto_8h.html" title="ospf6_proto.h" alt="" coords="3565,80,3672,107"/><area shape="rect" id="node79" href="ospf6__lsa_8h.html" title="ospf6_lsa.h" alt="" coords="3696,80,3787,107"/><area shape="rect" id="node81" href="ospf6__lsdb_8h.html" title="ospf6_lsdb.h" alt="" coords="2985,80,3084,107"/><area shape="rect" id="node85" href="ospf6__route_8h.html" title="ospf6_route.h" alt="" coords="2853,80,2960,107"/><area shape="rect" id="node89" href="ospf6__zebra_8h.html" title="ospf6_zebra.h" alt="" coords="3811,80,3917,107"/><area shape="rect" id="node91" href="ospf6__message_8h.html" title="ospf6_message.h" alt="" coords="3941,80,4072,107"/><area shape="rect" id="node93" href="ospf6__top_8h.html" title="ospf6_top.h" alt="" coords="3217,155,3311,181"/><area shape="rect" id="node96" href="ospf6__area_8h.html" title="ospf6_area.h" alt="" coords="3161,80,3260,107"/><area shape="rect" id="node99" href="ospf6__interface_8h.html" title="ospf6_interface.h" alt="" coords="4097,80,4223,107"/><area shape="rect" id="node101" href="ospf6__neighbor_8h.html" title="ospf6_neighbor.h" alt="" coords="4247,80,4373,107"/><area shape="rect" id="node103" href="ospf6__asbr_8h.html" title="ospf6_asbr.h" alt="" coords="4398,80,4497,107"/><area shape="rect" id="node105" href="ospf6__intra_8h.html" title="ospf6_intra.h" alt="" coords="4522,80,4621,107"/><area shape="rect" id="node107" href="ospf6__flood_8h.html" title="ospf6_flood.h" alt="" coords="4646,80,4751,107"/><area shape="rect" id="node109" href="ospf6d_8h.html" title="ospf6d.h" alt="" coords="4776,80,4851,107"/></map>
</div>
</div>
<p><a href="ospf6__asbr_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#aca90369fe90fa47428574432a83222aa">ZROUTE_NAME</a>(<a class="el" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>)&#160;&#160;&#160;zebra_route_string(<a class="el" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a5993a93bf914de5e343e06ffe55c14e8">ospf6_as_external_lsa_originate</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ab2b3fe7537d6dde649e7a0faf0e912e8">ospf6_asbr_lsa_add</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a38f6316bb47fff653cbbbd0d6e3129f0">ospf6_asbr_lsa_remove</a> (struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#adb3d1ad8b89c9eef8b6f4f3e3cfa5281">ospf6_asbr_lsentry_add</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *asbr_entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a70d2ab867a5914a2822fbb953fc7e2c1">ospf6_asbr_lsentry_remove</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *asbr_entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ac7a258ff3fcee84fe56c186ec3eee658">ospf6_asbr_routemap_set</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, const char *mapname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a6e50d74185a32e0af32bf80803135747">ospf6_asbr_routemap_unset</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ab1cc6fe63025e3a7b21cfd5918f7ceb4">ospf6_asbr_routemap_update</a> (const char *mapname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a2bf469c9d8fc0b2a9d17279cd7ae0938">ospf6_asbr_is_asbr</a> (struct <a class="el" href="structospf6.html">ospf6</a> *o)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a99ac3d74b5dbc206c2e5b3050eebf783">ospf6_asbr_redistribute_set</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ab2bee0f0d93dd8993623645e63cd4f2e">ospf6_asbr_redistribute_unset</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a28e49591579d5ebab190126fff7762fa">ospf6_asbr_redistribute_add</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int ifindex, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, u_int nexthop_num, struct in6_addr *<a class="el" href="structnexthop.html">nexthop</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a76af4e8a926eb7373e59626cac4a5fc0">ospf6_asbr_redistribute_remove</a> (int <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int ifindex, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a6bd269eb336a20429b2eb162e872422d">DEFUN</a> (ospf6_redistribute, ospf6_redistribute_cmd,&quot;redistribute (static|kernel|<a class="el" href="structconnected.html">connected</a>|<a class="el" href="structripng.html">ripng</a>|<a class="el" href="structbgp.html">bgp</a>)&quot;,&quot;Redistribute\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Static route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Kernel route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Connected route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;RIPng route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;BGP route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a07c180dd761cd01492ed1afcae923047">DEFUN</a> (ospf6_redistribute_routemap, ospf6_redistribute_routemap_cmd,&quot;redistribute (static|kernel|<a class="el" href="structconnected.html">connected</a>|<a class="el" href="structripng.html">ripng</a>|<a class="el" href="structbgp.html">bgp</a>) route-map <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;,&quot;Redistribute\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Static routes\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Kernel route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Connected route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;RIPng route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;BGP route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map reference\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ab070b06827d612e457abf568701f3a66">DEFUN</a> (no_ospf6_redistribute, no_ospf6_redistribute_cmd,&quot;no redistribute (static|kernel|<a class="el" href="structconnected.html">connected</a>|<a class="el" href="structripng.html">ripng</a>|<a class="el" href="structbgp.html">bgp</a>)&quot;, NO_STR&quot;Redistribute\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Static route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Kernel route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Connected route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;RIPng route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;BGP route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#aa002be662bf5a69805137bc6eff9c4bd">ospf6_redistribute_config_write</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a4a6f92686f7842a7bbb8828e7d27971a">ospf6_redistribute_show_config</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a1f6eaaa8f18884d51f5c4c710a804f67">ospf6_routemap_rule_match_address_prefixlist</a> (void *rule, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, <a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, void *object)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a77a7b609e17f02fbbc5ab369aca79a58">ospf6_routemap_rule_match_address_prefixlist_compile</a> (const char *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#af7dbfd4c6d0a911e813b078706d1d8be">ospf6_routemap_rule_match_address_prefixlist_free</a> (void *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#abff80de2204b36def7ccf7684cc051b1">ospf6_routemap_rule_set_metric_type</a> (void *rule, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, <a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, void *object)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ac573d80e528b02dbc9fe0cc14aa83077">ospf6_routemap_rule_set_metric_type_compile</a> (const char *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a8e505e9e0d85604eef5cb8f0f5a00536">ospf6_routemap_rule_set_metric_type_free</a> (void *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a9bbb381757c42afc0dca6f54aaea0d5a">ospf6_routemap_rule_set_metric</a> (void *rule, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, <a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, void *object)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#acc09258cffd929a9118725b061abe072">ospf6_routemap_rule_set_metric_compile</a> (const char *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a4eb4f8ae71ede7cfab80fa49c023f090">ospf6_routemap_rule_set_metric_free</a> (void *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a5cb19d7f4a8c7f2186f15f9abf109776">ospf6_routemap_rule_set_forwarding</a> (void *rule, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, <a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a> <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, void *object)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a3ead4685cd882d40284b45b4e90f98b2">ospf6_routemap_rule_set_forwarding_compile</a> (const char *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a2eebd421768e9164bde3493fe1cb0041">ospf6_routemap_rule_set_forwarding_free</a> (void *rule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ab8b7af4d3362a15058d9eb33ae4400ea">route_map_command_status</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, int ret)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ab7419d155a0bbf398f257ca9c0581f0c">DEFUN</a> (ospf6_routemap_match_address_prefixlist, ospf6_routemap_match_address_prefixlist_cmd,&quot;match ipv6 address <a class="el" href="structprefix.html">prefix</a>-<a class="el" href="structlist.html">list</a> <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;,&quot;Match values\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;IPV6_STR&quot;Match address of route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Match entries of <a class="el" href="structprefix.html">prefix</a>-lists\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IPv6 <a class="el" href="structprefix.html">prefix</a>-<a class="el" href="structlist.html">list</a> <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#afd360113017b3e7c4f848811678b3bd8">DEFUN</a> (ospf6_routemap_no_match_address_prefixlist, ospf6_routemap_no_match_address_prefixlist_cmd,&quot;no match ipv6 address <a class="el" href="structprefix.html">prefix</a>-<a class="el" href="structlist.html">list</a> <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;, NO_STR&quot;Match values\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;IPV6_STR&quot;Match address of route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Match entries of <a class="el" href="structprefix.html">prefix</a>-lists\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IPv6 <a class="el" href="structprefix.html">prefix</a>-<a class="el" href="structlist.html">list</a> <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ab9650d8e20a3f24669e0d00d6140bdec">DEFUN</a> (ospf6_routemap_set_metric_type, ospf6_routemap_set_metric_type_cmd,&quot;set <a class="el" href="structmetric.html">metric</a>-<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> (<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>-1|<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>-2)&quot;,&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Type of <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 external <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> 1 <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 external <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> 2 <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a77430e7029ec1a4c6c95b998c4c3f2b9">DEFUN</a> (ospf6_routemap_no_set_metric_type, ospf6_routemap_no_set_metric_type_cmd,&quot;no set <a class="el" href="structmetric.html">metric</a>-<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> (<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>-1|<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>-2)&quot;, NO_STR&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Type of <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 external <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> 1 <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 external <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> 2 <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a37b6b1bf80a6e7a04065d0fec2698c93">DEFUN</a> (set_metric, set_metric_cmd,&quot;set <a class="el" href="structmetric.html">metric</a> &lt;0-4294967295&gt;&quot;,&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Metric value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Metric value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a58ba17c02aa3704026ea54521662c3d4">DEFUN</a> (no_set_metric, no_set_metric_cmd,&quot;no set <a class="el" href="structmetric.html">metric</a> &lt;0-4294967295&gt;&quot;, NO_STR&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Metric\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;METRIC value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a73999a644c91e01820ae3b0287e0a880">DEFUN</a> (ospf6_routemap_set_forwarding, ospf6_routemap_set_forwarding_cmd,&quot;set forwarding-address X:X::X:X&quot;,&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Forwarding Address\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IPv6 Address\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a02dc6a6c14975f128448b6805d5c7304">DEFUN</a> (ospf6_routemap_no_set_forwarding, ospf6_routemap_no_set_forwarding_cmd,&quot;no set forwarding-address X:X::X:X&quot;, NO_STR&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Forwarding Address\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IPv6 Address\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#acea1e25a5d679557d6b5584aca667400">ospf6_routemap_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ac4efec597ed63b9913ad06e6ce90ec14">ospf6_as_external_lsa_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a9654aa6d9be339df2be929e5f83d06f4">ospf6_asbr_external_route_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ae294c2aa58296eaf899007abc117d79f">DEFUN</a> (show_ipv6_ospf6_redistribute, show_ipv6_ospf6_redistribute_cmd,&quot;show ipv6 <a class="el" href="structospf6.html">ospf6</a> redistribute&quot;, SHOW_STR IP6_STR OSPF6_STR&quot;redistributing External information\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a2a6bd275a824bcf6cc291f124575c34f">ospf6_asbr_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a445d87ea61a2ff04db56c5f91d1a2362">DEFUN</a> (debug_ospf6_asbr, debug_ospf6_asbr_cmd,&quot;debug <a class="el" href="structospf6.html">ospf6</a> asbr&quot;, DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 ASBR function\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a05d0cb663500b773ee3636b4be6ff9f9">DEFUN</a> (no_debug_ospf6_asbr, no_debug_ospf6_asbr_cmd,&quot;no debug <a class="el" href="structospf6.html">ospf6</a> asbr&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 ASBR function\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a2a4f3184aeae69997a96477ee4cb9e11">config_write_ospf6_debug_asbr</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a72f1000adc083f3fdce938c71a9e2a3f">install_element_ospf6_debug_asbr</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a81a15a09db2567a06559cca44f781117">conf_debug_ospf6_asbr</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#ab6e86af0f931428e486e697c8d08c745">ospf6_routemap_rule_match_address_prefixlist_cmd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a4bdc9fc290c63810f2e4885cfa7f0d38">ospf6_routemap_rule_set_metric_type_cmd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#af762ebede676aed28ba19be42e85bb49">ospf6_routemap_rule_set_metric_cmd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a25c217468580d33bcbebeed47ff6efd7">ospf6_routemap_rule_set_forwarding_cmd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__asbr_8c.html#a62ce66c9e6883c17d480fff9d2dba1d8">as_external_handler</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aca90369fe90fa47428574432a83222aa"></a><!-- doxytag: member="ospf6_asbr.c::ZROUTE_NAME" ref="aca90369fe90fa47428574432a83222aa" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZROUTE_NAME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a></td><td>)</td>
          <td>&#160;&#160;&#160;zebra_route_string(<a class="el" href="spgrid_8c.html#a3162ada50d1df39e0f0555ea3d60dea1">x</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00053">53</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2a4f3184aeae69997a96477ee4cb9e11"></a><!-- doxytag: member="ospf6_asbr.c::config_write_ospf6_debug_asbr" ref="a2a4f3184aeae69997a96477ee4cb9e11" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int config_write_ospf6_debug_asbr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01249">1249</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a>)
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;debug ospf6 asbr%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6bd269eb336a20429b2eb162e872422d"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a6bd269eb336a20429b2eb162e872422d" args="(ospf6_redistribute, ospf6_redistribute_cmd,&quot;redistribute (static|kernel|connected|ripng|bgp)&quot;,&quot;Redistribute\n&quot;&quot;Static route\n&quot;&quot;Kernel route\n&quot;&quot;Connected route\n&quot;&quot;RIPng route\n&quot;&quot;BGP route\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ospf6_redistribute&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ospf6_redistribute_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;redistribute (static|kernel|<a class="el" href="structconnected.html">connected</a>|<a class="el" href="structripng.html">ripng</a>|<a class="el" href="structbgp.html">bgp</a>)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Redistribute\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Static route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Kernel route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Connected route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;RIPng route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;BGP route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00617">617</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> = 0;

  <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;sta&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a93a491d961eb8bf6f61efd8f68579a0b">ZEBRA_ROUTE_STATIC</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;ker&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a742710c29f8b3e8dc06ce7a5965c097c">ZEBRA_ROUTE_KERNEL</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;con&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#aee45d53cdac2bd7fe4b2ce021c9d1b30">ZEBRA_ROUTE_CONNECT</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;rip&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#af2bdc951784ebaac4f1cec75e7b6313b">ZEBRA_ROUTE_RIPNG</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;bgp&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a1991829492a88a5df46712d8782240a0">ZEBRA_ROUTE_BGP</a>;

  <a class="code" href="ospf6__asbr_8c.html#ab2bee0f0d93dd8993623645e63cd4f2e">ospf6_asbr_redistribute_unset</a> (type);
  <a class="code" href="ospf6__asbr_8c.html#a6e50d74185a32e0af32bf80803135747">ospf6_asbr_routemap_unset</a> (type);
  <a class="code" href="ospf6__asbr_8c.html#a99ac3d74b5dbc206c2e5b3050eebf783">ospf6_asbr_redistribute_set</a> (type);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a07c180dd761cd01492ed1afcae923047"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a07c180dd761cd01492ed1afcae923047" args="(ospf6_redistribute_routemap, ospf6_redistribute_routemap_cmd,&quot;redistribute (static|kernel|connected|ripng|bgp) route&#45;map WORD&quot;,&quot;Redistribute\n&quot;&quot;Static routes\n&quot;&quot;Kernel route\n&quot;&quot;Connected route\n&quot;&quot;RIPng route\n&quot;&quot;BGP route\n&quot;&quot;Route map reference\n&quot;&quot;Route map name\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ospf6_redistribute_routemap&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ospf6_redistribute_routemap_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;redistribute (static|kernel|<a class="el" href="structconnected.html">connected</a>|<a class="el" href="structripng.html">ripng</a>|<a class="el" href="structbgp.html">bgp</a>) route-map <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Redistribute\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Static routes\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Kernel route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Connected route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;RIPng route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;BGP route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map reference\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Route map <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00647">647</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> = 0;

  <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;sta&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a93a491d961eb8bf6f61efd8f68579a0b">ZEBRA_ROUTE_STATIC</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;ker&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a742710c29f8b3e8dc06ce7a5965c097c">ZEBRA_ROUTE_KERNEL</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;con&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#aee45d53cdac2bd7fe4b2ce021c9d1b30">ZEBRA_ROUTE_CONNECT</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;rip&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#af2bdc951784ebaac4f1cec75e7b6313b">ZEBRA_ROUTE_RIPNG</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;bgp&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a1991829492a88a5df46712d8782240a0">ZEBRA_ROUTE_BGP</a>;

  <a class="code" href="ospf6__asbr_8c.html#ab2bee0f0d93dd8993623645e63cd4f2e">ospf6_asbr_redistribute_unset</a> (type);
  <a class="code" href="ospf6__asbr_8c.html#ac7a258ff3fcee84fe56c186ec3eee658">ospf6_asbr_routemap_set</a> (type, argv[1]);
  <a class="code" href="ospf6__asbr_8c.html#a99ac3d74b5dbc206c2e5b3050eebf783">ospf6_asbr_redistribute_set</a> (type);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab070b06827d612e457abf568701f3a66"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="ab070b06827d612e457abf568701f3a66" args="(no_ospf6_redistribute, no_ospf6_redistribute_cmd,&quot;no redistribute (static|kernel|connected|ripng|bgp)&quot;, NO_STR&quot;Redistribute\n&quot;&quot;Static route\n&quot;&quot;Kernel route\n&quot;&quot;Connected route\n&quot;&quot;RIPng route\n&quot;&quot;BGP route\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_ospf6_redistribute&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_ospf6_redistribute_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no redistribute (static|kernel|<a class="el" href="structconnected.html">connected</a>|<a class="el" href="structripng.html">ripng</a>|<a class="el" href="structbgp.html">bgp</a>)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Redistribute\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Static route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Kernel route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Connected route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;RIPng route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;BGP route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00679">679</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> = 0;

  <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;sta&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a93a491d961eb8bf6f61efd8f68579a0b">ZEBRA_ROUTE_STATIC</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;ker&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a742710c29f8b3e8dc06ce7a5965c097c">ZEBRA_ROUTE_KERNEL</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;con&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#aee45d53cdac2bd7fe4b2ce021c9d1b30">ZEBRA_ROUTE_CONNECT</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;rip&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#af2bdc951784ebaac4f1cec75e7b6313b">ZEBRA_ROUTE_RIPNG</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp (argv[0], <span class="stringliteral">&quot;bgp&quot;</span>, 3) == 0)
    type = <a class="code" href="zebra_8h.html#a1991829492a88a5df46712d8782240a0">ZEBRA_ROUTE_BGP</a>;

  <a class="code" href="ospf6__asbr_8c.html#ab2bee0f0d93dd8993623645e63cd4f2e">ospf6_asbr_redistribute_unset</a> (type);
  <a class="code" href="ospf6__asbr_8c.html#a6e50d74185a32e0af32bf80803135747">ospf6_asbr_routemap_unset</a> (type);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab7419d155a0bbf398f257ca9c0581f0c"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="ab7419d155a0bbf398f257ca9c0581f0c" args="(ospf6_routemap_match_address_prefixlist, ospf6_routemap_match_address_prefixlist_cmd,&quot;match ipv6 address prefix&#45;list WORD&quot;,&quot;Match values\n&quot;IPV6_STR&quot;Match address of route\n&quot;&quot;Match entries of prefix&#45;lists\n&quot;&quot;IPv6 prefix&#45;list name\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ospf6_routemap_match_address_prefixlist&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ospf6_routemap_match_address_prefixlist_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;match ipv6 address <a class="el" href="structprefix.html">prefix</a>-<a class="el" href="structlist.html">list</a> <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Match values\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;IPV6_STR&quot;Match address of route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Match entries of <a class="el" href="structprefix.html">prefix</a>-lists\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IPv6 <a class="el" href="structprefix.html">prefix</a>-<a class="el" href="structlist.html">list</a> <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00963">963</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret = <a class="code" href="routemap_8c.html#ad681bdbc1826c0d017ff19a4315f4691">route_map_add_match</a> ((<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>,
                                 <span class="stringliteral">&quot;ipv6 address prefix-list&quot;</span>, argv[0]);
  <span class="keywordflow">return</span> <a class="code" href="ospf6__asbr_8c.html#ab8b7af4d3362a15058d9eb33ae4400ea">route_map_command_status</a> (<a class="code" href="structvty.html">vty</a>, ret);
}
</pre></div>
</div>
</div>
<a class="anchor" id="afd360113017b3e7c4f848811678b3bd8"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="afd360113017b3e7c4f848811678b3bd8" args="(ospf6_routemap_no_match_address_prefixlist, ospf6_routemap_no_match_address_prefixlist_cmd,&quot;no match ipv6 address prefix&#45;list WORD&quot;, NO_STR&quot;Match values\n&quot;IPV6_STR&quot;Match address of route\n&quot;&quot;Match entries of prefix&#45;lists\n&quot;&quot;IPv6 prefix&#45;list name\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ospf6_routemap_no_match_address_prefixlist&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ospf6_routemap_no_match_address_prefixlist_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no match ipv6 address <a class="el" href="structprefix.html">prefix</a>-<a class="el" href="structlist.html">list</a> <a class="el" href="bgp__route_8c.html#a1b8d8f33ec8896a62ab53afa7351c08b">WORD</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Match values\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;IPV6_STR&quot;Match address of route\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Match entries of <a class="el" href="structprefix.html">prefix</a>-lists\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IPv6 <a class="el" href="structprefix.html">prefix</a>-<a class="el" href="structlist.html">list</a> <a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00978">978</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret = <a class="code" href="routemap_8c.html#a884d3e1e22cd928a1e894005199f46c8">route_map_delete_match</a> ((<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>,
                                    <span class="stringliteral">&quot;ipv6 address prefix-list&quot;</span>, argv[0]);
  <span class="keywordflow">return</span> <a class="code" href="ospf6__asbr_8c.html#ab8b7af4d3362a15058d9eb33ae4400ea">route_map_command_status</a> (<a class="code" href="structvty.html">vty</a>, ret);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab9650d8e20a3f24669e0d00d6140bdec"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="ab9650d8e20a3f24669e0d00d6140bdec" args="(ospf6_routemap_set_metric_type, ospf6_routemap_set_metric_type_cmd,&quot;set metric&#45;type (type&#45;1|type&#45;2)&quot;,&quot;Set value\n&quot;&quot;Type of metric\n&quot;&quot;OSPF6 external type 1 metric\n&quot;&quot;OSPF6 external type 2 metric\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ospf6_routemap_set_metric_type&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ospf6_routemap_set_metric_type_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;set <a class="el" href="structmetric.html">metric</a>-<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> (<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>-1|<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>-2)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Type of <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 external <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> 1 <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 external <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> 2 <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00994">994</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret = <a class="code" href="routemap_8c.html#a8219e7b29162a411fbadd874ec4d7c0a">route_map_add_set</a> ((<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>,
                               <span class="stringliteral">&quot;metric-type&quot;</span>, argv[0]);
  <span class="keywordflow">return</span> <a class="code" href="ospf6__asbr_8c.html#ab8b7af4d3362a15058d9eb33ae4400ea">route_map_command_status</a> (<a class="code" href="structvty.html">vty</a>, ret);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a77430e7029ec1a4c6c95b998c4c3f2b9"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a77430e7029ec1a4c6c95b998c4c3f2b9" args="(ospf6_routemap_no_set_metric_type, ospf6_routemap_no_set_metric_type_cmd,&quot;no set metric&#45;type (type&#45;1|type&#45;2)&quot;, NO_STR&quot;Set value\n&quot;&quot;Type of metric\n&quot;&quot;OSPF6 external type 1 metric\n&quot;&quot;OSPF6 external type 2 metric\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ospf6_routemap_no_set_metric_type&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ospf6_routemap_no_set_metric_type_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no set <a class="el" href="structmetric.html">metric</a>-<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> (<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>-1|<a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>-2)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Type of <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 external <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> 1 <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;OSPF6 external <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a> 2 <a class="el" href="structmetric.html">metric</a>\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01008">1008</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret = <a class="code" href="routemap_8c.html#af03929ed1dd4f46e3284412d6ec1e30e">route_map_delete_set</a> ((<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>,
                                  <span class="stringliteral">&quot;metric-type&quot;</span>, argv[0]);
  <span class="keywordflow">return</span> <a class="code" href="ospf6__asbr_8c.html#ab8b7af4d3362a15058d9eb33ae4400ea">route_map_command_status</a> (<a class="code" href="structvty.html">vty</a>, ret);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a37b6b1bf80a6e7a04065d0fec2698c93"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a37b6b1bf80a6e7a04065d0fec2698c93" args="(set_metric, set_metric_cmd,&quot;set metric &lt;0&#45;4294967295&gt;&quot;,&quot;Set value\n&quot;&quot;Metric value\n&quot;&quot;Metric value\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">set_metric&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">set_metric_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;set <a class="el" href="structmetric.html">metric</a> &lt;0-4294967295&gt;&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Metric value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Metric value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01023">1023</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret = <a class="code" href="routemap_8c.html#a8219e7b29162a411fbadd874ec4d7c0a">route_map_add_set</a> ((<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>,
                               <span class="stringliteral">&quot;metric&quot;</span>, argv[0]);
  <span class="keywordflow">return</span> <a class="code" href="ospf6__asbr_8c.html#ab8b7af4d3362a15058d9eb33ae4400ea">route_map_command_status</a> (<a class="code" href="structvty.html">vty</a>, ret);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a58ba17c02aa3704026ea54521662c3d4"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a58ba17c02aa3704026ea54521662c3d4" args="(no_set_metric, no_set_metric_cmd,&quot;no set metric &lt;0&#45;4294967295&gt;&quot;, NO_STR&quot;Set value\n&quot;&quot;Metric\n&quot;&quot;METRIC value\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_set_metric&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_set_metric_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no set <a class="el" href="structmetric.html">metric</a> &lt;0-4294967295&gt;&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Metric\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;METRIC value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01036">1036</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret = <a class="code" href="routemap_8c.html#af03929ed1dd4f46e3284412d6ec1e30e">route_map_delete_set</a> ((<span class="keyword">struct</span> <a class="code" href="structroute__map__index.html">route_map_index</a> *) <a class="code" href="structvty.html">vty</a>-&gt;<a class="code" href="structvty.html#a9179508dca757a3b7c345c86769b5b9a">index</a>,
                                  <span class="stringliteral">&quot;metric&quot;</span>, argv[0]);
  <span class="keywordflow">return</span> <a class="code" href="ospf6__asbr_8c.html#ab8b7af4d3362a15058d9eb33ae4400ea">route_map_command_status</a> (<a class="code" href="structvty.html">vty</a>, ret);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a73999a644c91e01820ae3b0287e0a880"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a73999a644c91e01820ae3b0287e0a880" args="(ospf6_routemap_set_forwarding, ospf6_routemap_set_forwarding_cmd,&quot;set forwarding&#45;address X:X::X:X&quot;,&quot;Set value\n&quot;&quot;Forwarding Address\n&quot;&quot;IPv6 Address\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ospf6_routemap_set_forwarding&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ospf6_routemap_set_forwarding_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;set forwarding-address X:X::X:X&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Forwarding Address\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IPv6 Address\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01050">1050</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">                                :<a class="code" href="spgrid_8c.html#a90fd6c5f495a36ebf73ab5d2f1c21b47">X::X</a>:<a class="code" href="spgrid_8c.html#a90fd6c5f495a36ebf73ab5d2f1c21b47">X</a><span class="stringliteral">&quot;,</span>
<span class="stringliteral">       &quot;</span>Set value\n<span class="stringliteral">&quot;</span>
<span class="stringliteral">       &quot;</span>Forwarding Address\n<span class="stringliteral">&quot;</span>
<span class="stringliteral">       &quot;</span>IPv6 Address\n<span class="stringliteral">&quot;)</span>
<span class="stringliteral">{</span>
<span class="stringliteral">  int ret = route_map_add_set ((struct route_map_index *) vty-&gt;index,</span>
<span class="stringliteral">                               &quot;</span>forwarding-address<span class="stringliteral">&quot;, argv[0]);</span>
<span class="stringliteral">  return route_map_command_status (vty, ret);</span>
<span class="stringliteral">}</span>
</pre></div>
</div>
</div>
<a class="anchor" id="a02dc6a6c14975f128448b6805d5c7304"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a02dc6a6c14975f128448b6805d5c7304" args="(ospf6_routemap_no_set_forwarding, ospf6_routemap_no_set_forwarding_cmd,&quot;no set forwarding&#45;address X:X::X:X&quot;, NO_STR&quot;Set value\n&quot;&quot;Forwarding Address\n&quot;&quot;IPv6 Address\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">ospf6_routemap_no_set_forwarding&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ospf6_routemap_no_set_forwarding_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no set forwarding-address X:X::X:X&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR&quot;Set value\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Forwarding Address\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;IPv6 Address\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01063">1063</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">                                   :<a class="code" href="spgrid_8c.html#a90fd6c5f495a36ebf73ab5d2f1c21b47">X::X</a>:<a class="code" href="spgrid_8c.html#a90fd6c5f495a36ebf73ab5d2f1c21b47">X</a><span class="stringliteral">&quot;,</span>
<span class="stringliteral">       NO_STR</span>
<span class="stringliteral">       &quot;</span>Set value\n<span class="stringliteral">&quot;</span>
<span class="stringliteral">       &quot;</span>Forwarding Address\n<span class="stringliteral">&quot;</span>
<span class="stringliteral">       &quot;</span>IPv6 Address\n<span class="stringliteral">&quot;)</span>
<span class="stringliteral">{</span>
<span class="stringliteral">  int ret = route_map_delete_set ((struct route_map_index *) vty-&gt;index,</span>
<span class="stringliteral">                                  &quot;</span>forwarding-address<span class="stringliteral">&quot;, argv[0]);</span>
<span class="stringliteral">  return route_map_command_status (vty, ret);</span>
<span class="stringliteral">}</span>
</pre></div>
</div>
</div>
<a class="anchor" id="ae294c2aa58296eaf899007abc117d79f"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="ae294c2aa58296eaf899007abc117d79f" args="(show_ipv6_ospf6_redistribute, show_ipv6_ospf6_redistribute_cmd,&quot;show ipv6 ospf6 redistribute&quot;, SHOW_STR IP6_STR OSPF6_STR&quot;redistributing External information\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">show_ipv6_ospf6_redistribute&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">show_ipv6_ospf6_redistribute_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;show ipv6 <a class="el" href="structospf6.html">ospf6</a> redistribute&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SHOW_STR IP6_STR OSPF6_STR&quot;redistributing External information\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01180">1180</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  <a class="code" href="ospf6__asbr_8c.html#a4a6f92686f7842a7bbb8828e7d27971a">ospf6_redistribute_show_config</a> (<a class="code" href="structvty.html">vty</a>);

  <span class="keywordflow">for</span> (route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ab0b53951e38ce1246513c529368a00a3">external_table</a>); route;
       route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route))
    <a class="code" href="ospf6__asbr_8c.html#a9654aa6d9be339df2be929e5f83d06f4">ospf6_asbr_external_route_show</a> (<a class="code" href="structvty.html">vty</a>, route);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a445d87ea61a2ff04db56c5f91d1a2362"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a445d87ea61a2ff04db56c5f91d1a2362" args="(debug_ospf6_asbr, debug_ospf6_asbr_cmd,&quot;debug ospf6 asbr&quot;, DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 ASBR function\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">debug_ospf6_asbr&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">debug_ospf6_asbr_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;debug <a class="el" href="structospf6.html">ospf6</a> asbr&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 ASBR function\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01223">1223</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="ospf6__asbr_8h.html#a918247ebb3094b9c655ec775b35cec38">OSPF6_DEBUG_ASBR_ON</a> ();
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a05d0cb663500b773ee3636b4be6ff9f9"></a><!-- doxytag: member="ospf6_asbr.c::DEFUN" ref="a05d0cb663500b773ee3636b4be6ff9f9" args="(no_debug_ospf6_asbr, no_debug_ospf6_asbr_cmd,&quot;no debug ospf6 asbr&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 ASBR function\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_debug_ospf6_asbr&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_debug_ospf6_asbr_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no debug <a class="el" href="structospf6.html">ospf6</a> asbr&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR DEBUG_STR OSPF6_STR&quot;Debug OSPFv3 ASBR function\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01235">1235</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="ospf6__asbr_8h.html#ae12a04fb66e2e07db8878abf9e903aec">OSPF6_DEBUG_ASBR_OFF</a> ();
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a72f1000adc083f3fdce938c71a9e2a3f"></a><!-- doxytag: member="ospf6_asbr.c::install_element_ospf6_debug_asbr" ref="a72f1000adc083f3fdce938c71a9e2a3f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void install_element_ospf6_debug_asbr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01257">1257</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;debug_ospf6_asbr_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;no_debug_ospf6_asbr_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;debug_ospf6_asbr_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_debug_ospf6_asbr_cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5993a93bf914de5e343e06ffe55c14e8"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_as_external_lsa_originate" ref="a5993a93bf914de5e343e06ffe55c14e8" args="(struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_as_external_lsa_originate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00057">57</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> <a class="code" href="structbuffer.html">buffer</a>[<a class="code" href="ospf6__lsa_8h.html#af4991cd5f3743ff818891605ce515085">OSPF6_MAX_LSASIZE</a>];
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *<a class="code" href="structlsa__header.html">lsa_header</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *old, *lsa;
  <span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> *info = route-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a>;

  <span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a> *<a class="code" href="structas__external__lsa.html">as_external_lsa</a>;
  <span class="keywordtype">char</span> buf[64];
  caddr_t <a class="code" href="spgrid_8c.html#a931bc2aa940ac2a4d1601cf842336926">p</a>;

  <span class="comment">/* find previous LSA */</span>
  old = <a class="code" href="ospf6__lsdb_8c.html#aa49ea0d4a8edbec90f266bf3a541a421">ospf6_lsdb_lookup</a> (htons (<a class="code" href="ospf6__lsa_8h.html#a4cba002872c9f1e86a8d3fcede9fe4dc">OSPF6_LSTYPE_AS_EXTERNAL</a>),
                           route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a5462d6c847d9cddd5e0bace437f2199a">id</a>, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a>,
                           <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ac8cf84e34e8461f5aea2737fc2bf8fcb">lsdb</a>);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a> || <a class="code" href="ospf6__lsa_8h.html#a9739e0b1947dc74bb0219e400b01bd2f">IS_OSPF6_DEBUG_ORIGINATE</a> (AS_EXTERNAL))
    {
      <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Originate AS-External-LSA for %s&quot;</span>, buf);
    }

  <span class="comment">/* prepare buffer */</span>
  memset (buffer, 0, <span class="keyword">sizeof</span> (buffer));
  lsa_header = (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a> *) buffer;
  as_external_lsa = (<span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a> *)
    ((caddr_t) lsa_header + <span class="keyword">sizeof</span> (<span class="keyword">struct </span><a class="code" href="structospf6__lsa__header.html">ospf6_lsa_header</a>));
  p = (caddr_t)
    ((caddr_t) as_external_lsa + <span class="keyword">sizeof</span> (<span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a>));

  <span class="comment">/* Fill AS-External-LSA */</span>
  <span class="comment">/* Metric type */</span>
  <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> == 2)
    <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a702fab0bf2a17db8966e0c19c7eecba6">OSPF6_ASBR_BIT_E</a>);
  <span class="keywordflow">else</span>
    <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a702fab0bf2a17db8966e0c19c7eecba6">OSPF6_ASBR_BIT_E</a>);

  <span class="comment">/* forwarding address */</span>
  <span class="keywordflow">if</span> (! IN6_IS_ADDR_UNSPECIFIED (&amp;info-&gt;<a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>))
    <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a4565c04c4b7223745abd2bfd06188883">OSPF6_ASBR_BIT_F</a>);
  <span class="keywordflow">else</span>
    <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a4565c04c4b7223745abd2bfd06188883">OSPF6_ASBR_BIT_F</a>);

  <span class="comment">/* external route tag */</span>
  <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a80e912b137deb7778ff600ca57702530">OSPF6_ASBR_BIT_T</a>);

  <span class="comment">/* Set metric */</span>
  <a class="code" href="ospf6__asbr_8h.html#a81acf6ffa6f10a8d485ba3183336b8a8">OSPF6_ASBR_METRIC_SET</a> (as_external_lsa, route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>);

  <span class="comment">/* prefixlen */</span>
  as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.<a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a> = route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a>;

  <span class="comment">/* PrefixOptions */</span>
  as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.<a class="code" href="structospf6__prefix.html#aeac807a42ff5d2e15dfa844203fec5c8">prefix_options</a> = route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#aff47b01abb3043868430317017d8f1c7">prefix_options</a>;

  <span class="comment">/* don&#39;t use refer LS-type */</span>
  as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.prefix_refer_lstype = htons (0);

  <span class="comment">/* set Prefix */</span>
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (p, &amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.u.prefix6,
          <a class="code" href="ospf6__proto_8h.html#a95b30d77b5749feed0b8e400df5ee378">OSPF6_PREFIX_SPACE</a> (route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a>));
  <a class="code" href="ospf6__proto_8c.html#ab83c2915ff6e595f4da17eaacf04c5d5">ospf6_prefix_apply_mask</a> (&amp;as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>);
  p += <a class="code" href="ospf6__proto_8h.html#a95b30d77b5749feed0b8e400df5ee378">OSPF6_PREFIX_SPACE</a> (route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a>);

  <span class="comment">/* Forwarding address */</span>
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a4565c04c4b7223745abd2bfd06188883">OSPF6_ASBR_BIT_F</a>))
    {
      <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (p, &amp;info-&gt;<a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>, sizeof (<span class="keyword">struct</span> in6_addr));
      p += <span class="keyword">sizeof</span> (<span class="keyword">struct </span>in6_addr);
    }

  <span class="comment">/* External Route Tag */</span>
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (as_external_lsa-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a80e912b137deb7778ff600ca57702530">OSPF6_ASBR_BIT_T</a>))
    {
      <span class="comment">/* xxx */</span>
    }

  <span class="comment">/* Fill LSA Header */</span>
  lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#aa7582f351501b3642ad32ed3a26f9319">age</a> = 0;
  lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a> = htons (<a class="code" href="ospf6__lsa_8h.html#a4cba002872c9f1e86a8d3fcede9fe4dc">OSPF6_LSTYPE_AS_EXTERNAL</a>);
  lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a> = route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a5462d6c847d9cddd5e0bace437f2199a">id</a>;
  lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a> = <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a>;
  lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a438027b9b7303569a6bb41b2ee97d734">seqnum</a> =
    <a class="code" href="ospf6__lsdb_8c.html#ad286ac62b7fc40113b536203ecd9499d">ospf6_new_ls_seqnum</a> (lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>, lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>,
                         lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ac8cf84e34e8461f5aea2737fc2bf8fcb">lsdb</a>);
  lsa_header-&gt;<a class="code" href="structospf6__lsa__header.html#a427863854cd3905598a50ce53167285c">length</a> = htons ((caddr_t) p - (caddr_t) lsa_header);

  <span class="comment">/* LSA checksum */</span>
  <a class="code" href="ospf6__lsa_8c.html#a033e364d9b61664964b29893c5070c0d">ospf6_lsa_checksum</a> (lsa_header);

  <span class="comment">/* create LSA */</span>
  lsa = <a class="code" href="ospf6__lsa_8c.html#ab8a6a2c7b84b7e0c48eb7be6a3a0cf9c">ospf6_lsa_create</a> (lsa_header);

  <span class="comment">/* Originate */</span>
  <a class="code" href="ospf6__flood_8c.html#ae5276f4d60743b472adbbcd7ba08ada1">ospf6_lsa_originate_process</a> (lsa, <a class="code" href="structospf6.html">ospf6</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac4efec597ed63b9913ad06e6ce90ec14"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_as_external_lsa_show" ref="ac4efec597ed63b9913ad06e6ce90ec14" args="(struct vty *vty, struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_as_external_lsa_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01109">1109</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a> *external;
  <span class="keywordtype">char</span> buf[64];
  <span class="keyword">struct </span>in6_addr in6, *forwarding;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
  external = (<span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a> *)
    <a class="code" href="ospf6__lsa_8h.html#ade3057c51a01c081c6c753a03c1ffc3f">OSPF6_LSA_HEADER_END</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);
  
  <span class="comment">/* bits */</span>
  <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, <span class="keyword">sizeof</span> (buf), <span class="stringliteral">&quot;%c%c%c&quot;</span>,
    (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (external-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a702fab0bf2a17db8966e0c19c7eecba6">OSPF6_ASBR_BIT_E</a>) ? <span class="charliteral">&#39;E&#39;</span> : <span class="charliteral">&#39;-&#39;</span>),
    (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (external-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a4565c04c4b7223745abd2bfd06188883">OSPF6_ASBR_BIT_F</a>) ? <span class="charliteral">&#39;F&#39;</span> : <span class="charliteral">&#39;-&#39;</span>),
    (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (external-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a80e912b137deb7778ff600ca57702530">OSPF6_ASBR_BIT_T</a>) ? <span class="charliteral">&#39;T&#39;</span> : <span class="charliteral">&#39;-&#39;</span>));

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;     Bits: %s%s&quot;</span>, buf, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;     Metric: %5lu%s&quot;</span>, (u_long) <a class="code" href="ospf6__asbr_8h.html#a057432ca741931f338fb9713d5142d18">OSPF6_ASBR_METRIC</a> (external),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="ospf6__proto_8c.html#a070cf45b50e4eac1f052fd9f3a9cab07">ospf6_prefix_options_printbuf</a> (external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.<a class="code" href="structospf6__prefix.html#aeac807a42ff5d2e15dfa844203fec5c8">prefix_options</a>,
                                 buf, sizeof (buf));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;     Prefix Options: %s%s&quot;</span>, buf,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;     Referenced LSType: %d%s&quot;</span>,
           ntohs (external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.prefix_refer_lstype),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="ospf6__proto_8h.html#a01c336c921d3df5dc60e501439617d7a">ospf6_prefix_in6_addr</a> (&amp;in6, &amp;external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>);
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, &amp;in6, buf, <span class="keyword">sizeof</span> (buf));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;     Prefix: %s/%d%s&quot;</span>, buf,
           external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.<a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Forwarding-Address */</span>
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (external-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a4565c04c4b7223745abd2bfd06188883">OSPF6_ASBR_BIT_F</a>))
    {
      forwarding = (<span class="keyword">struct </span>in6_addr *)
        ((caddr_t) external + <span class="keyword">sizeof</span> (<span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a>) +
         <a class="code" href="ospf6__proto_8h.html#a95b30d77b5749feed0b8e400df5ee378">OSPF6_PREFIX_SPACE</a> (external-&gt;<a class="code" href="structprefix.html">prefix</a>.prefix_length));
      <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, forwarding, buf, <span class="keyword">sizeof</span> (buf));
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;     Forwarding-Address: %s%s&quot;</span>, buf, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9654aa6d9be339df2be929e5f83d06f4"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_external_route_show" ref="a9654aa6d9be339df2be929e5f83d06f4" args="(struct vty *vty, struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_asbr_external_route_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01157">1157</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> *info = route-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a>;
  <span class="keywordtype">char</span> <a class="code" href="structprefix.html">prefix</a>[64], <span class="keywordtype">id</span>[16], <a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>[64];
  u_int32_t tmp_id;

  <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, prefix, sizeof (prefix));
  tmp_id = ntohl (info-&gt;<a class="code" href="structospf6__external__info.html#a0e400a8e553de269adef1deae3ca3485">id</a>);
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;tmp_id, <span class="keywordtype">id</span>, <span class="keyword">sizeof</span> (<span class="keywordtype">id</span>));
  <span class="keywordflow">if</span> (! IN6_IS_ADDR_UNSPECIFIED (&amp;info-&gt;<a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>))
    <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, &amp;info-&gt;<a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>, forwarding, sizeof (forwarding));
  <span class="keywordflow">else</span>
    <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (forwarding, <span class="keyword">sizeof</span> (forwarding), <span class="stringliteral">&quot;:: (ifindex %d)&quot;</span>,
              route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%c %-32s %-15s type-%d %5lu %s%s&quot;</span>,
           <a class="code" href="log_8c.html#a615f2a96489398a58c693eb46d3aa184">zebra_route_char</a>(info-&gt;<a class="code" href="structospf6__external__info.html#a78790dc80febd2f72d0f35f0b7b7aec2">type</a>),
           prefix, <span class="keywordtype">id</span>, route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a>,
           (u_long) (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> == 2 ?
                     route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a> : route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>),
           forwarding, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2a6bd275a824bcf6cc291f124575c34f"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_init" ref="a2a6bd275a824bcf6cc291f124575c34f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_asbr_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01208">1208</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="ospf6__asbr_8c.html#acea1e25a5d679557d6b5584aca667400">ospf6_routemap_init</a> ();

  <a class="code" href="ospf6__lsa_8c.html#a26b635cec93c3aecb54d331bff6afe8e">ospf6_install_lsa_handler</a> (&amp;<a class="code" href="ospf6__asbr_8c.html#a62ce66c9e6883c17d480fff9d2dba1d8">as_external_handler</a>);

  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682acfdc7d342a9640147533988ace5fac24">VIEW_NODE</a>, &amp;show_ipv6_ospf6_redistribute_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;show_ipv6_ospf6_redistribute_cmd);

  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>, &amp;ospf6_redistribute_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>, &amp;ospf6_redistribute_routemap_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a3e34f801d98de220164f1a6b7976d3c4">OSPF6_NODE</a>, &amp;no_ospf6_redistribute_cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2bf469c9d8fc0b2a9d17279cd7ae0938"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_is_asbr" ref="a2bf469c9d8fc0b2a9d17279cd7ae0938" args="(struct ospf6 *o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_asbr_is_asbr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6.html">ospf6</a> *&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00376">376</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> o-&gt;<a class="code" href="structospf6.html#ab0b53951e38ce1246513c529368a00a3">external_table</a>-&gt;<a class="code" href="structospf6__route__table.html#ac242748e782f2dbbc1f2d69ce7d9a140">count</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab2b3fe7537d6dde649e7a0faf0e912e8"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_lsa_add" ref="ab2b3fe7537d6dde649e7a0faf0e912e8" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_asbr_lsa_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00156">156</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a> *external;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> asbr_id;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *asbr_entry, *route;
  <span class="keywordtype">char</span> buf[64];
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;

  external = (<span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a> *)
    <a class="code" href="ospf6__lsa_8h.html#ade3057c51a01c081c6c753a03c1ffc3f">OSPF6_LSA_HEADER_END</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Calculate AS-External route for %s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>);

  <span class="keywordflow">if</span> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a> == <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Ignore self-originated AS-External-LSA&quot;</span>);
      <span class="keywordflow">return</span>;
    }

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#a057432ca741931f338fb9713d5142d18">OSPF6_ASBR_METRIC</a> (external) == <a class="code" href="ospf6__proto_8h.html#adae502e9fc4510696255aa68d1413fb1">LS_INFINITY</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Ignore LSA with LSInfinity Metric&quot;</span>);
      <span class="keywordflow">return</span>;
    }

  <a class="code" href="ospf6__route_8c.html#a5190b1a4d8babac390d4504e6119ffde">ospf6_linkstate_prefix</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>, htonl (0), &amp;asbr_id);
  asbr_entry = <a class="code" href="ospf6__route_8c.html#aa7d8f56a2e18e2dc561dfda78a980fb2">ospf6_route_lookup</a> (&amp;asbr_id, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#adb6e884ec587387ef1174da7a6cb426c">brouter_table</a>);
  <span class="keywordflow">if</span> (asbr_entry == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> ||
      ! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (asbr_entry-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4c22e82497e95ddac15345fbdf50245">router_bits</a>, <a class="code" href="ospf6__proto_8h.html#a001990a29c38d5f3b4da6bf596ccc2c5">OSPF6_ROUTER_BIT_E</a>))
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
        {
          <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;asbr_id, buf, <span class="keyword">sizeof</span> (buf));
          <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;ASBR entry not found: %s&quot;</span>, buf);
        }
      <span class="keywordflow">return</span>;
    }

  route = <a class="code" href="ospf6__route_8c.html#af4307729ed4bcbcb064c0a7363f3084f">ospf6_route_create</a> ();
  route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> = <a class="code" href="ospf6__route_8h.html#a2f4b4255cc7cd17befa380178d67e819">OSPF6_DEST_TYPE_NETWORK</a>;
  route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> = AF_INET6;
  route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a> = external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.<a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a>;
  <a class="code" href="ospf6__proto_8h.html#a01c336c921d3df5dc60e501439617d7a">ospf6_prefix_in6_addr</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.u.prefix6, &amp;external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>);

  route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4fc384dbcd343e1ba3e5918e4d25c15">area_id</a> = asbr_entry-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4fc384dbcd343e1ba3e5918e4d25c15">area_id</a>;
  route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a88f1d08bddf61718681883834fd9990e">type</a> = lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>;
  route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a5462d6c847d9cddd5e0bace437f2199a">id</a> = lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>;
  route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#aad4727f62192e5db63a98474f9845694">adv_router</a> = lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>;

  route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#aff47b01abb3043868430317017d8f1c7">prefix_options</a> = external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.<a class="code" href="structospf6__prefix.html#aeac807a42ff5d2e15dfa844203fec5c8">prefix_options</a>;
  <span class="keywordflow">if</span> (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (external-&gt;<a class="code" href="structospf6__as__external__lsa.html#adbc8fb2b4e020ee5ec80d8b35d484868">bits_metric</a>, <a class="code" href="ospf6__asbr_8h.html#a702fab0bf2a17db8966e0c19c7eecba6">OSPF6_ASBR_BIT_E</a>))
    {
      route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> = <a class="code" href="ospf6__route_8h.html#a753677bbce3e5b4d74252300c43e422a">OSPF6_PATH_TYPE_EXTERNAL2</a>;
      route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> = 2;
      route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a> = asbr_entry-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>;
      route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a> = <a class="code" href="ospf6__asbr_8h.html#a057432ca741931f338fb9713d5142d18">OSPF6_ASBR_METRIC</a> (external);
    }
  <span class="keywordflow">else</span>
    {
      route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> = <a class="code" href="ospf6__route_8h.html#ac93e11c1cfd47244e95e27b3ba4571ae">OSPF6_PATH_TYPE_EXTERNAL1</a>;
      route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> = 1;
      route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a> = asbr_entry-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a> + <a class="code" href="ospf6__asbr_8h.html#a057432ca741931f338fb9713d5142d18">OSPF6_ASBR_METRIC</a> (external);
      route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a> = 0;
    }

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ospf6__route_8h.html#a722b45cea00290e2da6ebe98934f8749">OSPF6_MULTI_PATH_LIMIT</a>; i++)
    <a class="code" href="ospf6__route_8h.html#a984d5a07fada4d6bb60561677a1f79a1">ospf6_nexthop_copy</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i], &amp;asbr_entry-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i]);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
    {
      <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;AS-External route add: %s&quot;</span>, buf);
    }

  <a class="code" href="ospf6__route_8c.html#ab35c4efbc72f9bf772e334f1725da353">ospf6_route_add</a> (route, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a38f6316bb47fff653cbbbd0d6e3129f0"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_lsa_remove" ref="a38f6316bb47fff653cbbbd0d6e3129f0" args="(struct ospf6_lsa *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_asbr_lsa_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__lsa.html">ospf6_lsa</a> *&#160;</td>
          <td class="paramname"><em>lsa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00237">237</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a> *external;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> <a class="code" href="structprefix.html">prefix</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;
  <span class="keywordtype">char</span> buf[64];

  external = (<span class="keyword">struct </span><a class="code" href="structospf6__as__external__lsa.html">ospf6_as_external_lsa</a> *)
    <a class="code" href="ospf6__lsa_8h.html#ade3057c51a01c081c6c753a03c1ffc3f">OSPF6_LSA_HEADER_END</a> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Withdraw AS-External route for %s&quot;</span>, lsa-&gt;<a class="code" href="structospf6__lsa.html#a979d21e1c4d2e1753e7d45641b0819ce">name</a>);

  <span class="keywordflow">if</span> (lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a> == <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Ignore self-originated AS-External-LSA&quot;</span>);
      <span class="keywordflow">return</span>;
    }

  memset (&amp;<a class="code" href="structprefix.html">prefix</a>, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a>));
  <a class="code" href="structprefix.html">prefix</a>.<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> = AF_INET6;
  <a class="code" href="structprefix.html">prefix</a>.<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a> = external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>.<a class="code" href="structospf6__prefix.html#a308c8780392bd7557d20759cb1d93b45">prefix_length</a>;
  <a class="code" href="ospf6__proto_8h.html#a01c336c921d3df5dc60e501439617d7a">ospf6_prefix_in6_addr</a> (&amp;<a class="code" href="structprefix.html">prefix</a>.u.prefix6, &amp;external-&gt;<a class="code" href="structospf6__as__external__lsa.html#a0fef0acce116710502c8717342bf3f2c">prefix</a>);

  route = <a class="code" href="ospf6__route_8c.html#aa7d8f56a2e18e2dc561dfda78a980fb2">ospf6_route_lookup</a> (&amp;<a class="code" href="structprefix.html">prefix</a>, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>);
  <span class="keywordflow">if</span> (route == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
        {
          <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;<a class="code" href="structprefix.html">prefix</a>, buf, <span class="keyword">sizeof</span> (buf));
          <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;AS-External route %s not found&quot;</span>, buf);
        }
      <span class="keywordflow">return</span>;
    }

  <span class="keywordflow">for</span> (<a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);
       route &amp;&amp; <a class="code" href="ospf6__route_8h.html#a0a95fc057a8b281526dc83bdda838baf">ospf6_route_is_prefix</a> (&amp;<a class="code" href="structprefix.html">prefix</a>, route);
       route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route))
    {
      <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> != <a class="code" href="ospf6__route_8h.html#a2f4b4255cc7cd17befa380178d67e819">OSPF6_DEST_TYPE_NETWORK</a>)
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a88f1d08bddf61718681883834fd9990e">type</a> != lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#adadc5d3ed71f1b07f56b7692454d2e08">type</a>)
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a5462d6c847d9cddd5e0bace437f2199a">id</a> != lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a663d9c2afc1cdc7a124a2c9d1199e394">id</a>)
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#aad4727f62192e5db63a98474f9845694">adv_router</a> != lsa-&gt;<a class="code" href="structospf6__lsa.html#ad53bee4fa68445da0f4c82b4b0b81f1c">header</a>-&gt;<a class="code" href="structospf6__lsa__header.html#a756706ceafd6ffab88f8ee481fcc3619">adv_router</a>)
        <span class="keywordflow">continue</span>;

      <span class="keywordflow">if</span> (<a class="code" href="ospf6__lsa_8h.html#a406c0c0d50f887bcff40c875b15499c2">IS_OSPF6_DEBUG_EXAMIN</a> (AS_EXTERNAL))
        {
          <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));
          <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;AS-External route remove: %s&quot;</span>, buf);
        }
      <a class="code" href="ospf6__route_8c.html#a89c513ce389875d0c89a20017db2c410">ospf6_route_remove</a> (route, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a16be66ef6b2fd85cb56f64c8d829f3d3">route_table</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="adb3d1ad8b89c9eef8b6f4f3e3cfa5281"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_lsentry_add" ref="adb3d1ad8b89c9eef8b6f4f3e3cfa5281" args="(struct ospf6_route *asbr_entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_asbr_lsentry_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>asbr_entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00296">296</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;
  u_int16_t <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;
  u_int32_t router;

  <span class="keywordflow">if</span> (! <a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (asbr_entry-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#a15a16e004b7ad8a332e55f65fa81bc88">OSPF6_ROUTE_BEST</a>))
    {
      <span class="keywordtype">char</span> buf[16];
      <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;<a class="code" href="ospf6__route_8h.html#abe7756da14600493b65f298e52850619">ADV_ROUTER_IN_PREFIX</a> (&amp;asbr_entry-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>),
                 buf, sizeof (buf));
       <a class="code" href="log_8h.html#a383184727341e7ad985deb9e4f2156c7">zlog_info</a> (<span class="stringliteral">&quot;ignore non-best path: lsentry %s add&quot;</span>, buf);
      <span class="keywordflow">return</span>;
    }

  type = htons (<a class="code" href="ospf6__lsa_8h.html#a4cba002872c9f1e86a8d3fcede9fe4dc">OSPF6_LSTYPE_AS_EXTERNAL</a>);
  router = <a class="code" href="ospf6__route_8h.html#ab056946ac3b3ce6cc32c6eefa5a2f238">ospf6_linkstate_prefix_adv_router</a> (&amp;asbr_entry-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#a05c536e9366e1e70e302176636494ff2">ospf6_lsdb_type_router_head</a> (type, router, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ac8cf84e34e8461f5aea2737fc2bf8fcb">lsdb</a>); lsa;
       lsa = <a class="code" href="ospf6__lsdb_8c.html#a5c4427dd8608615a5a34a772e722eca6">ospf6_lsdb_type_router_next</a> (type, router, lsa))
    {
      <span class="keywordflow">if</span> (! <a class="code" href="ospf6__lsa_8h.html#acde3ad184b10ca14f3eef7b2ab655ce6">OSPF6_LSA_IS_MAXAGE</a> (lsa))
        <a class="code" href="ospf6__asbr_8c.html#ab2b3fe7537d6dde649e7a0faf0e912e8">ospf6_asbr_lsa_add</a> (lsa);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a70d2ab867a5914a2822fbb953fc7e2c1"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_lsentry_remove" ref="a70d2ab867a5914a2822fbb953fc7e2c1" args="(struct ospf6_route *asbr_entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_asbr_lsentry_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>asbr_entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00322">322</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;
  u_int16_t <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;
  u_int32_t router;

  type = htons (<a class="code" href="ospf6__lsa_8h.html#a4cba002872c9f1e86a8d3fcede9fe4dc">OSPF6_LSTYPE_AS_EXTERNAL</a>);
  router = <a class="code" href="ospf6__route_8h.html#ab056946ac3b3ce6cc32c6eefa5a2f238">ospf6_linkstate_prefix_adv_router</a> (&amp;asbr_entry-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>);
  <span class="keywordflow">for</span> (lsa = <a class="code" href="ospf6__lsdb_8c.html#a05c536e9366e1e70e302176636494ff2">ospf6_lsdb_type_router_head</a> (type, router, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ac8cf84e34e8461f5aea2737fc2bf8fcb">lsdb</a>);
       lsa; lsa = <a class="code" href="ospf6__lsdb_8c.html#a5c4427dd8608615a5a34a772e722eca6">ospf6_lsdb_type_router_next</a> (type, router, lsa))
    <a class="code" href="ospf6__asbr_8c.html#a38f6316bb47fff653cbbbd0d6e3129f0">ospf6_asbr_lsa_remove</a> (lsa);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a28e49591579d5ebab190126fff7762fa"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_redistribute_add" ref="a28e49591579d5ebab190126fff7762fa" args="(int type, int ifindex, struct prefix *prefix, u_int nexthop_num, struct in6_addr *nexthop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_asbr_redistribute_add </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ifindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int&#160;</td>
          <td class="paramname"><em>nexthop_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in6_addr *&#160;</td>
          <td class="paramname"><em>nexthop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00408">408</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> ret;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> troute;
  <span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> tinfo;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route, *match;
  <span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> *info;
  <span class="keyword">struct </span>prefix prefix_id;
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *node;
  <span class="keywordtype">char</span> pbuf[64], ibuf[16];
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *lnode, *lnnode;
  <span class="keyword">struct </span><a class="code" href="structospf6__area.html">ospf6_area</a> *oa;

  <span class="keywordflow">if</span> (! <a class="code" href="ospf6__zebra_8h.html#a7cb0d31f407c28bf9a2e824265bbf9d2">ospf6_zebra_is_redistribute</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>))
    <span class="keywordflow">return</span>;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a>)
    {
      <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (prefix, pbuf, <span class="keyword">sizeof</span> (pbuf));
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Redistribute %s (%s)&quot;</span>, pbuf, <a class="code" href="ospf6__asbr_8c.html#aca90369fe90fa47428574432a83222aa">ZROUTE_NAME</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>));
    }

  <span class="comment">/* if route-map was specified but not found, do not advertise */</span>
  <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        <a class="code" href="ospf6__asbr_8c.html#ab1cc6fe63025e3a7b21cfd5918f7ceb4">ospf6_asbr_routemap_update</a> (<a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
      <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        {
          <a class="code" href="log_8h.html#a4a2ed409bf1559d9ea3c664f70420df7">zlog_warn</a> (<span class="stringliteral">&quot;route-map \&quot;%s\&quot; not found, suppress redistributing&quot;</span>,
                     <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>);
          <span class="keywordflow">return</span>;
        }
    }

  <span class="comment">/* apply route-map */</span>
  <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a>)
    {
      memset (&amp;troute, 0, <span class="keyword">sizeof</span> (troute));
      memset (&amp;tinfo, 0, <span class="keyword">sizeof</span> (tinfo));
      troute.route_option = &amp;tinfo;

      ret = <a class="code" href="routemap_8c.html#a3372553a024332702cfd603e1f4c08d6">route_map_apply</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a>, prefix,
                             <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370ad6c5d7f8d5732e1ae78dbc856e335950">RMAP_OSPF6</a>, &amp;troute);
      <span class="keywordflow">if</span> (ret == <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516aa0f40f0a91e43bfe7131839fe179ac64">RMAP_DENYMATCH</a>)
        {
          <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a>)
            <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Denied by route-map \&quot;%s\&quot;&quot;</span>, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>);
          <span class="keywordflow">return</span>;
        }
    }

  match = <a class="code" href="ospf6__route_8c.html#aa7d8f56a2e18e2dc561dfda78a980fb2">ospf6_route_lookup</a> (prefix, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ab0b53951e38ce1246513c529368a00a3">external_table</a>);
  <span class="keywordflow">if</span> (match)
    {
      info = match-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a>;

      <span class="comment">/* copy result of route-map */</span>
      <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a>)
        {
          <span class="keywordflow">if</span> (troute.path.metric_type)
            match-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> = troute.path.metric_type;
          <span class="keywordflow">if</span> (troute.path.cost)
            match-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a> = troute.path.cost;
          <span class="keywordflow">if</span> (! IN6_IS_ADDR_UNSPECIFIED (&amp;tinfo.forwarding))
            <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;info-&gt;<a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>, &amp;tinfo.forwarding,
                    sizeof (<span class="keyword">struct</span> in6_addr));
        }

      info-&gt;<a class="code" href="structospf6__external__info.html#a78790dc80febd2f72d0f35f0b7b7aec2">type</a> = <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;
      match-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a> = ifindex;
      <span class="keywordflow">if</span> (nexthop_num &amp;&amp; <a class="code" href="structnexthop.html">nexthop</a>)
        <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;match-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#aca0fcfd059411e2638d19d1d95288a10">address</a>, <a class="code" href="structnexthop.html">nexthop</a>, sizeof (<span class="keyword">struct</span> in6_addr));

      <span class="comment">/* create/update binding in external_id_table */</span>
      prefix_id.family = AF_INET;
      prefix_id.prefixlen = 32;
      prefix_id.u.prefix4.s_addr = htonl (info-&gt;<a class="code" href="structospf6__external__info.html#a0e400a8e553de269adef1deae3ca3485">id</a>);
      node = <a class="code" href="table_8c.html#ac91fdff1a0b8dc3d60ebaf152caa0f80">route_node_get</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a6eafe8ffc198a51815a2a6d914eb1826">external_id_table</a>, &amp;prefix_id);
      node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = match;

      <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a>)
        {
          <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;prefix_id.u.prefix4, ibuf, sizeof (ibuf));
          <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Advertise as AS-External Id:%s&quot;</span>, ibuf);
        }

      match-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a5462d6c847d9cddd5e0bace437f2199a">id</a> = htonl (info-&gt;<a class="code" href="structospf6__external__info.html#a0e400a8e553de269adef1deae3ca3485">id</a>);
      <a class="code" href="ospf6__asbr_8c.html#a5993a93bf914de5e343e06ffe55c14e8">ospf6_as_external_lsa_originate</a> (match);
      <span class="keywordflow">return</span>;
    }

  <span class="comment">/* create new entry */</span>
  route = <a class="code" href="ospf6__route_8c.html#af4307729ed4bcbcb064c0a7363f3084f">ospf6_route_create</a> ();
  route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> = <a class="code" href="ospf6__route_8h.html#a2f4b4255cc7cd17befa380178d67e819">OSPF6_DEST_TYPE_NETWORK</a>;
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, prefix, sizeof (<span class="keyword">struct</span> prefix));

  info = (<span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> *)
    <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167baa84f8758ca4b45b3d5428900c49f63a9">MTYPE_OSPF6_EXTERNAL_INFO</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__external__info.html">ospf6_external_info</a>));
  route-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a> = info;
  info-&gt;<a class="code" href="structospf6__external__info.html#a0e400a8e553de269adef1deae3ca3485">id</a> = <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a250e36f5987403d3dd0831c0a6d0127e">external_id</a>++;

  <span class="comment">/* copy result of route-map */</span>
  <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a>)
    {
      <span class="keywordflow">if</span> (troute.path.metric_type)
        route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> = troute.path.metric_type;
      <span class="keywordflow">if</span> (troute.path.cost)
        route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a> = troute.path.cost;
      <span class="keywordflow">if</span> (! IN6_IS_ADDR_UNSPECIFIED (&amp;tinfo.forwarding))
        <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;info-&gt;<a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>, &amp;tinfo.forwarding,
                sizeof (<span class="keyword">struct</span> in6_addr));
    }

  info-&gt;<a class="code" href="structospf6__external__info.html#a78790dc80febd2f72d0f35f0b7b7aec2">type</a> = <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;
  route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a> = ifindex;
  <span class="keywordflow">if</span> (nexthop_num &amp;&amp; <a class="code" href="structnexthop.html">nexthop</a>)
    <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#aca0fcfd059411e2638d19d1d95288a10">address</a>, <a class="code" href="structnexthop.html">nexthop</a>, sizeof (<span class="keyword">struct</span> in6_addr));

  <span class="comment">/* create/update binding in external_id_table */</span>
  prefix_id.family = AF_INET;
  prefix_id.prefixlen = 32;
  prefix_id.u.prefix4.s_addr = htonl (info-&gt;<a class="code" href="structospf6__external__info.html#a0e400a8e553de269adef1deae3ca3485">id</a>);
  node = <a class="code" href="table_8c.html#ac91fdff1a0b8dc3d60ebaf152caa0f80">route_node_get</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a6eafe8ffc198a51815a2a6d914eb1826">external_id_table</a>, &amp;prefix_id);
  node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = route;

  route = <a class="code" href="ospf6__route_8c.html#ab35c4efbc72f9bf772e334f1725da353">ospf6_route_add</a> (route, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ab0b53951e38ce1246513c529368a00a3">external_table</a>);
  route-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a> = info;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a>)
    {
      <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;prefix_id.u.prefix4, ibuf, sizeof (ibuf));
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Advertise as AS-External Id:%s&quot;</span>, ibuf);
    }

  route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a5462d6c847d9cddd5e0bace437f2199a">id</a> = htonl (info-&gt;<a class="code" href="structospf6__external__info.html#a0e400a8e553de269adef1deae3ca3485">id</a>);
  <a class="code" href="ospf6__asbr_8c.html#a5993a93bf914de5e343e06ffe55c14e8">ospf6_as_external_lsa_originate</a> (route);

  <span class="comment">/* Router-Bit (ASBR Flag) may have to be updated */</span>
  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a71512a873b8f0e2b4c84d3c949a9bbaf">ALL_LIST_ELEMENTS</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a6a8e756959f407c36b123ffc040fbe96">area_list</a>, lnode, lnnode, oa))
    <a class="code" href="ospf6__intra_8h.html#ab8e4a09ea2a5ce941594dc24d6165519">OSPF6_ROUTER_LSA_SCHEDULE</a> (oa);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a76af4e8a926eb7373e59626cac4a5fc0"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_redistribute_remove" ref="a76af4e8a926eb7373e59626cac4a5fc0" args="(int type, int ifindex, struct prefix *prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_asbr_redistribute_remove </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ifindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00553">553</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *match;
  <span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> *info = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *node;
  <span class="keyword">struct </span><a class="code" href="structospf6__lsa.html">ospf6_lsa</a> *lsa;
  <span class="keyword">struct </span>prefix prefix_id;
  <span class="keywordtype">char</span> pbuf[64], ibuf[16];
  <span class="keyword">struct </span><a class="code" href="structlistnode.html">listnode</a> *lnode, *lnnode;
  <span class="keyword">struct </span><a class="code" href="structospf6__area.html">ospf6_area</a> *oa;

  match = <a class="code" href="ospf6__route_8c.html#aa7d8f56a2e18e2dc561dfda78a980fb2">ospf6_route_lookup</a> (prefix, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ab0b53951e38ce1246513c529368a00a3">external_table</a>);
  <span class="keywordflow">if</span> (match == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a>)
        {
          <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (prefix, pbuf, <span class="keyword">sizeof</span> (pbuf));
          <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;No such route %s to withdraw&quot;</span>, pbuf);
        }
      <span class="keywordflow">return</span>;
    }

  info = match-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a>;
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (info);

  <span class="keywordflow">if</span> (info-&gt;<a class="code" href="structospf6__external__info.html#a78790dc80febd2f72d0f35f0b7b7aec2">type</a> != <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a>)
        {
          <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (prefix, pbuf, <span class="keyword">sizeof</span> (pbuf));
          <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Original protocol mismatch: %s&quot;</span>, pbuf);
        }
      <span class="keywordflow">return</span>;
    }

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__asbr_8h.html#ace41597f91e209786354b98dec5a5f5d">IS_OSPF6_DEBUG_ASBR</a>)
    {
      <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (prefix, pbuf, <span class="keyword">sizeof</span> (pbuf));
      <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;prefix_id.u.prefix4, ibuf, sizeof (ibuf));
      <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;Withdraw %s (AS-External Id:%s)&quot;</span>, pbuf, ibuf);
    }

  lsa = <a class="code" href="ospf6__lsdb_8c.html#aa49ea0d4a8edbec90f266bf3a541a421">ospf6_lsdb_lookup</a> (htons (<a class="code" href="ospf6__lsa_8h.html#a4cba002872c9f1e86a8d3fcede9fe4dc">OSPF6_LSTYPE_AS_EXTERNAL</a>),
                           htonl (info-&gt;<a class="code" href="structospf6__external__info.html#a0e400a8e553de269adef1deae3ca3485">id</a>), <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a4dc92a648ae2190f7cf5b383c475d2aa">router_id</a>, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ac8cf84e34e8461f5aea2737fc2bf8fcb">lsdb</a>);
  <span class="keywordflow">if</span> (lsa)
    <a class="code" href="ospf6__flood_8c.html#a249f2b2808a03c8e9998d6bdf209a962">ospf6_lsa_purge</a> (lsa);

  <span class="comment">/* remove binding in external_id_table */</span>
  prefix_id.family = AF_INET;
  prefix_id.prefixlen = 32;
  prefix_id.u.prefix4.s_addr = htonl (info-&gt;<a class="code" href="structospf6__external__info.html#a0e400a8e553de269adef1deae3ca3485">id</a>);
  node = <a class="code" href="table_8c.html#ab99d86b40440c8f18d4f2b31b5b8f1c7">route_node_lookup</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a6eafe8ffc198a51815a2a6d914eb1826">external_id_table</a>, &amp;prefix_id);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (node);
  node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (node);

  <a class="code" href="ospf6__route_8c.html#a89c513ce389875d0c89a20017db2c410">ospf6_route_remove</a> (match, <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ab0b53951e38ce1246513c529368a00a3">external_table</a>);
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167baa84f8758ca4b45b3d5428900c49f63a9">MTYPE_OSPF6_EXTERNAL_INFO</a>, info);

  <span class="comment">/* Router-Bit (ASBR Flag) may have to be updated */</span>
  <span class="keywordflow">for</span> (<a class="code" href="linklist_8h.html#a71512a873b8f0e2b4c84d3c949a9bbaf">ALL_LIST_ELEMENTS</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a6a8e756959f407c36b123ffc040fbe96">area_list</a>, lnode, lnnode, oa))
    <a class="code" href="ospf6__intra_8h.html#ab8e4a09ea2a5ce941594dc24d6165519">OSPF6_ROUTER_LSA_SCHEDULE</a> (oa);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a99ac3d74b5dbc206c2e5b3050eebf783"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_redistribute_set" ref="a99ac3d74b5dbc206c2e5b3050eebf783" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_asbr_redistribute_set </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00382">382</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="ospf6__zebra_8c.html#a28fc16a34b5090b29a8a4dfd54ba92db">ospf6_zebra_redistribute</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab2bee0f0d93dd8993623645e63cd4f2e"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_redistribute_unset" ref="ab2bee0f0d93dd8993623645e63cd4f2e" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_asbr_redistribute_unset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00388">388</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;
  <span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> *info;

  <a class="code" href="ospf6__zebra_8c.html#ac66ef0344e427d1c3be675085198347f">ospf6_zebra_no_redistribute</a> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>);

  <span class="keywordflow">for</span> (route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ab0b53951e38ce1246513c529368a00a3">external_table</a>); route;
       route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route))
    {
      info = route-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a>;
      <span class="keywordflow">if</span> (info-&gt;<a class="code" href="structospf6__external__info.html#a78790dc80febd2f72d0f35f0b7b7aec2">type</a> != <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>)
        <span class="keywordflow">continue</span>;

      <a class="code" href="ospf6__asbr_8c.html#a76af4e8a926eb7373e59626cac4a5fc0">ospf6_asbr_redistribute_remove</a> (info-&gt;<a class="code" href="structospf6__external__info.html#a78790dc80febd2f72d0f35f0b7b7aec2">type</a>, route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>,
                                      &amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac7a258ff3fcee84fe56c186ec3eee658"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_routemap_set" ref="ac7a258ff3fcee84fe56c186ec3eee658" args="(int type, const char *mapname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_asbr_routemap_set </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mapname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00340">340</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>)
    free (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>);
  <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a> = strdup (mapname);
  <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a> = <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (mapname);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6e50d74185a32e0af32bf80803135747"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_routemap_unset" ref="a6e50d74185a32e0af32bf80803135747" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_asbr_routemap_unset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00349">349</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>)
    free (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>);
  <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab1cc6fe63025e3a7b21cfd5918f7ceb4"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_asbr_routemap_update" ref="ab1cc6fe63025e3a7b21cfd5918f7ceb4" args="(const char *mapname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_asbr_routemap_update </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mapname</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00358">358</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;

  <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span>;

  <span class="keywordflow">for</span> (type = 0; type &lt; <a class="code" href="zebra_8h.html#aec97442680d773fd62f9af5c9426b842">ZEBRA_ROUTE_MAX</a>; type++)
    {
      <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[type].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>)
        <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a> =
          <a class="code" href="routemap_8c.html#a52006340e589dda4244d35cafc9f6f10">route_map_lookup_by_name</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[type].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>);
      <span class="keywordflow">else</span>
        <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa002be662bf5a69805137bc6eff9c4bd"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_redistribute_config_write" ref="aa002be662bf5a69805137bc6eff9c4bd" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_redistribute_config_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00711">711</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;

  <span class="keywordflow">for</span> (type = 0; type &lt; <a class="code" href="zebra_8h.html#aec97442680d773fd62f9af5c9426b842">ZEBRA_ROUTE_MAX</a>; type++)
    {
      <span class="keywordflow">if</span> (type == <a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>)
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">if</span> (! <a class="code" href="ospf6__zebra_8h.html#a7cb0d31f407c28bf9a2e824265bbf9d2">ospf6_zebra_is_redistribute</a> (type))
        <span class="keywordflow">continue</span>;

      <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[type].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; redistribute %s route-map %s%s&quot;</span>,
                 <a class="code" href="ospf6__asbr_8c.html#aca90369fe90fa47428574432a83222aa">ZROUTE_NAME</a> (type), <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[type].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">else</span>
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot; redistribute %s%s&quot;</span>,
                 <a class="code" href="ospf6__asbr_8c.html#aca90369fe90fa47428574432a83222aa">ZROUTE_NAME</a> (type), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4a6f92686f7842a7bbb8828e7d27971a"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_redistribute_show_config" ref="a4a6f92686f7842a7bbb8828e7d27971a" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_redistribute_show_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00734">734</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>;
  <span class="keywordtype">int</span> nroute[<a class="code" href="zebra_8h.html#aec97442680d773fd62f9af5c9426b842">ZEBRA_ROUTE_MAX</a>];
  <span class="keywordtype">int</span> total;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;
  <span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> *info;

  total = 0;
  <span class="keywordflow">for</span> (type = 0; type &lt; <a class="code" href="zebra_8h.html#aec97442680d773fd62f9af5c9426b842">ZEBRA_ROUTE_MAX</a>; type++)
    nroute[type] = 0;
  <span class="keywordflow">for</span> (route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#ab0b53951e38ce1246513c529368a00a3">external_table</a>); route;
       route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route))
    {
      info = route-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a>;
      nroute[info-&gt;<a class="code" href="structospf6__external__info.html#a78790dc80febd2f72d0f35f0b7b7aec2">type</a>]++;
      total++;
    }

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Redistributing External Routes from:%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (type = 0; type &lt; <a class="code" href="zebra_8h.html#aec97442680d773fd62f9af5c9426b842">ZEBRA_ROUTE_MAX</a>; type++)
    {
      <span class="keywordflow">if</span> (type == <a class="code" href="zebra_8h.html#ae05c36542e3fb1c5c7fd440ac322331f">ZEBRA_ROUTE_OSPF6</a>)
        <span class="keywordflow">continue</span>;
      <span class="keywordflow">if</span> (! <a class="code" href="ospf6__zebra_8h.html#a7cb0d31f407c28bf9a2e824265bbf9d2">ospf6_zebra_is_redistribute</a> (type))
        <span class="keywordflow">continue</span>;

      <span class="keywordflow">if</span> (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[type].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>)
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %d: %s with route-map \&quot;%s\&quot;%s%s&quot;</span>, nroute[type],
                 <a class="code" href="ospf6__asbr_8c.html#aca90369fe90fa47428574432a83222aa">ZROUTE_NAME</a> (type), <a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[type].<a class="code" href="structospf6.html#ab64589cf9453a85c25c0690ba248ea5e">name</a>,
                 (<a class="code" href="structospf6.html">ospf6</a>-&gt;<a class="code" href="structospf6.html#a8b9be13bdd14b41d323201e4651ce386">rmap</a>[type].<a class="code" href="structospf6.html#a301c15c73c2fbf5a5723647a4b6c161e">map</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; (not found !)&quot;</span>),
                 <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">else</span>
        <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;    %d: %s%s&quot;</span>, nroute[type],
                 <a class="code" href="ospf6__asbr_8c.html#aca90369fe90fa47428574432a83222aa">ZROUTE_NAME</a> (type), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Total %d routes%s&quot;</span>, total, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="acea1e25a5d679557d6b5584aca667400"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_init" ref="acea1e25a5d679557d6b5584aca667400" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_routemap_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01077">1077</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="routemap_8c.html#a4e07135a4ac1643e0a3c2e9460322636">route_map_init</a> ();
  <a class="code" href="routemap_8c.html#a09855551d0ef6f569e32d56cc4bb2857">route_map_init_vty</a> ();
  <a class="code" href="routemap_8c.html#afd64a010c9f8f9cf35788b065f540eea">route_map_add_hook</a> (<a class="code" href="ospf6__asbr_8c.html#ab1cc6fe63025e3a7b21cfd5918f7ceb4">ospf6_asbr_routemap_update</a>);
  <a class="code" href="routemap_8c.html#a60b69b789fa511ded8504c5b20fb63d4">route_map_delete_hook</a> (<a class="code" href="ospf6__asbr_8c.html#ab1cc6fe63025e3a7b21cfd5918f7ceb4">ospf6_asbr_routemap_update</a>);

  <a class="code" href="routemap_8c.html#ada69b48e1c884e20ef5a90dc1d0a0b82">route_map_install_match</a> (&amp;<a class="code" href="ospf6__asbr_8c.html#ab6e86af0f931428e486e697c8d08c745">ospf6_routemap_rule_match_address_prefixlist_cmd</a>);
  <a class="code" href="routemap_8c.html#a13c839a968e8eba43c4e83ce35929d41">route_map_install_set</a> (&amp;<a class="code" href="ospf6__asbr_8c.html#a4bdc9fc290c63810f2e4885cfa7f0d38">ospf6_routemap_rule_set_metric_type_cmd</a>);
  <a class="code" href="routemap_8c.html#a13c839a968e8eba43c4e83ce35929d41">route_map_install_set</a> (&amp;<a class="code" href="ospf6__asbr_8c.html#af762ebede676aed28ba19be42e85bb49">ospf6_routemap_rule_set_metric_cmd</a>);
  <a class="code" href="routemap_8c.html#a13c839a968e8eba43c4e83ce35929d41">route_map_install_set</a> (&amp;<a class="code" href="ospf6__asbr_8c.html#a25c217468580d33bcbebeed47ff6efd7">ospf6_routemap_rule_set_forwarding_cmd</a>);

  <span class="comment">/* Match address prefix-list */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;ospf6_routemap_match_address_prefixlist_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;ospf6_routemap_no_match_address_prefixlist_cmd);

  <span class="comment">/* ASE Metric Type (e.g. Type-1/Type-2) */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;ospf6_routemap_set_metric_type_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;ospf6_routemap_no_set_metric_type_cmd);

  <span class="comment">/* ASE Metric */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;set_metric_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;no_set_metric_cmd);

  <span class="comment">/* ASE Metric */</span>
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;ospf6_routemap_set_forwarding_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a6488e3f7329874893b68bb22f6c6fed0">RMAP_NODE</a>, &amp;ospf6_routemap_no_set_forwarding_cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1f6eaaa8f18884d51f5c4c710a804f67"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_match_address_prefixlist" ref="a1f6eaaa8f18884d51f5c4c710a804f67" args="(void *rule, struct prefix *prefix, route_map_object_t type, void *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> ospf6_routemap_rule_match_address_prefixlist </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00777">777</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structprefix__list.html">prefix_list</a> *plist;

  <span class="keywordflow">if</span> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> != <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370ad6c5d7f8d5732e1ae78dbc856e335950">RMAP_OSPF6</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516ad7644e3e4542899815c7e987cb7bd604">RMAP_NOMATCH</a>;

  plist = <a class="code" href="plist_8c.html#adfce5b38dccccdc141ffd3571b73a656">prefix_list_lookup</a> (<a class="code" href="zebra_8h.html#ad10f30457e426e1d269466d3b6603c3c">AFI_IP6</a>, (<span class="keywordtype">char</span> *) rule);
  <span class="keywordflow">if</span> (plist == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516ad7644e3e4542899815c7e987cb7bd604">RMAP_NOMATCH</a>;

  <span class="keywordflow">return</span> (<a class="code" href="plist_8c.html#a6fd9bac08d2cb3d2e315d88af146a7f0">prefix_list_apply</a> (plist, prefix) == <a class="code" href="plist_8h.html#a3bda5ec3d1202bc8eb472b4d97633cf9a697cf8d0db0ead308a6ef01301f9543c">PREFIX_DENY</a> ?
          <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516ad7644e3e4542899815c7e987cb7bd604">RMAP_NOMATCH</a> : <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516acce76d634db613fd27f63c57d4438e3f">RMAP_MATCH</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a77a7b609e17f02fbbc5ab369aca79a58"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_match_address_prefixlist_compile" ref="a77a7b609e17f02fbbc5ab369aca79a58" args="(const char *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* ospf6_routemap_rule_match_address_prefixlist_compile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00796">796</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167badaa0e7b6df403ff7d348d982d77dc7c3">MTYPE_ROUTE_MAP_COMPILED</a>, arg);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af7dbfd4c6d0a911e813b078706d1d8be"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_match_address_prefixlist_free" ref="af7dbfd4c6d0a911e813b078706d1d8be" args="(void *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_routemap_rule_match_address_prefixlist_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rule</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00802">802</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167badaa0e7b6df403ff7d348d982d77dc7c3">MTYPE_ROUTE_MAP_COMPILED</a>, rule);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5cb19d7f4a8c7f2186f15f9abf109776"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_forwarding" ref="a5cb19d7f4a8c7f2186f15f9abf109776" args="(void *rule, struct prefix *prefix, route_map_object_t type, void *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> ospf6_routemap_rule_set_forwarding </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00898">898</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> *forwarding = rule;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route = object;
  <span class="keyword">struct </span><a class="code" href="structospf6__external__info.html">ospf6_external_info</a> *info = route-&gt;<a class="code" href="structospf6__route.html#acca63ef5258eae52686a0ca0f159f069">route_option</a>;

  <span class="keywordflow">if</span> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> != <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370ad6c5d7f8d5732e1ae78dbc856e335950">RMAP_OSPF6</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a1215cf356f29000968d958c014b559d5">RMAP_OKAY</a>;

  <span class="keywordflow">if</span> (<a class="code" href="sockunion_8c.html#ac13c2042641ea5031bc7e244e8061b84">inet_pton</a> (AF_INET6, forwarding, &amp;info-&gt;<a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>) != 1)
    {
      memset (&amp;info-&gt;<a class="code" href="structospf6__external__info.html#a87bfba0d24fc9ac366cfc70237a96bc7">forwarding</a>, 0, sizeof (<span class="keyword">struct</span> in6_addr));
      <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a4cbd39b00b82b6a98257d2eced7f92bc">RMAP_ERROR</a>;
    }

  <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a1215cf356f29000968d958c014b559d5">RMAP_OKAY</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3ead4685cd882d40284b45b4e90f98b2"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_forwarding_compile" ref="a3ead4685cd882d40284b45b4e90f98b2" args="(const char *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* ospf6_routemap_rule_set_forwarding_compile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00918">918</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span>in6_addr <a class="code" href="ripng__nexthop_8h.html#aa9b8e98b3989bdffd7f36b281c72a693">a</a>;
  <span class="keywordflow">if</span> (<a class="code" href="sockunion_8c.html#ac13c2042641ea5031bc7e244e8061b84">inet_pton</a> (AF_INET6, arg, &amp;a) != 1)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">return</span> <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167badaa0e7b6df403ff7d348d982d77dc7c3">MTYPE_ROUTE_MAP_COMPILED</a>, arg);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2eebd421768e9164bde3493fe1cb0041"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_forwarding_free" ref="a2eebd421768e9164bde3493fe1cb0041" args="(void *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_routemap_rule_set_forwarding_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rule</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00927">927</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167badaa0e7b6df403ff7d348d982d77dc7c3">MTYPE_ROUTE_MAP_COMPILED</a>, rule);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9bbb381757c42afc0dca6f54aaea0d5a"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_metric" ref="a9bbb381757c42afc0dca6f54aaea0d5a" args="(void *rule, struct prefix *prefix, route_map_object_t type, void *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> ospf6_routemap_rule_set_metric </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00858">858</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> *<a class="code" href="structmetric.html">metric</a> = rule;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route = object;

  <span class="keywordflow">if</span> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> != <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370ad6c5d7f8d5732e1ae78dbc856e335950">RMAP_OSPF6</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a1215cf356f29000968d958c014b559d5">RMAP_OKAY</a>;

  route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a> = atoi (metric);
  <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a1215cf356f29000968d958c014b559d5">RMAP_OKAY</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acc09258cffd929a9118725b061abe072"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_metric_compile" ref="acc09258cffd929a9118725b061abe072" args="(const char *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* ospf6_routemap_rule_set_metric_compile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00872">872</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_int32_t <a class="code" href="structmetric.html">metric</a>;
  <span class="keywordtype">char</span> *endp;
  metric = strtoul (arg, &amp;endp, 0);
  <span class="keywordflow">if</span> (metric &gt; <a class="code" href="ospf6__proto_8h.html#adae502e9fc4510696255aa68d1413fb1">LS_INFINITY</a> || *endp != <span class="charliteral">&#39;\0&#39;</span>)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">return</span> <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167badaa0e7b6df403ff7d348d982d77dc7c3">MTYPE_ROUTE_MAP_COMPILED</a>, arg);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4eb4f8ae71ede7cfab80fa49c023f090"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_metric_free" ref="a4eb4f8ae71ede7cfab80fa49c023f090" args="(void *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_routemap_rule_set_metric_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rule</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00883">883</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167badaa0e7b6df403ff7d348d982d77dc7c3">MTYPE_ROUTE_MAP_COMPILED</a>, rule);
}
</pre></div>
</div>
</div>
<a class="anchor" id="abff80de2204b36def7ccf7684cc051b1"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_metric_type" ref="abff80de2204b36def7ccf7684cc051b1" args="(void *rule, struct prefix *prefix, route_map_object_t type, void *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516">route_map_result_t</a> ospf6_routemap_rule_set_metric_type </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370">route_map_object_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00817">817</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> *<a class="code" href="ospf__lsa_8c.html#a10781678cf0418caa60ce806cb18f7f1">metric_type</a> = rule;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route = object;

  <span class="keywordflow">if</span> (<a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> != <a class="code" href="routemap_8h.html#ae21439463f873ce0ce1556c9d6fa7370ad6c5d7f8d5732e1ae78dbc856e335950">RMAP_OSPF6</a>)
    <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a1215cf356f29000968d958c014b559d5">RMAP_OKAY</a>;

  <span class="keywordflow">if</span> (strcmp (metric_type, <span class="stringliteral">&quot;type-2&quot;</span>) == 0)
    route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> = 2;
  <span class="keywordflow">else</span>
    route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a> = 1;

  <span class="keywordflow">return</span> <a class="code" href="routemap_8h.html#afd7345bfd662f1e7c77f0be351cd1516a1215cf356f29000968d958c014b559d5">RMAP_OKAY</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac573d80e528b02dbc9fe0cc14aa83077"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_metric_type_compile" ref="ac573d80e528b02dbc9fe0cc14aa83077" args="(const char *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void* ospf6_routemap_rule_set_metric_type_compile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00835">835</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (strcmp (arg, <span class="stringliteral">&quot;type-2&quot;</span>) &amp;&amp; strcmp (arg, <span class="stringliteral">&quot;type-1&quot;</span>))
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">return</span> <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167badaa0e7b6df403ff7d348d982d77dc7c3">MTYPE_ROUTE_MAP_COMPILED</a>, arg);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8e505e9e0d85604eef5cb8f0f5a00536"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_metric_type_free" ref="a8e505e9e0d85604eef5cb8f0f5a00536" args="(void *rule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_routemap_rule_set_metric_type_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rule</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00843">843</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167badaa0e7b6df403ff7d348d982d77dc7c3">MTYPE_ROUTE_MAP_COMPILED</a>, rule);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab8b7af4d3362a15058d9eb33ae4400ea"></a><!-- doxytag: member="ospf6_asbr.c::route_map_command_status" ref="ab8b7af4d3362a15058d9eb33ae4400ea" args="(struct vty *vty, int ret)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int route_map_command_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00942">942</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (! ret)
    <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;

  <span class="keywordflow">switch</span> (ret)
    {
    <span class="keywordflow">case</span> <a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da26f041059a9ab0d72a8fdfd1e2f43041">RMAP_RULE_MISSING</a>:
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Can&#39;t find rule.%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="routemap_8h.html#a0944a4353780132eeab7b06e3e42291da91019d02c673a0a43dcbb38d88d8c11b">RMAP_COMPILE_ERROR</a>:
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Argument is malformed.%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">default</span>:
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;route-map add set failed.%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">break</span>;
    }
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#a92dc6dc30d8ef3651eb9d47a6083b025">CMD_WARNING</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a62ce66c9e6883c17d480fff9d2dba1d8"></a><!-- doxytag: member="ospf6_asbr.c::as_external_handler" ref="a62ce66c9e6883c17d480fff9d2dba1d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__lsa__handler.html">ospf6_lsa_handler</a> <a class="el" href="ospf6__asbr_8c.html#a62ce66c9e6883c17d480fff9d2dba1d8">as_external_handler</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <a class="code" href="ospf6__lsa_8h.html#a4cba002872c9f1e86a8d3fcede9fe4dc">OSPF6_LSTYPE_AS_EXTERNAL</a>,
  <span class="stringliteral">&quot;AS-External&quot;</span>,
  <a class="code" href="ospf6__asbr_8c.html#ac4efec597ed63b9913ad06e6ce90ec14">ospf6_as_external_lsa_show</a>
}
</pre></div>
<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l01200">1200</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>

</div>
</div>
<a class="anchor" id="a81a15a09db2567a06559cca44f781117"></a><!-- doxytag: member="ospf6_asbr.c::conf_debug_ospf6_asbr" ref="a81a15a09db2567a06559cca44f781117" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="ospf6__asbr_8h.html#a81a15a09db2567a06559cca44f781117">conf_debug_ospf6_asbr</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00051">51</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab6e86af0f931428e486e697c8d08c745"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_match_address_prefixlist_cmd" ref="ab6e86af0f931428e486e697c8d08c745" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> <a class="el" href="ospf6__asbr_8c.html#ab6e86af0f931428e486e697c8d08c745">ospf6_routemap_rule_match_address_prefixlist_cmd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <span class="stringliteral">&quot;ipv6 address prefix-list&quot;</span>,
  <a class="code" href="ospf6__asbr_8c.html#a1f6eaaa8f18884d51f5c4c710a804f67">ospf6_routemap_rule_match_address_prefixlist</a>,
  <a class="code" href="ospf6__asbr_8c.html#a77a7b609e17f02fbbc5ab369aca79a58">ospf6_routemap_rule_match_address_prefixlist_compile</a>,
  <a class="code" href="ospf6__asbr_8c.html#af7dbfd4c6d0a911e813b078706d1d8be">ospf6_routemap_rule_match_address_prefixlist_free</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00808">808</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>

</div>
</div>
<a class="anchor" id="a25c217468580d33bcbebeed47ff6efd7"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_forwarding_cmd" ref="a25c217468580d33bcbebeed47ff6efd7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> <a class="el" href="ospf6__asbr_8c.html#a25c217468580d33bcbebeed47ff6efd7">ospf6_routemap_rule_set_forwarding_cmd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <span class="stringliteral">&quot;forwarding-address&quot;</span>,
  <a class="code" href="ospf6__asbr_8c.html#a5cb19d7f4a8c7f2186f15f9abf109776">ospf6_routemap_rule_set_forwarding</a>,
  <a class="code" href="ospf6__asbr_8c.html#a3ead4685cd882d40284b45b4e90f98b2">ospf6_routemap_rule_set_forwarding_compile</a>,
  <a class="code" href="ospf6__asbr_8c.html#a2eebd421768e9164bde3493fe1cb0041">ospf6_routemap_rule_set_forwarding_free</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00933">933</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>

</div>
</div>
<a class="anchor" id="af762ebede676aed28ba19be42e85bb49"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_metric_cmd" ref="af762ebede676aed28ba19be42e85bb49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> <a class="el" href="ospf6__asbr_8c.html#af762ebede676aed28ba19be42e85bb49">ospf6_routemap_rule_set_metric_cmd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <span class="stringliteral">&quot;metric&quot;</span>,
  <a class="code" href="ospf6__asbr_8c.html#a9bbb381757c42afc0dca6f54aaea0d5a">ospf6_routemap_rule_set_metric</a>,
  <a class="code" href="ospf6__asbr_8c.html#acc09258cffd929a9118725b061abe072">ospf6_routemap_rule_set_metric_compile</a>,
  <a class="code" href="ospf6__asbr_8c.html#a4eb4f8ae71ede7cfab80fa49c023f090">ospf6_routemap_rule_set_metric_free</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00889">889</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4bdc9fc290c63810f2e4885cfa7f0d38"></a><!-- doxytag: member="ospf6_asbr.c::ospf6_routemap_rule_set_metric_type_cmd" ref="a4bdc9fc290c63810f2e4885cfa7f0d38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structroute__map__rule__cmd.html">route_map_rule_cmd</a> <a class="el" href="ospf6__asbr_8c.html#a4bdc9fc290c63810f2e4885cfa7f0d38">ospf6_routemap_rule_set_metric_type_cmd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{
  <span class="stringliteral">&quot;metric-type&quot;</span>,
  <a class="code" href="ospf6__asbr_8c.html#abff80de2204b36def7ccf7684cc051b1">ospf6_routemap_rule_set_metric_type</a>,
  <a class="code" href="ospf6__asbr_8c.html#ac573d80e528b02dbc9fe0cc14aa83077">ospf6_routemap_rule_set_metric_type_compile</a>,
  <a class="code" href="ospf6__asbr_8c.html#a8e505e9e0d85604eef5cb8f0f5a00536">ospf6_routemap_rule_set_metric_type_free</a>,
}
</pre></div>
<p>Definition at line <a class="el" href="ospf6__asbr_8c_source.html#l00849">849</a> of file <a class="el" href="ospf6__asbr_8c_source.html">ospf6_asbr.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ospf6__asbr_8c.html">ospf6_asbr.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:26 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
