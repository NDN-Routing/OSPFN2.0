<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: ospf6d/ospf6_route.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('ospf6__route_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ospf6d/ospf6_route.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="zebra_8h_source.html">zebra.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memory_8h_source.html">memory.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="prefix_8h_source.html">prefix.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="table_8h_source.html">table.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="vty_8h_source.html">vty.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="linklist_8h_source.html">linklist.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__proto_8h_source.html">ospf6_proto.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsa_8h_source.html">ospf6_lsa.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__lsdb_8h_source.html">ospf6_lsdb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__route_8h_source.html">ospf6_route.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__top_8h_source.html">ospf6_top.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__area_8h_source.html">ospf6_area.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6__interface_8h_source.html">ospf6_interface.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="ospf6d_8h_source.html">ospf6d.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ospf6_route.c:</div>
<div class="dyncontent">
<div class="center"><img src="ospf6__route_8c__incl.png" border="0" usemap="#ospf6d_2ospf6__route_8c" alt=""/></div>
<map name="ospf6d_2ospf6__route_8c" id="ospf6d_2ospf6__route_8c">
<area shape="rect" id="node3" href="zebra_8h.html" title="zebra.h" alt="" coords="1269,80,1336,107"/><area shape="rect" id="node61" href="log_8h.html" title="log.h" alt="" coords="2773,229,2824,256"/><area shape="rect" id="node64" href="memory_8h.html" title="memory.h" alt="" coords="3032,80,3115,107"/><area shape="rect" id="node68" href="prefix_8h.html" title="prefix.h" alt="" coords="3310,155,3377,181"/><area shape="rect" id="node72" href="table_8h.html" title="table.h" alt="" coords="3403,155,3467,181"/><area shape="rect" id="node74" href="vty_8h.html" title="vty.h" alt="" coords="2849,155,2900,181"/><area shape="rect" id="node79" href="command_8h.html" title="command.h" alt="" coords="2915,80,3007,107"/><area shape="rect" id="node86" href="linklist_8h.html" title="linklist.h" alt="" coords="3497,80,3567,107"/><area shape="rect" id="node88" href="ospf6__proto_8h.html" title="ospf6_proto.h" alt="" coords="3592,80,3699,107"/><area shape="rect" id="node90" href="ospf6__lsa_8h.html" title="ospf6_lsa.h" alt="" coords="3723,80,3813,107"/><area shape="rect" id="node92" href="ospf6__lsdb_8h.html" title="ospf6_lsdb.h" alt="" coords="3190,80,3289,107"/><area shape="rect" id="node96" href="ospf6__route_8h.html" title="ospf6_route.h" alt="" coords="3315,80,3421,107"/><area shape="rect" id="node100" href="ospf6__top_8h.html" title="ospf6_top.h" alt="" coords="3847,155,3941,181"/><area shape="rect" id="node102" href="ospf6__area_8h.html" title="ospf6_area.h" alt="" coords="3889,80,3988,107"/><area shape="rect" id="node105" href="ospf6__interface_8h.html" title="ospf6_interface.h" alt="" coords="4013,80,4139,107"/><area shape="rect" id="node107" href="ospf6d_8h.html" title="ospf6d.h" alt="" coords="4164,80,4239,107"/><area shape="rect" id="node57" href="zassert_8h.html" title="zassert.h" alt="" coords="201,155,279,181"/><area shape="rect" id="node59" href="str_8h.html" title="str.h" alt="" coords="303,155,352,181"/><area shape="rect" id="node66" href="memtypes_8h.html" title="lib/memtypes.h" alt="" coords="3171,155,3285,181"/><area shape="rect" id="node70" href="sockunion_8h.html" title="sockunion.h" alt="" coords="3297,229,3391,256"/><area shape="rect" id="node76" href="thread_8h.html" title="thread.h" alt="" coords="2849,229,2921,256"/><area shape="rect" id="node81" href="vector_8h.html" title="vector.h" alt="" coords="2925,155,2997,181"/><area shape="rect" id="node84" href="route__types_8h.html" title="lib/route_types.h" alt="" coords="3022,155,3145,181"/></map>
</div>
</div>
<p><a href="ospf6__route_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a67085861a8db3e45bf5108ad14f9485d">ospf6_route_table_assert</a>(<a class="el" href="test-sig_8c.html#ab4ed0bba3292270af8ad67b45a21280d">t</a>)&#160;&#160;&#160;(route_table_assert (<a class="el" href="test-sig_8c.html#ab4ed0bba3292270af8ad67b45a21280d">t</a>))</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a5190b1a4d8babac390d4504e6119ffde">ospf6_linkstate_prefix</a> (u_int32_t <a class="el" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>, u_int32_t <a class="el" href="prefix_8h.html#a68c0ada54c6414ef00bca919465286ac">id</a>, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a6cd3c9be4769715b219b63202f5cd802">ospf6_linkstate_prefix2str</a> (struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, char *buf, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#af4307729ed4bcbcb064c0a7363f3084f">ospf6_route_create</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#afe483c6d6b442082f70587b8a137ef9c">ospf6_route_delete</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#aa406f9a6fff899c6c153b2d208efd1a0">ospf6_route_copy</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a02403e3544541e5a854683aa0ee88f85">ospf6_route_cmp</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *ra, struct <a class="el" href="structospf6__route.html">ospf6_route</a> *rb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#aa7d8f56a2e18e2dc561dfda78a980fb2">ospf6_route_lookup</a> (struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a350bfb8c1552479b037feb16a0d5e2b8">ospf6_route_lookup_identical</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ad09379fefd4d4c2cf9af55345000d9cf">ospf6_route_lookup_bestmatch</a> (struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a089a4116900915f16a3711f16c962778">route_table_assert</a> (struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ab35c4efbc72f9bf772e334f1725da353">ospf6_route_add</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a89c513ce389875d0c89a20017db2c410">ospf6_route_remove</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ad6c22f4091c972c555827dc1632f2fd8">ospf6_route_best_next</a> (struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#aac8aa08a2c7dca4d417db4681b0529a0">ospf6_route_match_head</a> (struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a944bc519c57314c58c6ca2043c5154cd">ospf6_route_match_next</a> (struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a0429954cda76d4207a53813e869b451d">ospf6_route_remove_all</a> (struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a79652b40c9c81bf3ef56b21732b5ee8e">ospf6_route_table_create</a> (int <a class="el" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>, int <a class="el" href="test-sig_8c.html#ab4ed0bba3292270af8ad67b45a21280d">t</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a02985ae1fd04f0ab2826100b9dae38b2">ospf6_route_table_delete</a> (struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a1ff2114a5d187ef4c6285fa25c38642b">ospf6_route_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a8aa84829fb3ba1693d7c1d020844a606">ospf6_route_show_detail</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a0d211a8759e8ffca98854d171496ce6e">ospf6_route_show_table_summary</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#aedac939c1185474baca0d8522d85770b">ospf6_route_show_table_prefix</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#af57cbe250fad712f581275018c2aaa32">ospf6_route_show_table_address</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#af628a19cde541b495ecb1c36b4aa04e4">ospf6_route_show_table_match</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, int detail, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a5ed09a0bde6959f110fbe3944a5d8a2b">ospf6_route_show_table_type</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, int detail, u_char <a class="el" href="ripng__zebra_8c.html#ac765329451135abec74c45e1897abf26">type</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ae83bdb775eb53a4ecb7186e1d918fb21">ospf6_route_show_table</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, int detail, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ad8dd248912104287781bf809f8f57a5d">ospf6_route_table_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, int argc, const char *argv[], struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ad071f916d299d092204aa8d00515ecb3">ospf6_linkstate_show_header</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#af9d3e316e5ab019787d232fa72a3f716">ospf6_linkstate_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ada26d1dbfdad8538591f47cc732b47ad">ospf6_linkstate_show_table_exact</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structprefix.html">prefix</a> *<a class="el" href="structprefix.html">prefix</a>, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#aafa93a7d8c1acfe3d0e153ff9dd7af01">ospf6_linkstate_show_table</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, int detail, struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a6f3eeb015410531936d5df6aaa00ce4f">ospf6_linkstate_table_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, int argc, const char *argv[], struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#aa4066ae715d8d2937f584483a2218dc4">ospf6_brouter_show_header</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#afd101ee59e80fde3535bad27b4266e64">ospf6_brouter_show</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>, struct <a class="el" href="structospf6__route.html">ospf6_route</a> *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a404b1ca0c2b25ce737b175a504167840">DEFUN</a> (debug_ospf6_route, debug_ospf6_route_cmd,&quot;debug <a class="el" href="structospf6.html">ospf6</a> route (table|intra-area|inter-area)&quot;, DEBUG_STR OSPF6_STR&quot;Debug route table calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug detail\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug intra-area route calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug inter-area route calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a4487d6c8f94cb5991bc223d9ae0161fe">DEFUN</a> (no_debug_ospf6_route, no_debug_ospf6_route_cmd,&quot;no debug <a class="el" href="structospf6.html">ospf6</a> route (table|intra-area|inter-area)&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug route table calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug intra-area route calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#abb73743d5ef4d6cf49bf47d1ae80ce5a">config_write_ospf6_debug_route</a> (struct <a class="el" href="structvty.html">vty</a> *<a class="el" href="structvty.html">vty</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a6b4b18309578a645c17cc6b15d9bfec8">install_element_ospf6_debug_route</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ae87e4710056b0ee3edbcaacd44922bc5">conf_debug_ospf6_route</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a82872b706da5f3f784a7e1fde0f9fb8a">ospf6_dest_type_str</a> [OSPF6_DEST_TYPE_MAX]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ab4c663b82d082f51788995bfaf5cd054">ospf6_dest_type_substr</a> [OSPF6_DEST_TYPE_MAX]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#a5105e7d7332722c224b5b034c3607793">ospf6_path_type_str</a> [OSPF6_PATH_TYPE_MAX]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ospf6__route_8c.html#ac0671343fb5b810096fbf321eaecb39b">ospf6_path_type_substr</a> [OSPF6_PATH_TYPE_MAX]</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a67085861a8db3e45bf5108ad14f9485d"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_table_assert" ref="a67085861a8db3e45bf5108ad14f9485d" args="(t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ospf6_route_table_assert</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="test-sig_8c.html#ab4ed0bba3292270af8ad67b45a21280d">t</a></td><td>)</td>
          <td>&#160;&#160;&#160;(route_table_assert (<a class="el" href="test-sig_8c.html#ab4ed0bba3292270af8ad67b45a21280d">t</a>))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00350">350</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="abb73743d5ef4d6cf49bf47d1ae80ce5a"></a><!-- doxytag: member="ospf6_route.c::config_write_ospf6_debug_route" ref="abb73743d5ef4d6cf49bf47d1ae80ce5a" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int config_write_ospf6_debug_route </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01381">1381</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (TABLE))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;debug ospf6 route table%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (INTRA))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;debug ospf6 route intra-area%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (INTER))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;debug ospf6 route inter-area%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a404b1ca0c2b25ce737b175a504167840"></a><!-- doxytag: member="ospf6_route.c::DEFUN" ref="a404b1ca0c2b25ce737b175a504167840" args="(debug_ospf6_route, debug_ospf6_route_cmd,&quot;debug ospf6 route (table|intra&#45;area|inter&#45;area)&quot;, DEBUG_STR OSPF6_STR&quot;Debug route table calculation\n&quot;&quot;Debug detail\n&quot;&quot;Debug intra&#45;area route calculation\n&quot;&quot;Debug inter&#45;area route calculation\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">debug_ospf6_route&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">debug_ospf6_route_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;debug <a class="el" href="structospf6.html">ospf6</a> route (table|intra-area|inter-area)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DEBUG_STR OSPF6_STR&quot;Debug route table calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug detail\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug intra-area route calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug inter-area route calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01336">1336</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> level = 0;

  <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;table&quot;</span>, 5))
    level = <a class="code" href="ospf6__route_8h.html#a36026ad398d9e5accb4a7a38e3356b10">OSPF6_DEBUG_ROUTE_TABLE</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;intra&quot;</span>, 5))
    level = <a class="code" href="ospf6__route_8h.html#ae8dade70d28454d36847594d9c0e8ed2">OSPF6_DEBUG_ROUTE_INTRA</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;inter&quot;</span>, 5))
    level = <a class="code" href="ospf6__route_8h.html#a00b335903e2a39615f5f59d6b1385f3b">OSPF6_DEBUG_ROUTE_INTER</a>;
  <a class="code" href="ospf6__route_8h.html#ab859700c130bb1b56013e8891026c76d">OSPF6_DEBUG_ROUTE_ON</a> (level);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4487d6c8f94cb5991bc223d9ae0161fe"></a><!-- doxytag: member="ospf6_route.c::DEFUN" ref="a4487d6c8f94cb5991bc223d9ae0161fe" args="(no_debug_ospf6_route, no_debug_ospf6_route_cmd,&quot;no debug ospf6 route (table|intra&#45;area|inter&#45;area)&quot;, NO_STR DEBUG_STR OSPF6_STR&quot;Debug route table calculation\n&quot;&quot;Debug intra&#45;area route calculation\n&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFUN </td>
          <td>(</td>
          <td class="paramtype">no_debug_ospf6_route&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">no_debug_ospf6_route_cmd&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;no debug <a class="el" href="structospf6.html">ospf6</a> route (table|intra-area|inter-area)&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NO_STR DEBUG_STR OSPF6_STR&quot;Debug route table calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&quot;Debug intra-area route calculation\<a class="el" href="spgrid_8c.html#abe63e991a7bf5d666068b15c9064428d">n</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01359">1359</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> level = 0;

  <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;table&quot;</span>, 5))
    level = <a class="code" href="ospf6__route_8h.html#a36026ad398d9e5accb4a7a38e3356b10">OSPF6_DEBUG_ROUTE_TABLE</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;intra&quot;</span>, 5))
    level = <a class="code" href="ospf6__route_8h.html#ae8dade70d28454d36847594d9c0e8ed2">OSPF6_DEBUG_ROUTE_INTRA</a>;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (! strncmp (argv[0], <span class="stringliteral">&quot;inter&quot;</span>, 5))
    level = <a class="code" href="ospf6__route_8h.html#a00b335903e2a39615f5f59d6b1385f3b">OSPF6_DEBUG_ROUTE_INTER</a>;
  <a class="code" href="ospf6__route_8h.html#a47ae12ec36ce698f395a596050f10dc6">OSPF6_DEBUG_ROUTE_OFF</a> (level);
  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6b4b18309578a645c17cc6b15d9bfec8"></a><!-- doxytag: member="ospf6_route.c::install_element_ospf6_debug_route" ref="a6b4b18309578a645c17cc6b15d9bfec8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void install_element_ospf6_debug_route </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01393">1393</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;debug_ospf6_route_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a8eeaebd59fec75e66abd261377c21a2d">ENABLE_NODE</a>, &amp;no_debug_ospf6_route_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;debug_ospf6_route_cmd);
  <a class="code" href="command_8c.html#af8546e314a1538d53ef78e4b02804f40">install_element</a> (<a class="code" href="command_8h.html#a6a276b85e2da28c5f9c3dbce61c55682a50754044f565f7421a152eaa411eebcc">CONFIG_NODE</a>, &amp;no_debug_ospf6_route_cmd);
}
</pre></div>
</div>
</div>
<a class="anchor" id="afd101ee59e80fde3535bad27b4266e64"></a><!-- doxytag: member="ospf6_route.c::ospf6_brouter_show" ref="afd101ee59e80fde3535bad27b4266e64" args="(struct vty *vty, struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_brouter_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01318">1318</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_int32_t <a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>;
  <span class="keywordtype">char</span> adv[16], rbits[16], options[16], <a class="code" href="ospf__vty_8c.html#a7030c85f46deeffac793079c664c14ce">area</a>[16];

  adv_router = <a class="code" href="ospf6__route_8h.html#ab056946ac3b3ce6cc32c6eefa5a2f238">ospf6_linkstate_prefix_adv_router</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>);
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;adv_router, adv, <span class="keyword">sizeof</span> (adv));
  <a class="code" href="ospf6__proto_8c.html#acfafe064fed258582397cfd39d7d69ba">ospf6_capability_printbuf</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4c22e82497e95ddac15345fbdf50245">router_bits</a>, rbits, sizeof (rbits));
  <a class="code" href="ospf6__proto_8c.html#a70fba8cd2453bf33405c98ff2ff14a38">ospf6_options_printbuf</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a1c10b3d1f386486e496d7196ec16e5e5">options</a>, options, sizeof (options));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4fc384dbcd343e1ba3e5918e4d25c15">area_id</a>, area, sizeof (area));

  <span class="comment">/* vty_out (vty, &quot;%-15s %-8s %-14s %-10s %-15s%s&quot;,</span>
<span class="comment">           &quot;Router-ID&quot;, &quot;Rtr-Bits&quot;, &quot;Options&quot;, &quot;Path-Type&quot;, &quot;Area&quot;, VNL); */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-15s %-8s %-14s %-10s %-15s%s&quot;</span>,
           adv, rbits, options, <a class="code" href="ospf6__route_8h.html#aa450597cf8eef04535375a88c66bde88">OSPF6_PATH_TYPE_NAME</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a>),
           area, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa4066ae715d8d2937f584483a2218dc4"></a><!-- doxytag: member="ospf6_route.c::ospf6_brouter_show_header" ref="aa4066ae715d8d2937f584483a2218dc4" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_brouter_show_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01311">1311</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-15s %-8s %-14s %-10s %-15s%s&quot;</span>,
           <span class="stringliteral">&quot;Router-ID&quot;</span>, <span class="stringliteral">&quot;Rtr-Bits&quot;</span>, <span class="stringliteral">&quot;Options&quot;</span>, <span class="stringliteral">&quot;Path-Type&quot;</span>, <span class="stringliteral">&quot;Area&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5190b1a4d8babac390d4504e6119ffde"></a><!-- doxytag: member="ospf6_route.c::ospf6_linkstate_prefix" ref="a5190b1a4d8babac390d4504e6119ffde" args="(u_int32_t adv_router, u_int32_t id, struct prefix *prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_linkstate_prefix </td>
          <td>(</td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>adv_router</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00137">137</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  memset (prefix, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> prefix));
  prefix-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> = AF_INET6;
  prefix-&gt;<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a> = 64;
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;prefix-&gt;u.prefix6.s6_addr[0], &amp;<a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>, 4);
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;prefix-&gt;u.prefix6.s6_addr[4], &amp;<span class="keywordtype">id</span>, 4);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6cd3c9be4769715b219b63202f5cd802"></a><!-- doxytag: member="ospf6_route.c::ospf6_linkstate_prefix2str" ref="a6cd3c9be4769715b219b63202f5cd802" args="(struct prefix *prefix, char *buf, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_linkstate_prefix2str </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00148">148</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_int32_t <a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>, <a class="code" href="prefix_8h.html#a68c0ada54c6414ef00bca919465286ac">id</a>;
  <span class="keywordtype">char</span> adv_router_str[16], id_str[16];
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;adv_router, &amp;prefix-&gt;u.prefix6.s6_addr[0], 4);
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (&amp;<span class="keywordtype">id</span>, &amp;prefix-&gt;u.prefix6.s6_addr[4], 4);
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;adv_router, adv_router_str, <span class="keyword">sizeof</span> (adv_router_str));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;<span class="keywordtype">id</span>, id_str, <span class="keyword">sizeof</span> (id_str));
  <span class="keywordflow">if</span> (ntohl (<span class="keywordtype">id</span>))
    <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, size, <span class="stringliteral">&quot;%s Net-ID: %s&quot;</span>, adv_router_str, id_str);
  <span class="keywordflow">else</span>
    <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (buf, size, <span class="stringliteral">&quot;%s&quot;</span>, adv_router_str);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af9d3e316e5ab019787d232fa72a3f716"></a><!-- doxytag: member="ospf6_route.c::ospf6_linkstate_show" ref="af9d3e316e5ab019787d232fa72a3f716" args="(struct vty *vty, struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_linkstate_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01181">1181</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  u_int32_t router, <a class="code" href="prefix_8h.html#a68c0ada54c6414ef00bca919465286ac">id</a>;
  <span class="keywordtype">char</span> routername[16], idname[16], rbits[16], options[16];

  router = <a class="code" href="ospf6__route_8h.html#ab056946ac3b3ce6cc32c6eefa5a2f238">ospf6_linkstate_prefix_adv_router</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>);
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;router, routername, <span class="keyword">sizeof</span> (routername));
  <span class="keywordtype">id</span> = <a class="code" href="ospf6__route_8h.html#a9a6edcbcd65205cf8454ae194f2c41b2">ospf6_linkstate_prefix_id</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>);
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;<span class="keywordtype">id</span>, idname, <span class="keyword">sizeof</span> (idname));

  <a class="code" href="ospf6__proto_8c.html#acfafe064fed258582397cfd39d7d69ba">ospf6_capability_printbuf</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4c22e82497e95ddac15345fbdf50245">router_bits</a>, rbits, sizeof (rbits));
  <a class="code" href="ospf6__proto_8c.html#a70fba8cd2453bf33405c98ff2ff14a38">ospf6_options_printbuf</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a1c10b3d1f386486e496d7196ec16e5e5">options</a>, options, sizeof (options));

  <span class="keywordflow">if</span> (ntohl (<span class="keywordtype">id</span>))
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-7s %-15s %-15s %-8s %-14s %lu%s&quot;</span>,
             <span class="stringliteral">&quot;Network&quot;</span>, routername, idname, rbits, options,
             (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">else</span>
    <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-7s %-15s %-15s %-8s %-14s %lu%s&quot;</span>,
             <span class="stringliteral">&quot;Router&quot;</span>, routername, idname, rbits, options,
             (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad071f916d299d092204aa8d00515ecb3"></a><!-- doxytag: member="ospf6_route.c::ospf6_linkstate_show_header" ref="ad071f916d299d092204aa8d00515ecb3" args="(struct vty *vty)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_linkstate_show_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01174">1174</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%-7s %-15s %-15s %-8s %-14s %s%s&quot;</span>,
           <span class="stringliteral">&quot;Type&quot;</span>, <span class="stringliteral">&quot;Router-ID&quot;</span>, <span class="stringliteral">&quot;Net-ID&quot;</span>, <span class="stringliteral">&quot;Rtr-Bits&quot;</span>, <span class="stringliteral">&quot;Options&quot;</span>, <span class="stringliteral">&quot;Cost&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aafa93a7d8c1acfe3d0e153ff9dd7af01"></a><!-- doxytag: member="ospf6_route.c::ospf6_linkstate_show_table" ref="aafa93a7d8c1acfe3d0e153ff9dd7af01" args="(struct vty *vty, int detail, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_linkstate_show_table </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>detail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01228">1228</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  <span class="keywordflow">if</span> (! detail)
    <a class="code" href="ospf6__route_8c.html#ad071f916d299d092204aa8d00515ecb3">ospf6_linkstate_show_header</a> (vty);

  route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (table);
  <span class="keywordflow">while</span> (route)
    {
      <span class="keywordflow">if</span> (detail)
        <a class="code" href="ospf6__route_8c.html#a8aa84829fb3ba1693d7c1d020844a606">ospf6_route_show_detail</a> (vty, route);
      <span class="keywordflow">else</span>
        <a class="code" href="ospf6__route_8c.html#af9d3e316e5ab019787d232fa72a3f716">ospf6_linkstate_show</a> (vty, route);
      route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ada26d1dbfdad8538591f47cc732b47ad"></a><!-- doxytag: member="ospf6_route.c::ospf6_linkstate_show_table_exact" ref="ada26d1dbfdad8538591f47cc732b47ad" args="(struct vty *vty, struct prefix *prefix, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_linkstate_show_table_exact </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01206">1206</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  route = <a class="code" href="ospf6__route_8c.html#aa7d8f56a2e18e2dc561dfda78a980fb2">ospf6_route_lookup</a> (prefix, table);
  <span class="keywordflow">if</span> (route == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span>;

  <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);
  <span class="keywordflow">while</span> (route &amp;&amp; <a class="code" href="ospf6__route_8h.html#a0a95fc057a8b281526dc83bdda838baf">ospf6_route_is_prefix</a> (prefix, route))
    {
      <span class="comment">/* Specifying a prefix will always display details */</span>
      <a class="code" href="ospf6__route_8c.html#a8aa84829fb3ba1693d7c1d020844a606">ospf6_route_show_detail</a> (vty, route);
      route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route);
    }
  <span class="keywordflow">if</span> (route)
    <a class="code" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (route);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6f3eeb015410531936d5df6aaa00ce4f"></a><!-- doxytag: member="ospf6_route.c::ospf6_linkstate_table_show" ref="a6f3eeb015410531936d5df6aaa00ce4f" args="(struct vty *vty, int argc, const char *argv[], struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_linkstate_table_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01248">1248</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> detail = 0;
  <span class="keywordtype">int</span> is_id = 0;
  <span class="keywordtype">int</span> is_router = 0;
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>, ret;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> router, <a class="code" href="prefix_8h.html#a68c0ada54c6414ef00bca919465286ac">id</a>, <a class="code" href="structprefix.html">prefix</a>;

  memset (&amp;router, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a>));
  memset (&amp;<span class="keywordtype">id</span>, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a>));
  memset (&amp;<a class="code" href="structprefix.html">prefix</a>, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a>));

  <span class="keywordflow">for</span> (i = 0; i &lt; argc; i++)
    {
      <span class="keywordflow">if</span> (! strcmp (argv[i], <span class="stringliteral">&quot;detail&quot;</span>))
        {
          detail++;
          <span class="keywordflow">continue</span>;
        }

      <span class="keywordflow">if</span> (! is_router)
        {
          ret = <a class="code" href="prefix_8c.html#a35f57d44562d00baaf5d227d03214786">str2prefix</a> (argv[i], &amp;router);
          <span class="keywordflow">if</span> (ret == 1 &amp;&amp; router.family == AF_INET)
            {
              is_router++;
              <span class="keywordflow">continue</span>;
            }
          <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Malformed argument: %s%s&quot;</span>, argv[i], <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
          <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
        }

      <span class="keywordflow">if</span> (! is_id)
        {
          ret = <a class="code" href="prefix_8c.html#a35f57d44562d00baaf5d227d03214786">str2prefix</a> (argv[i], &amp;<span class="keywordtype">id</span>);
          <span class="keywordflow">if</span> (ret == 1 &amp;&amp; <span class="keywordtype">id</span>.<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET)
            {
              is_id++;
              <span class="keywordflow">continue</span>;
            }
          <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Malformed argument: %s%s&quot;</span>, argv[i], <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
          <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
        }

      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Malformed argument: %s%s&quot;</span>, argv[i], <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <span class="keywordflow">if</span> (is_router)
    <a class="code" href="ospf6__route_8c.html#a5190b1a4d8babac390d4504e6119ffde">ospf6_linkstate_prefix</a> (router.u.prefix4.s_addr,
                            <span class="keywordtype">id</span>.u.prefix4.s_addr, &amp;<a class="code" href="structprefix.html">prefix</a>);

  <span class="keywordflow">if</span> (<a class="code" href="structprefix.html">prefix</a>.<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a>)
    <a class="code" href="ospf6__route_8c.html#ada26d1dbfdad8538591f47cc732b47ad">ospf6_linkstate_show_table_exact</a> (vty, &amp;<a class="code" href="structprefix.html">prefix</a>, table);
  <span class="keywordflow">else</span>
    <a class="code" href="ospf6__route_8c.html#aafa93a7d8c1acfe3d0e153ff9dd7af01">ospf6_linkstate_show_table</a> (vty, detail, table);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab35c4efbc72f9bf772e334f1725da353"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_add" ref="ab35c4efbc72f9bf772e334f1725da353" args="(struct ospf6_route *route, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00356">356</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *node, *<a class="code" href="linklist_8h.html#a55fb4579b486236096a9ead8ece51bad">nextnode</a>, *prevnode;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *current = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *old = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">char</span> buf[64];
  <span class="keyword">struct </span>timeval now;

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;<a class="code" href="structospf6__route.html#a400b25094c113ad6cca921b696b77f8b">rnode</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;<a class="code" href="structospf6__route.html#a7c548e8e59600e136436ce9aaf378baa">lock</a> == 0);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);

  <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> == <a class="code" href="ospf6__route_8h.html#aa7dc51fbd11971c3f8dff933ea524492">OSPF6_DEST_TYPE_LINKSTATE</a>)
    <a class="code" href="ospf6__route_8c.html#a6cd3c9be4769715b219b63202f5cd802">ospf6_linkstate_prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));
  <span class="keywordflow">else</span>
    <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s %p: route add %p: %s&quot;</span>, <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table),
                table, route, buf);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (TABLE))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s: route add: %s&quot;</span>, <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), buf);

  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now);

  node = <a class="code" href="table_8c.html#ac91fdff1a0b8dc3d60ebaf152caa0f80">route_node_get</a> (table-&gt;<a class="code" href="structospf6__route__table.html#a2323f5dbcbf6d64f99bacb2d12c01761">table</a>, &amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>);
  route-&gt;<a class="code" href="structospf6__route.html#a400b25094c113ad6cca921b696b77f8b">rnode</a> = node;

  <span class="comment">/* find place to insert */</span>
  <span class="keywordflow">for</span> (current = node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>; current; current = current-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>)
    {
      <span class="keywordflow">if</span> (! <a class="code" href="ospf6__route_8h.html#a7133738c8b5e672f6e20d99fa76d3f90">ospf6_route_is_same</a> (current, route))
        next = current;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (current-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> != route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a>)
        prev = current;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#ac093ba9e1fbda0c67c91801240718e8c">ospf6_route_is_same_origin</a> (current, route))
        old = current;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8c.html#a02403e3544541e5a854683aa0ee88f85">ospf6_route_cmp</a> (current, route) &gt; 0)
        next = current;
      <span class="keywordflow">else</span>
        prev = current;

      <span class="keywordflow">if</span> (old || next)
        <span class="keywordflow">break</span>;
    }

  <span class="keywordflow">if</span> (old)
    {
      <span class="comment">/* if route does not actually change, return unchanged */</span>
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a8be4fa6a36fd91902ea68d983f44ea54">ospf6_route_is_identical</a> (old, route))
        {
          <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
            <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s %p: route add %p: needless update of %p&quot;</span>,
                        <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), table, route, old);
          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (TABLE))
            <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s: route add: needless update&quot;</span>,
                        <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table));

          <a class="code" href="ospf6__route_8c.html#afe483c6d6b442082f70587b8a137ef9c">ospf6_route_delete</a> (route);
          <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (old-&gt;flag, <a class="code" href="ospf6__route_8h.html#af81460bb17acb9299c98ef5e703f29fa">OSPF6_ROUTE_ADD</a>);
          <a class="code" href="ospf6__route_8c.html#a67085861a8db3e45bf5108ad14f9485d">ospf6_route_table_assert</a> (table);

          <span class="keywordflow">return</span> old;
        }

      <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s %p: route add %p: update of %p&quot;</span>,
                    <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), table, route, old);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (TABLE))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s: route add: update&quot;</span>,
                    <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table));

      <span class="comment">/* replace old one if exists */</span>
      <span class="keywordflow">if</span> (node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == old)
        {
          node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = route;
          <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (route-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#a15a16e004b7ad8a332e55f65fa81bc88">OSPF6_ROUTE_BEST</a>);
        }

      <span class="keywordflow">if</span> (old-&gt;prev)
        old-&gt;prev-&gt;next = route;
      route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a> = old-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>;
      <span class="keywordflow">if</span> (old-&gt;next)
        old-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a> = route;
      route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a> = old-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;

      route-&gt;<a class="code" href="structospf6__route.html#a927c15a4c44ad75a74d8386e2c8deea3">installed</a> = old-&gt;installed;
      route-&gt;<a class="code" href="structospf6__route.html#a22eb727157fffbb2b611795562329b9d">changed</a> = now;
      <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;<a class="code" href="structospf6__route.html#a2d99ee3cfa2172978768a500be5b7437">table</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
      route-&gt;<a class="code" href="structospf6__route.html#a2d99ee3cfa2172978768a500be5b7437">table</a> = table;

      <a class="code" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (old); <span class="comment">/* will be deleted later */</span>
      <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);

      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (route-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#a2e34d8560d88a78a2243622c923dde72">OSPF6_ROUTE_CHANGE</a>);
      <a class="code" href="ospf6__route_8c.html#a67085861a8db3e45bf5108ad14f9485d">ospf6_route_table_assert</a> (table);

      <span class="keywordflow">if</span> (table-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a>)
        (*table-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a>) (route);

      <span class="keywordflow">return</span> route;
    }

  <span class="comment">/* insert if previous or next node found */</span>
  <span class="keywordflow">if</span> (prev || next)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s %p: route add %p: another path: prev %p, next %p&quot;</span>,
                   <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), table, route, prev, next);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (TABLE))
        <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s: route add: another path found&quot;</span>,
                    <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table));

      <span class="keywordflow">if</span> (prev == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        prev = next-&gt;prev;
      <span class="keywordflow">if</span> (next == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        next = prev-&gt;next;

      <span class="keywordflow">if</span> (prev)
        prev-&gt;next = route;
      route-&gt;prev = prev;
      <span class="keywordflow">if</span> (next)
        next-&gt;prev = route;
      route-&gt;next = next;

      <span class="keywordflow">if</span> (node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == next)
        {
          <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (next-&gt;rnode == node);
          node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = route;
          <a class="code" href="zebra_8h.html#ab1ec1b6701a70280e13876cf1f6ae51d">UNSET_FLAG</a> (next-&gt;flag, <a class="code" href="ospf6__route_8h.html#a15a16e004b7ad8a332e55f65fa81bc88">OSPF6_ROUTE_BEST</a>);
          <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (route-&gt;flag, <a class="code" href="ospf6__route_8h.html#a15a16e004b7ad8a332e55f65fa81bc88">OSPF6_ROUTE_BEST</a>);
          <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
            <a class="code" href="log_8h.html#a383184727341e7ad985deb9e4f2156c7">zlog_info</a> (<span class="stringliteral">&quot;%s %p: route add %p: replacing previous best: %p&quot;</span>,
                       <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), table, route, next);
        }

      route-&gt;installed = now;
      route-&gt;changed = now;
      <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;table == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
      route-&gt;table = table;

      <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);
      table-&gt;<a class="code" href="structospf6__route__table.html#ac242748e782f2dbbc1f2d69ce7d9a140">count</a>++;
      <a class="code" href="ospf6__route_8c.html#a67085861a8db3e45bf5108ad14f9485d">ospf6_route_table_assert</a> (table);

      <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (route-&gt;flag, <a class="code" href="ospf6__route_8h.html#af81460bb17acb9299c98ef5e703f29fa">OSPF6_ROUTE_ADD</a>);
      <span class="keywordflow">if</span> (table-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a>)
        (*table-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a>) (route);

      <span class="keywordflow">return</span> route;
    }

  <span class="comment">/* Else, this is the brand new route regarding to the prefix */</span>
  <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s %p: route add %p: brand new route&quot;</span>,
                <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), table, route);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (TABLE))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s: route add: brand new route&quot;</span>,
                <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table));

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = route;
  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (route-&gt;flag, <a class="code" href="ospf6__route_8h.html#a15a16e004b7ad8a332e55f65fa81bc88">OSPF6_ROUTE_BEST</a>);
  <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);
  route-&gt;installed = now;
  route-&gt;changed = now;
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;table == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  route-&gt;table = table;

  <span class="comment">/* lookup real existing next route */</span>
  nextnode = node;
  <a class="code" href="table_8c.html#a5f018f727fe43d17553baabbf7fa6498">route_lock_node</a> (nextnode);
  <span class="keywordflow">do</span> {
    nextnode = <a class="code" href="table_8c.html#ad2addc694ecf6cd0cce57cb3a7d96902">route_next</a> (nextnode);
  } <span class="keywordflow">while</span> (nextnode &amp;&amp; nextnode-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);

  <span class="comment">/* set next link */</span>
  <span class="keywordflow">if</span> (nextnode == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    route-&gt;next = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">else</span>
    {
      <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (nextnode);

      next = nextnode-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
      route-&gt;next = next;
      next-&gt;prev = route;
    }

  <span class="comment">/* lookup real existing prev route */</span>
  prevnode = node;
  <a class="code" href="table_8c.html#a5f018f727fe43d17553baabbf7fa6498">route_lock_node</a> (prevnode);
  <span class="keywordflow">do</span> {
    prevnode = <a class="code" href="ospf6d_8c.html#ad926da9353e529391401a826d9254f93">route_prev</a> (prevnode);
  } <span class="keywordflow">while</span> (prevnode &amp;&amp; prevnode-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);

  <span class="comment">/* set prev link */</span>
  <span class="keywordflow">if</span> (prevnode == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    route-&gt;prev = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">else</span>
    {
      <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (prevnode);

      prev = prevnode-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
      <span class="keywordflow">while</span> (prev-&gt;next &amp;&amp; <a class="code" href="ospf6__route_8h.html#a7133738c8b5e672f6e20d99fa76d3f90">ospf6_route_is_same</a> (prev, prev-&gt;next))
        prev = prev-&gt;next;
      route-&gt;prev = prev;
      prev-&gt;next = route;
    }

  table-&gt;<a class="code" href="structospf6__route__table.html#ac242748e782f2dbbc1f2d69ce7d9a140">count</a>++;
  <a class="code" href="ospf6__route_8c.html#a67085861a8db3e45bf5108ad14f9485d">ospf6_route_table_assert</a> (table);

  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (route-&gt;flag, <a class="code" href="ospf6__route_8h.html#af81460bb17acb9299c98ef5e703f29fa">OSPF6_ROUTE_ADD</a>);
  <span class="keywordflow">if</span> (table-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a>)
    (*table-&gt;<a class="code" href="structospf6__route__table.html#a150a5f55306ff86d6b220fb0658b4c18">hook_add</a>) (route);

  <span class="keywordflow">return</span> route;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad6c22f4091c972c555827dc1632f2fd8"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_best_next" ref="ad6c22f4091c972c555827dc1632f2fd8" args="(struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_best_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00688">688</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *rnode;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;

  rnode = route-&gt;<a class="code" href="structospf6__route.html#a400b25094c113ad6cca921b696b77f8b">rnode</a>;
  <a class="code" href="table_8c.html#a5f018f727fe43d17553baabbf7fa6498">route_lock_node</a> (rnode);
  rnode = <a class="code" href="table_8c.html#ad2addc694ecf6cd0cce57cb3a7d96902">route_next</a> (rnode);
  <span class="keywordflow">while</span> (rnode &amp;&amp; rnode-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    rnode = <a class="code" href="table_8c.html#ad2addc694ecf6cd0cce57cb3a7d96902">route_next</a> (rnode);
  <span class="keywordflow">if</span> (rnode == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (rnode);

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (rnode-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>);
  next = (<span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *) rnode-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
  <a class="code" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (route);
  <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (next);
  <span class="keywordflow">return</span> <a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a02403e3544541e5a854683aa0ee88f85"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_cmp" ref="a02403e3544541e5a854683aa0ee88f85" args="(struct ospf6_route *ra, struct ospf6_route *rb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ospf6_route_cmp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>ra</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>rb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00230">230</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (<a class="code" href="ospf6__route_8h.html#a7133738c8b5e672f6e20d99fa76d3f90">ospf6_route_is_same</a> (ra, rb));
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (OSPF6_PATH_TYPE_NONE &lt; ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> &amp;&amp;
          ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> &lt; <a class="code" href="ospf6__route_8h.html#a58713f677df3b5e893312852a8fdba29">OSPF6_PATH_TYPE_MAX</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (OSPF6_PATH_TYPE_NONE &lt; rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> &amp;&amp;
          rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> &lt; <a class="code" href="ospf6__route_8h.html#a58713f677df3b5e893312852a8fdba29">OSPF6_PATH_TYPE_MAX</a>);

  <span class="keywordflow">if</span> (ra-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> != rb-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a>)
    <span class="keywordflow">return</span> (ra-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> - rb-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a>);

  <span class="keywordflow">if</span> (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4fc384dbcd343e1ba3e5918e4d25c15">area_id</a> != rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4fc384dbcd343e1ba3e5918e4d25c15">area_id</a>)
    <span class="keywordflow">return</span> (ntohl (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4fc384dbcd343e1ba3e5918e4d25c15">area_id</a>) - ntohl (rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4fc384dbcd343e1ba3e5918e4d25c15">area_id</a>));

  <span class="keywordflow">if</span> (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> != rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a>)
    <span class="keywordflow">return</span> (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> - rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a>);

  <span class="keywordflow">if</span> (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> == <a class="code" href="ospf6__route_8h.html#a753677bbce3e5b4d74252300c43e422a">OSPF6_PATH_TYPE_EXTERNAL2</a>)
    {
      <span class="keywordflow">if</span> (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a> != rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a>)
        <span class="keywordflow">return</span> (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a> - rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a>);
    }
  <span class="keywordflow">else</span>
    {
      <span class="keywordflow">if</span> (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a> != rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>)
        <span class="keywordflow">return</span> (ra-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a> - rb-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>);
    }

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa406f9a6fff899c6c153b2d208efd1a0"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_copy" ref="aa406f9a6fff899c6c153b2d208efd1a0" args="(struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_copy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00191">191</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *<span class="keyword">new</span>;

  <span class="keyword">new</span> = <a class="code" href="ospf6__route_8c.html#af4307729ed4bcbcb064c0a7363f3084f">ospf6_route_create</a> ();
  <a class="code" href="regex_8c.html#aed653b4838032a2c5ce8960421c8cfd7">memcpy</a> (<span class="keyword">new</span>, route, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__route.html">ospf6_route</a>));
  <span class="keyword">new</span>-&gt;rnode = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">new</span>-&gt;prev = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">new</span>-&gt;next = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">new</span>-&gt;table = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">new</span>-&gt;lock = 0;
  <span class="keywordflow">return</span> <span class="keyword">new</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af4307729ed4bcbcb064c0a7363f3084f"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_create" ref="af4307729ed4bcbcb064c0a7363f3084f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00177">177</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;
  route = <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab41d86236e3a778976a0183cfe48894f">MTYPE_OSPF6_ROUTE</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__route.html">ospf6_route</a>));
  <span class="keywordflow">return</span> route;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afe483c6d6b442082f70587b8a137ef9c"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_delete" ref="afe483c6d6b442082f70587b8a137ef9c" args="(struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_route_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00185">185</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab41d86236e3a778976a0183cfe48894f">MTYPE_OSPF6_ROUTE</a>, route);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a400d24a67548089d8a59242677ef33cf"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_head" ref="a400d24a67548089d8a59242677ef33cf" args="(struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00639">639</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *node;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  node = <a class="code" href="table_8c.html#aee1d06c531794df326d946bdac647fb2">route_top</a> (table-&gt;<a class="code" href="structospf6__route__table.html#a2323f5dbcbf6d64f99bacb2d12c01761">table</a>);
  <span class="keywordflow">if</span> (node == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* skip to the real existing entry */</span>
  <span class="keywordflow">while</span> (node &amp;&amp; node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    node = <a class="code" href="table_8c.html#ad2addc694ecf6cd0cce57cb3a7d96902">route_next</a> (node);
  <span class="keywordflow">if</span> (node == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (node);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>);

  route = (<span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *) node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;<a class="code" href="structospf6__route.html#a2d99ee3cfa2172978768a500be5b7437">table</a> == table);
  <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
    <a class="code" href="log_8h.html#a383184727341e7ad985deb9e4f2156c7">zlog_info</a> (<span class="stringliteral">&quot;%s %p: route head: %p&lt;-[%p]-&gt;%p&quot;</span>,
               <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), table,
               route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>, route, route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>);

  <span class="keywordflow">return</span> route;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0ad7c43050f40ca3637220835928c2af"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_lock" ref="a0ad7c43050f40ca3637220835928c2af" args="(struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_route_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00206">206</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  route-&gt;<a class="code" href="structospf6__route.html#a7c548e8e59600e136436ce9aaf378baa">lock</a>++;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa7d8f56a2e18e2dc561dfda78a980fb2"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_lookup" ref="aa7d8f56a2e18e2dc561dfda78a980fb2" args="(struct prefix *prefix, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00262">262</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *node;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  node = <a class="code" href="table_8c.html#ab99d86b40440c8f18d4f2b31b5b8f1c7">route_node_lookup</a> (table-&gt;<a class="code" href="structospf6__route__table.html#a2323f5dbcbf6d64f99bacb2d12c01761">table</a>, prefix);
  <span class="keywordflow">if</span> (node == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  route = (<span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *) node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
  <span class="keywordflow">return</span> route;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad09379fefd4d4c2cf9af55345000d9cf"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_lookup_bestmatch" ref="ad09379fefd4d4c2cf9af55345000d9cf" args="(struct prefix *prefix, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_lookup_bestmatch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00292">292</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *node;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  node = <a class="code" href="table_8c.html#a948f4335026cd8417c7424e85156ae55">route_node_match</a> (table-&gt;<a class="code" href="structospf6__route__table.html#a2323f5dbcbf6d64f99bacb2d12c01761">table</a>, prefix);
  <span class="keywordflow">if</span> (node == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (node);

  route = (<span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *) node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
  <span class="keywordflow">return</span> route;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a350bfb8c1552479b037feb16a0d5e2b8"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_lookup_identical" ref="a350bfb8c1552479b037feb16a0d5e2b8" args="(struct ospf6_route *route, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_lookup_identical </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00277">277</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *target;

  <span class="keywordflow">for</span> (target = <a class="code" href="ospf6__route_8c.html#aa7d8f56a2e18e2dc561dfda78a980fb2">ospf6_route_lookup</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, table);
       target; target = target-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a8be4fa6a36fd91902ea68d983f44ea54">ospf6_route_is_identical</a> (target, route))
        <span class="keywordflow">return</span> target;
    }
  <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aac8aa08a2c7dca4d417db4681b0529a0"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_match_head" ref="aac8aa08a2c7dca4d417db4681b0529a0" args="(struct prefix *prefix, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_match_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00710">710</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *node;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  <span class="comment">/* Walk down tree. */</span>
  node = table-&gt;<a class="code" href="structospf6__route__table.html#a2323f5dbcbf6d64f99bacb2d12c01761">table</a>-&gt;<a class="code" href="structroute__table.html#a4d58458d9c18192cecaea1b98775f529">top</a>;
  <span class="keywordflow">while</span> (node &amp;&amp; node-&gt;<a class="code" href="structroute__node.html#ae6d28f3985e8e2a761c8e22bae5767eb">p</a>.<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a> &lt; prefix-&gt;<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a> &amp;&amp;
     <a class="code" href="prefix_8c.html#a8c5d68665a4b036a361330bee254318e">prefix_match</a> (&amp;node-&gt;<a class="code" href="structroute__node.html#ae6d28f3985e8e2a761c8e22bae5767eb">p</a>, prefix))
    node = node-&gt;<a class="code" href="structroute__node.html#a6416caa9a71f122b759c0a8d79dfb72e">link</a>[<a class="code" href="prefix_8h.html#a448f1ebdeae472533f8faafd675e8f0b">prefix_bit</a>(&amp;prefix-&gt;u.<a class="code" href="structprefix.html#af508982a05429729278c96708bd9e337">prefix</a>, node-&gt;<a class="code" href="structroute__node.html#ae6d28f3985e8e2a761c8e22bae5767eb">p</a>.<a class="code" href="structprefix.html#aae8dafba4797d25cf1d141780d87ff02">prefixlen</a>)];

  <span class="keywordflow">if</span> (node)
    <a class="code" href="table_8c.html#a5f018f727fe43d17553baabbf7fa6498">route_lock_node</a> (node);
  <span class="keywordflow">while</span> (node &amp;&amp; node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    node = <a class="code" href="table_8c.html#ad2addc694ecf6cd0cce57cb3a7d96902">route_next</a> (node);
  <span class="keywordflow">if</span> (node == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="table_8c.html#a849965644708e01ef49c203a2e00afd4">route_unlock_node</a> (node);

  <span class="keywordflow">if</span> (! <a class="code" href="prefix_8c.html#a8c5d68665a4b036a361330bee254318e">prefix_match</a> (prefix, &amp;node-&gt;<a class="code" href="structroute__node.html#ae6d28f3985e8e2a761c8e22bae5767eb">p</a>))
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  route = node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
  <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);
  <span class="keywordflow">return</span> route;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a944bc519c57314c58c6ca2043c5154cd"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_match_next" ref="a944bc519c57314c58c6ca2043c5154cd" args="(struct prefix *prefix, struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_match_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00739">739</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;

  next = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route);
  <span class="keywordflow">if</span> (next &amp;&amp; ! <a class="code" href="prefix_8c.html#a8c5d68665a4b036a361330bee254318e">prefix_match</a> (prefix, &amp;next-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>))
    {
      <a class="code" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (next);
      next = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }

  <span class="keywordflow">return</span> <a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4cdecc41a86097a7d0871397f7a80fb8"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_next" ref="a4cdecc41a86097a7d0871397f7a80fb8" args="(struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route.html">ospf6_route</a>* ospf6_route_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00671">671</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a> = route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
    <a class="code" href="log_8h.html#a383184727341e7ad985deb9e4f2156c7">zlog_info</a> (<span class="stringliteral">&quot;%s %p: route next: %p&lt;-[%p]-&gt;%p&quot;</span>,
               <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (route-&gt;<a class="code" href="structospf6__route.html#a2d99ee3cfa2172978768a500be5b7437">table</a>), route-&gt;<a class="code" href="structospf6__route.html#a2d99ee3cfa2172978768a500be5b7437">table</a>,
               route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>, route, route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>);

  <a class="code" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (route);
  <span class="keywordflow">if</span> (next)
    <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (next);

  <span class="keywordflow">return</span> <a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a89c513ce389875d0c89a20017db2c410"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_remove" ref="a89c513ce389875d0c89a20017db2c410" args="(struct ospf6_route *route, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_route_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00578">578</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structroute__node.html">route_node</a> *node;
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *current;
  <span class="keywordtype">char</span> buf[64];

  <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> == <a class="code" href="ospf6__route_8h.html#aa7dc51fbd11971c3f8dff933ea524492">OSPF6_DEST_TYPE_LINKSTATE</a>)
    <a class="code" href="ospf6__route_8c.html#a6cd3c9be4769715b219b63202f5cd802">ospf6_linkstate_prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));
  <span class="keywordflow">else</span>
    <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));

  <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (MEMORY))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s %p: route remove %p: %s&quot;</span>,
                <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), table, route, buf);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#a93829ee05fb7c64e1b29f7d808383383">IS_OSPF6_DEBUG_ROUTE</a> (TABLE))
    <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;%s: route remove: %s&quot;</span>, <a class="code" href="ospf6__route_8c.html#a817a1b980af5dda29697b048757934c9">ospf6_route_table_name</a> (table), buf);

  node = <a class="code" href="table_8c.html#ab99d86b40440c8f18d4f2b31b5b8f1c7">route_node_lookup</a> (table-&gt;<a class="code" href="structospf6__route__table.html#a2323f5dbcbf6d64f99bacb2d12c01761">table</a>, &amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>);
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (node);

  <span class="comment">/* find the route to remove, making sure that the route pointer</span>
<span class="comment">     is from the route table. */</span>
  current = node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a>;
  <span class="keywordflow">while</span> (current &amp;&amp; <a class="code" href="ospf6__route_8h.html#a7133738c8b5e672f6e20d99fa76d3f90">ospf6_route_is_same</a> (current, route))
    {
      <span class="keywordflow">if</span> (current == route)
        <span class="keywordflow">break</span>;
      current = current-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
    }
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (current == route);

  <span class="comment">/* adjust doubly linked list */</span>
  <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>)
    route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a> = route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
  <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>)
    route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a> = route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>;

  <span class="keywordflow">if</span> (node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> == route)
    {
      <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a> &amp;&amp; <a class="code" href="ospf6__route_8h.html#a7133738c8b5e672f6e20d99fa76d3f90">ospf6_route_is_same</a> (route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>, route))
        {
          node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
          <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#a15a16e004b7ad8a332e55f65fa81bc88">OSPF6_ROUTE_BEST</a>);
        }
      <span class="keywordflow">else</span>
        node-&gt;<a class="code" href="structroute__node.html#a20aabb1a6fbe9de363a1c57fe3124c87">info</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <span class="comment">/* should unlock route_node here ? */</span>
    }

  table-&gt;<a class="code" href="structospf6__route__table.html#ac242748e782f2dbbc1f2d69ce7d9a140">count</a>--;
  <a class="code" href="ospf6__route_8c.html#a67085861a8db3e45bf5108ad14f9485d">ospf6_route_table_assert</a> (table);

  <a class="code" href="zebra_8h.html#a7c593725d5bbf27a37a922ae84b02333">SET_FLAG</a> (route-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#a369671cf7e53eb4fe9277650c49f5240">OSPF6_ROUTE_WAS_REMOVED</a>);

  <span class="keywordflow">if</span> (table-&gt;<a class="code" href="structospf6__route__table.html#a1c69b4917bafb6ef7a03299b262f0839">hook_remove</a>)
    (*table-&gt;<a class="code" href="structospf6__route__table.html#a1c69b4917bafb6ef7a03299b262f0839">hook_remove</a>) (route);

  <a class="code" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (route);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0429954cda76d4207a53813e869b451d"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_remove_all" ref="a0429954cda76d4207a53813e869b451d" args="(struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_route_remove_all </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00755">755</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;
  <span class="keywordflow">for</span> (route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (table); route;
       route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route))
    <a class="code" href="ospf6__route_8c.html#a89c513ce389875d0c89a20017db2c410">ospf6_route_remove</a> (route, table);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1ff2114a5d187ef4c6285fa25c38642b"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_show" ref="a1ff2114a5d187ef4c6285fa25c38642b" args="(struct vty *vty, struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_route_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00785">785</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;
  <span class="keywordtype">char</span> destination[64], <a class="code" href="structnexthop.html">nexthop</a>[64];
  <span class="keywordtype">char</span> duration[16], ifname[IFNAMSIZ];
  <span class="keyword">struct </span>timeval now, res;

  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now);
  <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;now, &amp;route-&gt;<a class="code" href="structospf6__route.html#a22eb727157fffbb2b611795562329b9d">changed</a>, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));

  <span class="comment">/* destination */</span>
  <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> == <a class="code" href="ospf6__route_8h.html#aa7dc51fbd11971c3f8dff933ea524492">OSPF6_DEST_TYPE_LINKSTATE</a>)
    <a class="code" href="ospf6__route_8c.html#a6cd3c9be4769715b219b63202f5cd802">ospf6_linkstate_prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, destination,
                                sizeof (destination));
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> == <a class="code" href="ospf6__route_8h.html#a0dcb3d4e20fc75a249f2091ba481d37b">OSPF6_DEST_TYPE_ROUTER</a>)
    <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a>, &amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.u.<a class="code" href="structprefix.html#af508982a05429729278c96708bd9e337">prefix</a>,
               destination, sizeof (destination));
  <span class="keywordflow">else</span>
    <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, destination, sizeof (destination));

  <span class="comment">/* nexthop */</span>
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, &amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#aca0fcfd059411e2638d19d1d95288a10">address</a>, nexthop,
             sizeof (nexthop));
  <span class="keywordflow">if</span> (! <a class="code" href="if_8c.html#a2e22330f87622f0659002d0aff75b487">if_indextoname</a> (route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>, ifname))
    <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (ifname, <span class="keyword">sizeof</span> (ifname), <span class="stringliteral">&quot;%d&quot;</span>, route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%c%1s %2s %-30s %-25s %6.*s %s%s&quot;</span>,
           (<a class="code" href="ospf6__route_8h.html#ab764ec517d66bed7d7de5de12ee51cf3">ospf6_route_is_best</a> (route) ? <span class="charliteral">&#39;*&#39;</span> : <span class="charliteral">&#39; &#39;</span>),
           <a class="code" href="ospf6__route_8h.html#a2524ab2f82562768130fc1cf2a43474c">OSPF6_DEST_TYPE_SUBSTR</a> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a>),
           <a class="code" href="ospf6__route_8h.html#a3a7cc7e97c92e8fa20cc02034d416ba4">OSPF6_PATH_TYPE_SUBSTR</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a>),
           destination, nexthop, IFNAMSIZ, ifname, duration, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="keywordflow">for</span> (i = 1; <a class="code" href="ospf6__route_8h.html#ab3d4b67ab2b8648021096e2fca7d980b">ospf6_nexthop_is_set</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i]) &amp;&amp;
       i &lt; <a class="code" href="ospf6__route_8h.html#a722b45cea00290e2da6ebe98934f8749">OSPF6_MULTI_PATH_LIMIT</a>; i++)
    {
      <span class="comment">/* nexthop */</span>
      <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, &amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#aca0fcfd059411e2638d19d1d95288a10">address</a>, nexthop,
                 sizeof (nexthop));
      <span class="keywordflow">if</span> (! <a class="code" href="if_8c.html#a2e22330f87622f0659002d0aff75b487">if_indextoname</a> (route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>, ifname))
        <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (ifname, <span class="keyword">sizeof</span> (ifname), <span class="stringliteral">&quot;%d&quot;</span>, route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>);

      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%c%1s %2s %-30s %-25s %6.*s %s%s&quot;</span>,
               <span class="charliteral">&#39; &#39;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, nexthop, IFNAMSIZ, ifname, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8aa84829fb3ba1693d7c1d020844a606"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_show_detail" ref="a8aa84829fb3ba1693d7c1d020844a606" args="(struct vty *vty, struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_route_show_detail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00833">833</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> destination[64], <a class="code" href="structnexthop.html">nexthop</a>[64], ifname[IFNAMSIZ];
  <span class="keywordtype">char</span> area_id[16], <span class="keywordtype">id</span>[16], <a class="code" href="prefix_8h.html#aa4419784611184c74a36162ffcf0123d">adv_router</a>[16], capa[16], options[16];
  <span class="keyword">struct </span>timeval now, res;
  <span class="keywordtype">char</span> duration[16];
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>;

  <a class="code" href="thread_8c.html#abf5861abe71d6f9a1ddd493be0218de1">quagga_gettime</a> (<a class="code" href="thread_8h.html#a64fff521e88ba8b01645c5bb89085b33a7f92aaa461f13c163b13f96085eb3cd9">QUAGGA_CLK_MONOTONIC</a>, &amp;now);

  <span class="comment">/* destination */</span>
  <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> == <a class="code" href="ospf6__route_8h.html#aa7dc51fbd11971c3f8dff933ea524492">OSPF6_DEST_TYPE_LINKSTATE</a>)
    <a class="code" href="ospf6__route_8c.html#a6cd3c9be4769715b219b63202f5cd802">ospf6_linkstate_prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, destination,
                                sizeof (destination));
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a> == <a class="code" href="ospf6__route_8h.html#a0dcb3d4e20fc75a249f2091ba481d37b">OSPF6_DEST_TYPE_ROUTER</a>)
    <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a>, &amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>.u.<a class="code" href="structprefix.html#af508982a05429729278c96708bd9e337">prefix</a>,
               destination, sizeof (destination));
  <span class="keywordflow">else</span>
    <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, destination, sizeof (destination));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Destination: %s%s&quot;</span>, destination, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* destination type */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Destination type: %s%s&quot;</span>,
           <a class="code" href="ospf6__route_8h.html#a4de3573d61df82ef11e0164f22ca9ad7">OSPF6_DEST_TYPE_NAME</a> (route-&gt;<a class="code" href="structospf6__route.html#a74705096f252ccb17294f45fe3945757">type</a>),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Time */</span>
  <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;now, &amp;route-&gt;<a class="code" href="structospf6__route.html#a927c15a4c44ad75a74d8386e2c8deea3">installed</a>, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Installed Time: %s ago%s&quot;</span>, duration, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <a class="code" href="ospf6d_8h.html#ad8549d8029286e53812f5d1aab4439e5">timersub</a> (&amp;now, &amp;route-&gt;<a class="code" href="structospf6__route.html#a22eb727157fffbb2b611795562329b9d">changed</a>, &amp;res);
  <a class="code" href="ospf6d_8h.html#aac49ca805b11c1540def0721e069a851">timerstring</a> (&amp;res, duration, <span class="keyword">sizeof</span> (duration));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  Changed Time: %s ago%s&quot;</span>, duration, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Debugging info */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Lock: %d Flags: %s%s%s%s%s&quot;</span>, route-&gt;<a class="code" href="structospf6__route.html#a7c548e8e59600e136436ce9aaf378baa">lock</a>,
           (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (route-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#a15a16e004b7ad8a332e55f65fa81bc88">OSPF6_ROUTE_BEST</a>)   ? <span class="stringliteral">&quot;B&quot;</span> : <span class="stringliteral">&quot;-&quot;</span>),
           (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (route-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#af81460bb17acb9299c98ef5e703f29fa">OSPF6_ROUTE_ADD</a>)    ? <span class="stringliteral">&quot;A&quot;</span> : <span class="stringliteral">&quot;-&quot;</span>),
           (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (route-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#a35dc694fea451eddcc4e6d5fa14ed8cd">OSPF6_ROUTE_REMOVE</a>) ? <span class="stringliteral">&quot;R&quot;</span> : <span class="stringliteral">&quot;-&quot;</span>),
           (<a class="code" href="zebra_8h.html#a9310812ac92febfb7d1eb10127aea1a8">CHECK_FLAG</a> (route-&gt;<a class="code" href="structospf6__route.html#a6ea0bf028d117b76ebdf829dd1214f86">flag</a>, <a class="code" href="ospf6__route_8h.html#a2e34d8560d88a78a2243622c923dde72">OSPF6_ROUTE_CHANGE</a>) ? <span class="stringliteral">&quot;C&quot;</span> : <span class="stringliteral">&quot;-&quot;</span>),
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Memory: prev: %p this: %p next: %p%s&quot;</span>,
           route-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>, route, route-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Path section */</span>

  <span class="comment">/* Area-ID */</span>
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4fc384dbcd343e1ba3e5918e4d25c15">area_id</a>, area_id, sizeof (area_id));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Associated Area: %s%s&quot;</span>, area_id, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Path type */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Path Type: %s%s&quot;</span>,
           <a class="code" href="ospf6__route_8h.html#aa450597cf8eef04535375a88c66bde88">OSPF6_PATH_TYPE_NAME</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a>), <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* LS Origin */</span>
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a5462d6c847d9cddd5e0bace437f2199a">id</a>, <span class="keywordtype">id</span>, sizeof (<span class="keywordtype">id</span>));
  <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET, &amp;route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#aad4727f62192e5db63a98474f9845694">adv_router</a>, adv_router,
             sizeof (adv_router));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;LS Origin: %s Id: %s Adv: %s%s&quot;</span>,
           <a class="code" href="ospf6__lsa_8c.html#aef56342b1e39d23bf9977353c1c2deb1">ospf6_lstype_name</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a7f174fe7a9fdaded7fc074cb1c51b351">origin</a>.<a class="code" href="structospf6__ls__origin.html#a88f1d08bddf61718681883834fd9990e">type</a>),
           <span class="keywordtype">id</span>, adv_router, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Options */</span>
  <a class="code" href="ospf6__proto_8c.html#a70fba8cd2453bf33405c98ff2ff14a38">ospf6_options_printbuf</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a1c10b3d1f386486e496d7196ec16e5e5">options</a>, options, sizeof (options));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Options: %s%s&quot;</span>, options, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Router Bits */</span>
  <a class="code" href="ospf6__proto_8c.html#acfafe064fed258582397cfd39d7d69ba">ospf6_capability_printbuf</a> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ad4c22e82497e95ddac15345fbdf50245">router_bits</a>, capa, sizeof (capa));
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Router Bits: %s%s&quot;</span>, capa, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Prefix Options */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Prefix Options: xxx%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Metrics */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Metric Type: %d%s&quot;</span>, route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a5723668da86dfd4caea4f50e8ad0457f">metric_type</a>,
           <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Metric: %d (%d)%s&quot;</span>,
           route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#ab33bf3c3ce1f07b918167dbfa4af30e6">cost</a>, route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#afbe458c0a581463749e46edf6ae726c3">cost_e2</a>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);

  <span class="comment">/* Nexthops */</span>
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Nexthop:%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (i = 0; <a class="code" href="ospf6__route_8h.html#ab3d4b67ab2b8648021096e2fca7d980b">ospf6_nexthop_is_set</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i]) &amp;&amp;
       i &lt; <a class="code" href="ospf6__route_8h.html#a722b45cea00290e2da6ebe98934f8749">OSPF6_MULTI_PATH_LIMIT</a>; i++)
    {
      <span class="comment">/* nexthop */</span>
      <a class="code" href="sockunion_8c.html#a5bfb767e8fa3f9ff5d2a1e19d71791f4">inet_ntop</a> (AF_INET6, &amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#aca0fcfd059411e2638d19d1d95288a10">address</a>, nexthop,
                 sizeof (nexthop));
      <span class="keywordflow">if</span> (! <a class="code" href="if_8c.html#a2e22330f87622f0659002d0aff75b487">if_indextoname</a> (route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>, ifname))
        <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (ifname, <span class="keyword">sizeof</span> (ifname), <span class="stringliteral">&quot;%d&quot;</span>, route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[i].<a class="code" href="structospf6__nexthop.html#a5809ab035d671ce92e5492ea78d79051">ifindex</a>);
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;  %s %.*s%s&quot;</span>, nexthop, IFNAMSIZ, ifname, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae83bdb775eb53a4ecb7186e1d918fb21"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_show_table" ref="ae83bdb775eb53a4ecb7186e1d918fb21" args="(struct vty *vty, int detail, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_route_show_table </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>detail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01056">1056</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (table);
  <span class="keywordflow">while</span> (route)
    {
      <span class="keywordflow">if</span> (detail)
        <a class="code" href="ospf6__route_8c.html#a8aa84829fb3ba1693d7c1d020844a606">ospf6_route_show_detail</a> (vty, route);
      <span class="keywordflow">else</span>
        <a class="code" href="ospf6__route_8c.html#a1ff2114a5d187ef4c6285fa25c38642b">ospf6_route_show</a> (vty, route);
      route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="af57cbe250fad712f581275018c2aaa32"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_show_table_address" ref="af57cbe250fad712f581275018c2aaa32" args="(struct vty *vty, struct prefix *prefix, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_route_show_table_address </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00994">994</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  route = <a class="code" href="ospf6__route_8c.html#ad09379fefd4d4c2cf9af55345000d9cf">ospf6_route_lookup_bestmatch</a> (prefix, table);
  <span class="keywordflow">if</span> (route == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span>;

  prefix = &amp;route-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>;
  <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);
  <span class="keywordflow">while</span> (route &amp;&amp; <a class="code" href="ospf6__route_8h.html#a0a95fc057a8b281526dc83bdda838baf">ospf6_route_is_prefix</a> (prefix, route))
    {
      <span class="comment">/* Specifying a prefix will always display details */</span>
      <a class="code" href="ospf6__route_8c.html#a8aa84829fb3ba1693d7c1d020844a606">ospf6_route_show_detail</a> (vty, route);
      route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route);
    }
  <span class="keywordflow">if</span> (route)
    <a class="code" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (route);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af628a19cde541b495ecb1c36b4aa04e4"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_show_table_match" ref="af628a19cde541b495ecb1c36b4aa04e4" args="(struct vty *vty, int detail, struct prefix *prefix, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_route_show_table_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>detail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01017">1017</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (prefix-&gt;<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a>);

  route = <a class="code" href="ospf6__route_8c.html#aac8aa08a2c7dca4d417db4681b0529a0">ospf6_route_match_head</a> (prefix, table);
  <span class="keywordflow">while</span> (route)
    {
      <span class="keywordflow">if</span> (detail)
        <a class="code" href="ospf6__route_8c.html#a8aa84829fb3ba1693d7c1d020844a606">ospf6_route_show_detail</a> (vty, route);
      <span class="keywordflow">else</span>
        <a class="code" href="ospf6__route_8c.html#a1ff2114a5d187ef4c6285fa25c38642b">ospf6_route_show</a> (vty, route);
      route = <a class="code" href="ospf6__route_8c.html#a944bc519c57314c58c6ca2043c5154cd">ospf6_route_match_next</a> (prefix, route);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aedac939c1185474baca0d8522d85770b"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_show_table_prefix" ref="aedac939c1185474baca0d8522d85770b" args="(struct vty *vty, struct prefix *prefix, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_route_show_table_prefix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structprefix.html">prefix</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00972">972</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  route = <a class="code" href="ospf6__route_8c.html#aa7d8f56a2e18e2dc561dfda78a980fb2">ospf6_route_lookup</a> (prefix, table);
  <span class="keywordflow">if</span> (route == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span>;

  <a class="code" href="ospf6__route_8c.html#a0ad7c43050f40ca3637220835928c2af">ospf6_route_lock</a> (route);
  <span class="keywordflow">while</span> (route &amp;&amp; <a class="code" href="ospf6__route_8h.html#a0a95fc057a8b281526dc83bdda838baf">ospf6_route_is_prefix</a> (prefix, route))
    {
      <span class="comment">/* Specifying a prefix will always display details */</span>
      <a class="code" href="ospf6__route_8c.html#a8aa84829fb3ba1693d7c1d020844a606">ospf6_route_show_detail</a> (vty, route);
      route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route);
    }
  <span class="keywordflow">if</span> (route)
    <a class="code" href="ospf6__route_8c.html#ae0268d845495f56740dbf46b80489b0c">ospf6_route_unlock</a> (route);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0d211a8759e8ffca98854d171496ce6e"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_show_table_summary" ref="a0d211a8759e8ffca98854d171496ce6e" args="(struct vty *vty, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_route_show_table_summary </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00929">929</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route, *<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>, pathtype[<a class="code" href="ospf6__route_8h.html#a58713f677df3b5e893312852a8fdba29">OSPF6_PATH_TYPE_MAX</a>];
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> number = 0;
  <span class="keywordtype">int</span> nhinval = 0, ecmp = 0;
  <span class="keywordtype">int</span> alternative = 0, destination = 0;

  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ospf6__route_8h.html#a58713f677df3b5e893312852a8fdba29">OSPF6_PATH_TYPE_MAX</a>; i++)
    pathtype[i] = 0;

  <span class="keywordflow">for</span> (route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (table); route;
       route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route))
    {
      <span class="keywordflow">if</span> (prev == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || ! <a class="code" href="ospf6__route_8h.html#a7133738c8b5e672f6e20d99fa76d3f90">ospf6_route_is_same</a> (prev, route))
        destination++;
      <span class="keywordflow">else</span>
        alternative++;
      <span class="keywordflow">if</span> (! <a class="code" href="ospf6__route_8h.html#ab3d4b67ab2b8648021096e2fca7d980b">ospf6_nexthop_is_set</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[0]))
        nhinval++;
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ospf6__route_8h.html#ab3d4b67ab2b8648021096e2fca7d980b">ospf6_nexthop_is_set</a> (&amp;route-&gt;<a class="code" href="structospf6__route.html#aeff840303635790b4975364a57c300a3">nexthop</a>[1]))
        ecmp++;
      pathtype[route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a>]++;
      number++;

      prev = route;
    }

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (number == table-&gt;<a class="code" href="structospf6__route__table.html#ac242748e782f2dbbc1f2d69ce7d9a140">count</a>);

  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Number of OSPFv3 routes: %d%s&quot;</span>, number, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Number of Destination: %d%s&quot;</span>, destination, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Number of Alternative routes: %d%s&quot;</span>, alternative, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Number of Equal Cost Multi Path: %d%s&quot;</span>, ecmp, <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
  <span class="keywordflow">for</span> (i = <a class="code" href="ospf6__route_8h.html#a6cda40031860bfed6184599f4ac957ec">OSPF6_PATH_TYPE_INTRA</a>; i &lt;= <a class="code" href="ospf6__route_8h.html#a753677bbce3e5b4d74252300c43e422a">OSPF6_PATH_TYPE_EXTERNAL2</a>; i++)
    {
      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Number of %s routes: %d%s&quot;</span>,
               <a class="code" href="ospf6__route_8h.html#aa450597cf8eef04535375a88c66bde88">OSPF6_PATH_TYPE_NAME</a> (i), pathtype[i], <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5ed09a0bde6959f110fbe3944a5d8a2b"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_show_table_type" ref="a5ed09a0bde6959f110fbe3944a5d8a2b" args="(struct vty *vty, int detail, u_char type, struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void ospf6_route_show_table_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>detail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_char&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01036">1036</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *route;

  route = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (table);
  <span class="keywordflow">while</span> (route)
    {
      <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a5a6311b685c1d76468b47edb218bf4a5">path</a>.<a class="code" href="structospf6__path.html#a9cffc83cee981501db820772cab34b7e">type</a> == <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a>)
        {
          <span class="keywordflow">if</span> (detail)
            <a class="code" href="ospf6__route_8c.html#a8aa84829fb3ba1693d7c1d020844a606">ospf6_route_show_detail</a> (vty, route);
          <span class="keywordflow">else</span>
            <a class="code" href="ospf6__route_8c.html#a1ff2114a5d187ef4c6285fa25c38642b">ospf6_route_show</a> (vty, route);
        }
      route = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (route);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a79652b40c9c81bf3ef56b21732b5ee8e"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_table_create" ref="a79652b40c9c81bf3ef56b21732b5ee8e" args="(int s, int t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a>* ospf6_route_table_create </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00764">764</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route__table.html">ospf6_route_table</a> *<span class="keyword">new</span>;
  <span class="keyword">new</span> = <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab41d86236e3a778976a0183cfe48894f">MTYPE_OSPF6_ROUTE</a>, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structospf6__route__table.html">ospf6_route_table</a>));
  <span class="keyword">new</span>-&gt;table = <a class="code" href="table_8c.html#a9b1d6d715d752d224b322da32d425046">route_table_init</a> ();
  <span class="keyword">new</span>-&gt;scope_type = <a class="code" href="spgrid_8c.html#a5d97d3b42a0d6c9ec9a3e56f2616a6a5">s</a>;
  <span class="keyword">new</span>-&gt;table_type = <a class="code" href="test-sig_8c.html#ab4ed0bba3292270af8ad67b45a21280d">t</a>;
  <span class="keywordflow">return</span> <span class="keyword">new</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a02985ae1fd04f0ab2826100b9dae38b2"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_table_delete" ref="a02985ae1fd04f0ab2826100b9dae38b2" args="(struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_route_table_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00775">775</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="ospf6__route_8c.html#a0429954cda76d4207a53813e869b451d">ospf6_route_remove_all</a> (table);
  <a class="code" href="table_8c.html#adc5ff276f1698f5bef7bb74289e3b26e">route_table_finish</a> (table-&gt;<a class="code" href="structospf6__route__table.html#a2323f5dbcbf6d64f99bacb2d12c01761">table</a>);
  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167bab41d86236e3a778976a0183cfe48894f">MTYPE_OSPF6_ROUTE</a>, table);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a817a1b980af5dda29697b048757934c9"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_table_name" ref="a817a1b980af5dda29697b048757934c9" args="(struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char* ospf6_route_table_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00044">44</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>[32];
  <span class="keywordflow">switch</span> (table-&gt;<a class="code" href="structospf6__route__table.html#a0da44e01c335d0f6574fff0d6be70c8c">scope_type</a>)
    {
      <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#aaacac1ab6963e4c1fb1a24cac8a6f058">OSPF6_SCOPE_TYPE_GLOBAL</a>:
        {
          <span class="keywordflow">switch</span> (table-&gt;<a class="code" href="structospf6__route__table.html#aeafd4caa78003db24d65c63bdae13383">table_type</a>)
            {
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#a5259cb2e271efecffcd2601dcdbc0ae2">OSPF6_TABLE_TYPE_ROUTES</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name), <span class="stringliteral">&quot;global route table&quot;</span>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#ac6c2d1de447c726976d6df958056f01e">OSPF6_TABLE_TYPE_BORDER_ROUTERS</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name), <span class="stringliteral">&quot;global brouter table&quot;</span>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#ac743f79910e928e7958ae8a3ba8d5ed3">OSPF6_TABLE_TYPE_EXTERNAL_ROUTES</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name), <span class="stringliteral">&quot;global external table&quot;</span>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">default</span>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name), <span class="stringliteral">&quot;global unknown table&quot;</span>);
                <span class="keywordflow">break</span>;
            }
        }
        <span class="keywordflow">break</span>;

      <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#a2f6995d69f193eec5301b8c647336571">OSPF6_SCOPE_TYPE_AREA</a>:
        {
          <span class="keyword">struct </span><a class="code" href="structospf6__area.html">ospf6_area</a> *oa = (<span class="keyword">struct </span><a class="code" href="structospf6__area.html">ospf6_area</a> *) table-&gt;<a class="code" href="structospf6__route__table.html#a3268985f62aa7248ab9ee72fe88d1161">scope</a>;
          switch (table-&gt;<a class="code" href="structospf6__route__table.html#aeafd4caa78003db24d65c63bdae13383">table_type</a>)
            {
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#a5e5972074db40a90fffb4387b78fd1b2">OSPF6_TABLE_TYPE_SPF_RESULTS</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name),
                          <span class="stringliteral">&quot;area %s spf table&quot;</span>, oa-&gt;<a class="code" href="structospf6__area.html#a24bd4ccc38c4e10de1b66b2d0cf885cf">name</a>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#a5259cb2e271efecffcd2601dcdbc0ae2">OSPF6_TABLE_TYPE_ROUTES</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name),
                          <span class="stringliteral">&quot;area %s route table&quot;</span>, oa-&gt;<a class="code" href="structospf6__area.html#a24bd4ccc38c4e10de1b66b2d0cf885cf">name</a>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#a99f622e590a63abce7596b3dfe659557">OSPF6_TABLE_TYPE_PREFIX_RANGES</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name),
                          <span class="stringliteral">&quot;area %s range table&quot;</span>, oa-&gt;<a class="code" href="structospf6__area.html#a24bd4ccc38c4e10de1b66b2d0cf885cf">name</a>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#a4aff1855724b5f239452855f3ac4ca22">OSPF6_TABLE_TYPE_SUMMARY_PREFIXES</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name),
                          <span class="stringliteral">&quot;area %s summary prefix table&quot;</span>, oa-&gt;<a class="code" href="structospf6__area.html#a24bd4ccc38c4e10de1b66b2d0cf885cf">name</a>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#a4b18a9ed06660f24ed209c0d66c7c319">OSPF6_TABLE_TYPE_SUMMARY_ROUTERS</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name),
                          <span class="stringliteral">&quot;area %s summary router table&quot;</span>, oa-&gt;<a class="code" href="structospf6__area.html#a24bd4ccc38c4e10de1b66b2d0cf885cf">name</a>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">default</span>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name),
                          <span class="stringliteral">&quot;area %s unknown table&quot;</span>, oa-&gt;<a class="code" href="structospf6__area.html#a24bd4ccc38c4e10de1b66b2d0cf885cf">name</a>);
                <span class="keywordflow">break</span>;
            }
        }
        <span class="keywordflow">break</span>;

      <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#aba3861546d5e9c43c3b76cdee1cc04e6">OSPF6_SCOPE_TYPE_INTERFACE</a>:
        {
          <span class="keyword">struct </span><a class="code" href="structospf6__interface.html">ospf6_interface</a> *oi = (<span class="keyword">struct </span><a class="code" href="structospf6__interface.html">ospf6_interface</a> *) table-&gt;<a class="code" href="structospf6__route__table.html#a3268985f62aa7248ab9ee72fe88d1161">scope</a>;
          switch (table-&gt;<a class="code" href="structospf6__route__table.html#aeafd4caa78003db24d65c63bdae13383">table_type</a>)
            {
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#ab2a6e068d4d0222c9ec79a6f1eda0d9c">OSPF6_TABLE_TYPE_CONNECTED_ROUTES</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name), <span class="stringliteral">&quot;interface %s connected table&quot;</span>,
                          oi-&gt;<a class="code" href="structospf6__interface.html#ab77617d3c7c82e25b6c035d9e1856c22">interface</a>-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">default</span>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name), <span class="stringliteral">&quot;interface %s unknown table&quot;</span>,
                          oi-&gt;<a class="code" href="structospf6__interface.html#ab77617d3c7c82e25b6c035d9e1856c22">interface</a>-&gt;<a class="code" href="structinterface.html#a98cadce768ec5aacb4c5fc4ca2c3eaa8">name</a>);
                <span class="keywordflow">break</span>;
            }
        }
        <span class="keywordflow">break</span>;

      <span class="keywordflow">default</span>:
        {
          <span class="keywordflow">switch</span> (table-&gt;<a class="code" href="structospf6__route__table.html#aeafd4caa78003db24d65c63bdae13383">table_type</a>)
            {
              <span class="keywordflow">case</span> <a class="code" href="ospf6__route_8h.html#a5e5972074db40a90fffb4387b78fd1b2">OSPF6_TABLE_TYPE_SPF_RESULTS</a>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name), <span class="stringliteral">&quot;temporary spf table&quot;</span>);
                <span class="keywordflow">break</span>;
              <span class="keywordflow">default</span>:
                <a class="code" href="str_8c.html#ad76145a6edfc98981ded8815a760e0cd">snprintf</a> (name, <span class="keyword">sizeof</span> (name), <span class="stringliteral">&quot;temporary unknown table&quot;</span>);
                <span class="keywordflow">break</span>;
            }
        }
        <span class="keywordflow">break</span>;
    }
  <span class="keywordflow">return</span> <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad8dd248912104287781bf809f8f57a5d"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_table_show" ref="ad8dd248912104287781bf809f8f57a5d" args="(struct vty *vty, int argc, const char *argv[], struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ospf6_route_table_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvty.html">vty</a> *&#160;</td>
          <td class="paramname"><em>vty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l01073">1073</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> summary = 0;
  <span class="keywordtype">int</span> match = 0;
  <span class="keywordtype">int</span> detail = 0;
  <span class="keywordtype">int</span> slash = 0;
  <span class="keywordtype">int</span> isprefix = 0;
  <span class="keywordtype">int</span> <a class="code" href="spgrid_8c.html#a139066bd9e344a8daae82c5ca919fffe">i</a>, ret;
  <span class="keyword">struct </span><a class="code" href="structprefix.html">prefix</a> <a class="code" href="structprefix.html">prefix</a>;
  u_char <a class="code" href="bgp__open_8h.html#abbb4c0b967acba158c34c110d81b3ab4">type</a> = 0;

  memset (&amp;<a class="code" href="structprefix.html">prefix</a>, 0, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structprefix.html">prefix</a>));

  <span class="keywordflow">for</span> (i = 0; i &lt; argc; i++)
    {
      <span class="keywordflow">if</span> (! strcmp (argv[i], <span class="stringliteral">&quot;summary&quot;</span>))
        {
          summary++;
          <span class="keywordflow">continue</span>;
        }

      <span class="keywordflow">if</span> (! strcmp (argv[i], <span class="stringliteral">&quot;intra-area&quot;</span>))
        {
          type = <a class="code" href="ospf6__route_8h.html#a6cda40031860bfed6184599f4ac957ec">OSPF6_PATH_TYPE_INTRA</a>;
          <span class="keywordflow">continue</span>;
        }

      <span class="keywordflow">if</span> (! strcmp (argv[i], <span class="stringliteral">&quot;inter-area&quot;</span>))
        {
          type = <a class="code" href="ospf6__route_8h.html#a47d0af1809c89bd797ef4c2c728220c6">OSPF6_PATH_TYPE_INTER</a>;
          <span class="keywordflow">continue</span>;
        }

      <span class="keywordflow">if</span> (! strcmp (argv[i], <span class="stringliteral">&quot;external-1&quot;</span>))
        {
          type = <a class="code" href="ospf6__route_8h.html#ac93e11c1cfd47244e95e27b3ba4571ae">OSPF6_PATH_TYPE_EXTERNAL1</a>;
          <span class="keywordflow">continue</span>;
        }

      <span class="keywordflow">if</span> (! strcmp (argv[i], <span class="stringliteral">&quot;external-2&quot;</span>))
        {
          type = <a class="code" href="ospf6__route_8h.html#a753677bbce3e5b4d74252300c43e422a">OSPF6_PATH_TYPE_EXTERNAL2</a>;
          <span class="keywordflow">continue</span>;
        }

      <span class="keywordflow">if</span> (! strcmp (argv[i], <span class="stringliteral">&quot;detail&quot;</span>))
        {
          detail++;
          <span class="keywordflow">continue</span>;
        }

      <span class="keywordflow">if</span> (! strcmp (argv[i], <span class="stringliteral">&quot;match&quot;</span>))
        {
          match++;
          <span class="keywordflow">continue</span>;
        }

      ret = <a class="code" href="prefix_8c.html#a35f57d44562d00baaf5d227d03214786">str2prefix</a> (argv[i], &amp;<a class="code" href="structprefix.html">prefix</a>);
      <span class="keywordflow">if</span> (ret == 1 &amp;&amp; <a class="code" href="structprefix.html">prefix</a>.<a class="code" href="structprefix.html#a3848d44348192dc4de7ac89e317399bd">family</a> == AF_INET6)
        {
          isprefix++;
          <span class="keywordflow">if</span> (strchr (argv[i], <span class="charliteral">&#39;/&#39;</span>))
            slash++;
          <span class="keywordflow">continue</span>;
        }

      <a class="code" href="vty_8c.html#a3725db0ec6ad3ffdd31f68abc807ee34">vty_out</a> (vty, <span class="stringliteral">&quot;Malformed argument: %s%s&quot;</span>, argv[i], <a class="code" href="ospf6d_8h.html#a356c06c82b90b274c7f519f9a405142c">VNL</a>);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <span class="comment">/* Give summary of this route table */</span>
  <span class="keywordflow">if</span> (summary)
    {
      <a class="code" href="ospf6__route_8c.html#a0d211a8759e8ffca98854d171496ce6e">ospf6_route_show_table_summary</a> (vty, table);
      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <span class="comment">/* Give exact prefix-match route */</span>
  <span class="keywordflow">if</span> (isprefix &amp;&amp; ! match)
    {
      <span class="comment">/* If exact address, give best matching route */</span>
      <span class="keywordflow">if</span> (! slash)
        <a class="code" href="ospf6__route_8c.html#af57cbe250fad712f581275018c2aaa32">ospf6_route_show_table_address</a> (vty, &amp;<a class="code" href="structprefix.html">prefix</a>, table);
      <span class="keywordflow">else</span>
        <a class="code" href="ospf6__route_8c.html#aedac939c1185474baca0d8522d85770b">ospf6_route_show_table_prefix</a> (vty, &amp;<a class="code" href="structprefix.html">prefix</a>, table);

      <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
    }

  <span class="keywordflow">if</span> (match)
    <a class="code" href="ospf6__route_8c.html#af628a19cde541b495ecb1c36b4aa04e4">ospf6_route_show_table_match</a> (vty, detail, &amp;<a class="code" href="structprefix.html">prefix</a>, table);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type)
    <a class="code" href="ospf6__route_8c.html#a5ed09a0bde6959f110fbe3944a5d8a2b">ospf6_route_show_table_type</a> (vty, detail, type, table);
  <span class="keywordflow">else</span>
    <a class="code" href="ospf6__route_8c.html#ae83bdb775eb53a4ecb7186e1d918fb21">ospf6_route_show_table</a> (vty, detail, table);

  <span class="keywordflow">return</span> <a class="code" href="command_8h.html#aa2008c1bc36d9ef42571a6ec52516d02">CMD_SUCCESS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae0268d845495f56740dbf46b80489b0c"></a><!-- doxytag: member="ospf6_route.c::ospf6_route_unlock" ref="ae0268d845495f56740dbf46b80489b0c" args="(struct ospf6_route *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ospf6_route_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route.html">ospf6_route</a> *&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00212">212</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (route-&gt;<a class="code" href="structospf6__route.html#a7c548e8e59600e136436ce9aaf378baa">lock</a> &gt; 0);
  route-&gt;<a class="code" href="structospf6__route.html#a7c548e8e59600e136436ce9aaf378baa">lock</a>--;
  <span class="keywordflow">if</span> (route-&gt;<a class="code" href="structospf6__route.html#a7c548e8e59600e136436ce9aaf378baa">lock</a> == 0)
    {
      <span class="comment">/* Can&#39;t detach from the table until here</span>
<span class="comment">         because ospf6_route_next () will use</span>
<span class="comment">         the &#39;route-&gt;table&#39; pointer for logging */</span>
      route-&gt;<a class="code" href="structospf6__route.html#a2d99ee3cfa2172978768a500be5b7437">table</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
      <a class="code" href="ospf6__route_8c.html#afe483c6d6b442082f70587b8a137ef9c">ospf6_route_delete</a> (route);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a089a4116900915f16a3711f16c962778"></a><!-- doxytag: member="ospf6_route.c::route_table_assert" ref="a089a4116900915f16a3711f16c962778" args="(struct ospf6_route_table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void route_table_assert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structospf6__route__table.html">ospf6_route_table</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00309">309</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structospf6__route.html">ospf6_route</a> *<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>, *r, *<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
  <span class="keywordtype">char</span> buf[64];
  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> link_error = 0, <a class="code" href="bgp__open_8h.html#ab4570498c4316aa5f7b4852c778b3320">num</a> = 0;
  
  r = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (table);
  prev = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keywordflow">while</span> (r)
    {
      <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a> != prev)
        link_error++;
      
      next = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (r);
      
      <span class="keywordflow">if</span> (r-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a> != next)
        link_error++;
      
      prev = r;
      r = <a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>;
    }
  
  <span class="keywordflow">for</span> (r = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (table); r; r = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (r))
    <a class="code" href="bgp__open_8h.html#ab4570498c4316aa5f7b4852c778b3320">num</a>++;
  
  <span class="keywordflow">if</span> (link_error == 0 &amp;&amp; <a class="code" href="bgp__open_8h.html#ab4570498c4316aa5f7b4852c778b3320">num</a> == table-&gt;<a class="code" href="structospf6__route__table.html#ac242748e782f2dbbc1f2d69ce7d9a140">count</a>)
    <span class="keywordflow">return</span>;

  <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a> (<span class="stringliteral">&quot;PANIC !!&quot;</span>);
  <a class="code" href="log_8h.html#aaf50b52a949696adb9e77153b08545ad">zlog_err</a> (<span class="stringliteral">&quot;Something has gone wrong with ospf6_route_table[%p]&quot;</span>, table);
  <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;table count = %d, real number = %d&quot;</span>, table-&gt;<a class="code" href="structospf6__route__table.html#ac242748e782f2dbbc1f2d69ce7d9a140">count</a>, <a class="code" href="bgp__open_8h.html#ab4570498c4316aa5f7b4852c778b3320">num</a>);
  <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;DUMP START&quot;</span>);
  <span class="keywordflow">for</span> (r = <a class="code" href="ospf6__route_8c.html#a400d24a67548089d8a59242677ef33cf">ospf6_route_head</a> (table); r; r = <a class="code" href="ospf6__route_8c.html#a4cdecc41a86097a7d0871397f7a80fb8">ospf6_route_next</a> (r))
    {
      <a class="code" href="prefix_8c.html#a8b848557695ae5694bd2282eba23e367">prefix2str</a> (&amp;r-&gt;<a class="code" href="structospf6__route.html#a39f2a986ed391c16d5216ad5797c2eda">prefix</a>, buf, sizeof (buf));
      <a class="code" href="log_8h.html#a383184727341e7ad985deb9e4f2156c7">zlog_info</a> (<span class="stringliteral">&quot;%p&lt;-[%p]-&gt;%p : %s&quot;</span>, r-&gt;<a class="code" href="structospf6__route.html#a5c1146c72a8aeebba166d22b57baf005">prev</a>, r, r-&gt;<a class="code" href="structospf6__route.html#ae263097eea30f7d0de5ca576770012ab">next</a>, buf);
    }
  <a class="code" href="log_8h.html#af1f70c8ab8e089840180553abf361296">zlog_debug</a> (<span class="stringliteral">&quot;DUMP END&quot;</span>);

  <a class="code" href="regex_8c.html#ad6d5aaa966ca7424f7cb9bd01f2c838b">assert</a> (link_error == 0 &amp;&amp; <a class="code" href="bgp__open_8h.html#ab4570498c4316aa5f7b4852c778b3320">num</a> == table-&gt;<a class="code" href="structospf6__route__table.html#ac242748e782f2dbbc1f2d69ce7d9a140">count</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ae87e4710056b0ee3edbcaacd44922bc5"></a><!-- doxytag: member="ospf6_route.c::conf_debug_ospf6_route" ref="ae87e4710056b0ee3edbcaacd44922bc5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="ospf6__route_8h.html#ae87e4710056b0ee3edbcaacd44922bc5">conf_debug_ospf6_route</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00041">41</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>

</div>
</div>
<a class="anchor" id="a82872b706da5f3f784a7e1fde0f9fb8a"></a><!-- doxytag: member="ospf6_route.c::ospf6_dest_type_str" ref="a82872b706da5f3f784a7e1fde0f9fb8a" args="[OSPF6_DEST_TYPE_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="ospf6__route_8h.html#a82872b706da5f3f784a7e1fde0f9fb8a">ospf6_dest_type_str</a>[OSPF6_DEST_TYPE_MAX]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{ <span class="stringliteral">&quot;Unknown&quot;</span>, <span class="stringliteral">&quot;Router&quot;</span>, <span class="stringliteral">&quot;Network&quot;</span>, <span class="stringliteral">&quot;Discard&quot;</span>, <span class="stringliteral">&quot;Linkstate&quot;</span>, <span class="stringliteral">&quot;AddressRange&quot;</span>, }
</pre></div>
<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00163">163</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab4c663b82d082f51788995bfaf5cd054"></a><!-- doxytag: member="ospf6_route.c::ospf6_dest_type_substr" ref="ab4c663b82d082f51788995bfaf5cd054" args="[OSPF6_DEST_TYPE_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="ospf6__route_8h.html#ab4c663b82d082f51788995bfaf5cd054">ospf6_dest_type_substr</a>[OSPF6_DEST_TYPE_MAX]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{ <span class="stringliteral">&quot;?&quot;</span>, <span class="stringliteral">&quot;R&quot;</span>, <span class="stringliteral">&quot;N&quot;</span>, <span class="stringliteral">&quot;D&quot;</span>, <span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;A&quot;</span>, }
</pre></div>
<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00166">166</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5105e7d7332722c224b5b034c3607793"></a><!-- doxytag: member="ospf6_route.c::ospf6_path_type_str" ref="a5105e7d7332722c224b5b034c3607793" args="[OSPF6_PATH_TYPE_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="ospf6__route_8h.html#a5105e7d7332722c224b5b034c3607793">ospf6_path_type_str</a>[OSPF6_PATH_TYPE_MAX]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{ <span class="stringliteral">&quot;Unknown&quot;</span>, <span class="stringliteral">&quot;Intra-Area&quot;</span>, <span class="stringliteral">&quot;Inter-Area&quot;</span>, <span class="stringliteral">&quot;External-1&quot;</span>, <span class="stringliteral">&quot;External-2&quot;</span>, }
</pre></div>
<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00169">169</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac0671343fb5b810096fbf321eaecb39b"></a><!-- doxytag: member="ospf6_route.c::ospf6_path_type_substr" ref="ac0671343fb5b810096fbf321eaecb39b" args="[OSPF6_PATH_TYPE_MAX]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="ospf6__route_8h.html#ac0671343fb5b810096fbf321eaecb39b">ospf6_path_type_substr</a>[OSPF6_PATH_TYPE_MAX]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
{ <span class="stringliteral">&quot;??&quot;</span>, <span class="stringliteral">&quot;IA&quot;</span>, <span class="stringliteral">&quot;IE&quot;</span>, <span class="stringliteral">&quot;E1&quot;</span>, <span class="stringliteral">&quot;E2&quot;</span>, }
</pre></div>
<p>Definition at line <a class="el" href="ospf6__route_8c_source.html#l00172">172</a> of file <a class="el" href="ospf6__route_8c_source.html">ospf6_route.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="ospf6__route_8c.html">ospf6_route.c</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:27 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
