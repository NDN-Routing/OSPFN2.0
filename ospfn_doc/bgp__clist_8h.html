<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSPFN: bgpd/bgp_clist.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSPFN
   &#160;<span id="projectnumber">1.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('bgp__clist_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bgpd/bgp_clist.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="bgp__clist_8h__dep__incl.png" border="0" usemap="#bgpd_2bgp__clist_8hdep" alt=""/></div>
<map name="bgpd_2bgp__clist_8hdep" id="bgpd_2bgp__clist_8hdep">
<area shape="rect" id="node3" href="bgp__clist_8c.html" title="bgpd/bgp_clist.c" alt="" coords="5,80,128,107"/><area shape="rect" id="node5" href="bgp__main_8c.html" title="bgpd/bgp_main.c" alt="" coords="153,80,279,107"/><area shape="rect" id="node7" href="bgp__route_8c.html" title="bgpd/bgp_route.c" alt="" coords="304,80,435,107"/><area shape="rect" id="node9" href="bgp__routemap_8c.html" title="bgpd/bgp_routemap.c" alt="" coords="459,80,616,107"/><area shape="rect" id="node11" href="bgp__vty_8c.html" title="bgpd/bgp_vty.c" alt="" coords="641,80,759,107"/><area shape="rect" id="node13" href="bgpd_8c.html" title="bgpd/bgpd.c" alt="" coords="783,80,883,107"/></map>
</div>
</div>
<p><a href="bgp__clist_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommunity__list.html">community_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommunity__entry.html">community_entry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommunity__list__list.html">community_list_list</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommunity__list__master.html">community_list_master</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommunity__list__handler.html">community_list_handler</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a71bf5583c66d28746342ec73632efe06">COMMUNITY_LIST_MASTER</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a61c5d68dcb2d87b3cf5a0ef283a881fc">EXTCOMMUNITY_LIST_MASTER</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a58ca6e0d7ed0ba08ae728466c20efaad">COMMUNITY_DENY</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#ac934d85070da313c0923ec1d7b45eb49">COMMUNITY_LIST_STRING</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a2ccb0f9674aeb060cd765c8cf3e15432">COMMUNITY_LIST_NUMBER</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#aac9f88f9f0367759b07f7bf9f5ee1f0e">COMMUNITY_LIST_STANDARD</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#ae00204887ca7891261192c1f0c2ef1b2">COMMUNITY_LIST_EXPANDED</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a999fc8046f6d46557f06e6dc5eafb3a9">EXTCOMMUNITY_LIST_STANDARD</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a75f83c5ed3ca755db0e6003fb775af13">EXTCOMMUNITY_LIST_EXPANDED</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a7aad04c858f86928ca3a94f861f1597f">COMMUNITY_LIST_ERR_CANT_FIND_LIST</a>&#160;&#160;&#160;-1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#af084c958195a1693a55ed60c2fdd63d1">COMMUNITY_LIST_ERR_MALFORMED_VAL</a>&#160;&#160;&#160;-2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a5c98fd59fb6499ef92c1b3a9e823aaa0">COMMUNITY_LIST_ERR_STANDARD_CONFLICT</a>&#160;&#160;&#160;-3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#ac73351c24c358ae687234172b02ec348">COMMUNITY_LIST_ERR_EXPANDED_CONFLICT</a>&#160;&#160;&#160;-4</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a3074741d6eaa97bdbc1d29e6ec9d18be">community_list_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a7d62c8c4361588717798e4be431fff45">community_list_terminate</a> (struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#aa888d54db9ff0fd7dfb0185fa4fb45de">community_list_set</a> (struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *ch, const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const char *<a class="el" href="ripng__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, int direct, int style)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#aa6dca468a007ec6ee7c24fd359155595">community_list_unset</a> (struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *ch, const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const char *<a class="el" href="ripng__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, int direct, int style)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a3e2c46712b2558156c5074b345e3fc06">extcommunity_list_set</a> (struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *ch, const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const char *<a class="el" href="ripng__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, int direct, int style)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#add548f65d1e8eadceeb2d6d26170a85c">extcommunity_list_unset</a> (struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *ch, const char *<a class="el" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const char *<a class="el" href="ripng__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, int direct, int style)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcommunity__list__master.html">community_list_master</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#af2226d8d0f37e4ec97e159ef1fef36fa">community_list_master_lookup</a> (struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcommunity__list.html">community_list</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#acf444e3e7543a61ba8856d76e1f11666">community_list_lookup</a> (struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *, const char *, int)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#af4552f361c9da82456b60ea368e85798">community_list_match</a> (struct <a class="el" href="structcommunity.html">community</a> *, struct <a class="el" href="structcommunity__list.html">community_list</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a1e771929f8c9a9adb3445a3df3f0b02f">ecommunity_list_match</a> (struct <a class="el" href="structecommunity.html">ecommunity</a> *, struct <a class="el" href="structcommunity__list.html">community_list</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a203cdef6fa112225ef21656db0b6bc68">community_list_exact_match</a> (struct <a class="el" href="structcommunity.html">community</a> *, struct <a class="el" href="structcommunity__list.html">community_list</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcommunity.html">community</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a8baefa6c81291cde8a1c5191e2daeb30">community_list_match_delete</a> (struct <a class="el" href="structcommunity.html">community</a> *, struct <a class="el" href="structcommunity__list.html">community_list</a> *)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bgp__clist_8h.html#a8ce0bedf381f9a751d2544b7b3bdcd4a">bgp_clist</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a58ca6e0d7ed0ba08ae728466c20efaad"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_DENY" ref="a58ca6e0d7ed0ba08ae728466c20efaad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_DENY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00029">29</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7aad04c858f86928ca3a94f861f1597f"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_ERR_CANT_FIND_LIST" ref="a7aad04c858f86928ca3a94f861f1597f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_ERR_CANT_FIND_LIST&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00118">118</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac73351c24c358ae687234172b02ec348"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_ERR_EXPANDED_CONFLICT" ref="ac73351c24c358ae687234172b02ec348" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_ERR_EXPANDED_CONFLICT&#160;&#160;&#160;-4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00121">121</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="af084c958195a1693a55ed60c2fdd63d1"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_ERR_MALFORMED_VAL" ref="af084c958195a1693a55ed60c2fdd63d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_ERR_MALFORMED_VAL&#160;&#160;&#160;-2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00119">119</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5c98fd59fb6499ef92c1b3a9e823aaa0"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_ERR_STANDARD_CONFLICT" ref="a5c98fd59fb6499ef92c1b3a9e823aaa0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_ERR_STANDARD_CONFLICT&#160;&#160;&#160;-3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00120">120</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae00204887ca7891261192c1f0c2ef1b2"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_EXPANDED" ref="ae00204887ca7891261192c1f0c2ef1b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_EXPANDED&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00038">38</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="a71bf5583c66d28746342ec73632efe06"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_MASTER" ref="a71bf5583c66d28746342ec73632efe06" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_MASTER&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00025">25</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2ccb0f9674aeb060cd765c8cf3e15432"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_NUMBER" ref="a2ccb0f9674aeb060cd765c8cf3e15432" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_NUMBER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00034">34</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="aac9f88f9f0367759b07f7bf9f5ee1f0e"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_STANDARD" ref="aac9f88f9f0367759b07f7bf9f5ee1f0e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_STANDARD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00037">37</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac934d85070da313c0923ec1d7b45eb49"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_LIST_STRING" ref="ac934d85070da313c0923ec1d7b45eb49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_LIST_STRING&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00033">33</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae6df4a7e348bcadcc65fdc56cbd9f418"></a><!-- doxytag: member="bgp_clist.h::COMMUNITY_PERMIT" ref="ae6df4a7e348bcadcc65fdc56cbd9f418" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMUNITY_PERMIT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00030">30</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="a75f83c5ed3ca755db0e6003fb775af13"></a><!-- doxytag: member="bgp_clist.h::EXTCOMMUNITY_LIST_EXPANDED" ref="a75f83c5ed3ca755db0e6003fb775af13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTCOMMUNITY_LIST_EXPANDED&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00040">40</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="a61c5d68dcb2d87b3cf5a0ef283a881fc"></a><!-- doxytag: member="bgp_clist.h::EXTCOMMUNITY_LIST_MASTER" ref="a61c5d68dcb2d87b3cf5a0ef283a881fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTCOMMUNITY_LIST_MASTER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00026">26</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<a class="anchor" id="a999fc8046f6d46557f06e6dc5eafb3a9"></a><!-- doxytag: member="bgp_clist.h::EXTCOMMUNITY_LIST_STANDARD" ref="a999fc8046f6d46557f06e6dc5eafb3a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXTCOMMUNITY_LIST_STANDARD&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8h_source.html#l00039">39</a> of file <a class="el" href="bgp__clist_8h_source.html">bgp_clist.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a203cdef6fa112225ef21656db0b6bc68"></a><!-- doxytag: member="bgp_clist.h::community_list_exact_match" ref="a203cdef6fa112225ef21656db0b6bc68" args="(struct community *, struct community_list *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int community_list_exact_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity.html">community</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list.html">community_list</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00479">479</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *entry;

  <span class="keywordflow">for</span> (entry = <a class="code" href="structlist.html">list</a>-&gt;<a class="code" href="structlist.html#a8306954be149c09248a51079826dd5f8">head</a>; entry; entry = entry-&gt;<a class="code" href="structcommunity__entry.html#adf300c2a3193d684911ae005be92218c">next</a>)
    {
      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#ad46635f1fd412d4cd77fea982b955081">any</a>)
        <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;

      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#aac9f88f9f0367759b07f7bf9f5ee1f0e">COMMUNITY_LIST_STANDARD</a>)
        {
          <span class="keywordflow">if</span> (<a class="code" href="bgp__community_8c.html#a0191e40f098590ab68b99a24c2a2e931">community_include</a> (entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, <a class="code" href="bgp__community_8h.html#a963dbe34b652eddc5e57390c16fe5063">COMMUNITY_INTERNET</a>))
            <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;

          <span class="keywordflow">if</span> (<a class="code" href="bgp__community_8c.html#ab78dd69e6f3b202f3ab726654ea54193">community_cmp</a> (<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>))
            <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;
        }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#ae00204887ca7891261192c1f0c2ef1b2">COMMUNITY_LIST_EXPANDED</a>)
        {
          <span class="keywordflow">if</span> (<a class="code" href="bgp__clist_8c.html#a9c7340bb7ef1127e6da1313f22b8f6eb">community_regexp_match</a> (<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#a817ea26d814de0aea503fd6d70857664">reg</a>))
            <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;
        }
    }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3074741d6eaa97bdbc1d29e6ec9d18be"></a><!-- doxytag: member="bgp_clist.h::community_list_init" ref="a3074741d6eaa97bdbc1d29e6ec9d18be" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a>* community_list_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00823">823</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__list__handler.html">community_list_handler</a> *ch;
  ch = <a class="code" href="memory_8h.html#a7826e4ed1d152cad0666dcf43f11f663">XCALLOC</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba1b30487eb5e03faf5008e25084ec7922">MTYPE_COMMUNITY_LIST_HANDLER</a>,
                <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structcommunity__list__handler.html">community_list_handler</a>));
  <span class="keywordflow">return</span> ch;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acf444e3e7543a61ba8856d76e1f11666"></a><!-- doxytag: member="bgp_clist.h::community_list_lookup" ref="acf444e3e7543a61ba8856d76e1f11666" args="(struct community_list_handler *, const char *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcommunity__list.html">community_list</a>* community_list_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00198">198</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__list.html">community_list</a> *<a class="code" href="structlist.html">list</a>;
  <span class="keyword">struct </span><a class="code" href="structcommunity__list__master.html">community_list_master</a> *<a class="code" href="spgrid_8c.html#acdadc8f742bb24d7912782baf64d04c0">cm</a>;

  <span class="keywordflow">if</span> (!<a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  cm = <a class="code" href="bgp__clist_8c.html#ac34a39d4f70160eefe2b8a6d1eafc14b">community_list_master_lookup</a> (ch, <a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>);
  <span class="keywordflow">if</span> (!cm)
    <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="keywordflow">for</span> (list = cm-&gt;<a class="code" href="structcommunity__list__master.html#a2c072ba76924db5fcd27bf1d6f9f542c">num</a>.<a class="code" href="structcommunity__list__list.html#a0d4c7921addc2ef057d88822410eb649">head</a>; list; list = list-&gt;<a class="code" href="structcommunity__list.html#a1b96c87153fe22c6cf7feea6da7d88e0">next</a>)
    <span class="keywordflow">if</span> (strcmp (list-&gt;<a class="code" href="structcommunity__list.html#a6a8671f042f9c711fdde92e489a9a777">name</a>, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>) == 0)
      <span class="keywordflow">return</span> list;
  <span class="keywordflow">for</span> (list = cm-&gt;<a class="code" href="structcommunity__list__master.html#adc6325fc227842c81faa4572a1783a40">str</a>.<a class="code" href="structcommunity__list__list.html#a0d4c7921addc2ef057d88822410eb649">head</a>; list; list = list-&gt;<a class="code" href="structcommunity__list.html#a1b96c87153fe22c6cf7feea6da7d88e0">next</a>)
    <span class="keywordflow">if</span> (strcmp (list-&gt;<a class="code" href="structcommunity__list.html#a6a8671f042f9c711fdde92e489a9a777">name</a>, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>) == 0)
      <span class="keywordflow">return</span> list;

  <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af2226d8d0f37e4ec97e159ef1fef36fa"></a><!-- doxytag: member="bgp_clist.h::community_list_master_lookup" ref="af2226d8d0f37e4ec97e159ef1fef36fa" args="(struct community_list_handler *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcommunity__list__master.html">community_list_master</a>* community_list_master_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00037">37</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (ch)
    <span class="keywordflow">switch</span> (<a class="code" href="bgp__main_8c.html#af7f9077bc08df049beb65a1c09cde5fa">master</a>)
      {
      <span class="keywordflow">case</span> <a class="code" href="bgp__clist_8h.html#a71bf5583c66d28746342ec73632efe06">COMMUNITY_LIST_MASTER</a>:
    <span class="keywordflow">return</span> &amp;ch-&gt;community_list;
      <span class="keywordflow">case</span> <a class="code" href="bgp__clist_8h.html#a61c5d68dcb2d87b3cf5a0ef283a881fc">EXTCOMMUNITY_LIST_MASTER</a>:
    <span class="keywordflow">return</span> &amp;ch-&gt;extcommunity_list;
      }
  <span class="keywordflow">return</span> <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af4552f361c9da82456b60ea368e85798"></a><!-- doxytag: member="bgp_clist.h::community_list_match" ref="af4552f361c9da82456b60ea368e85798" args="(struct community *, struct community_list *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int community_list_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity.html">community</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list.html">community_list</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00426">426</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *entry;

  <span class="keywordflow">for</span> (entry = <a class="code" href="structlist.html">list</a>-&gt;<a class="code" href="structlist.html#a8306954be149c09248a51079826dd5f8">head</a>; entry; entry = entry-&gt;<a class="code" href="structcommunity__entry.html#adf300c2a3193d684911ae005be92218c">next</a>)
    {
      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#ad46635f1fd412d4cd77fea982b955081">any</a>)
        <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;

      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#aac9f88f9f0367759b07f7bf9f5ee1f0e">COMMUNITY_LIST_STANDARD</a>)
        {
          <span class="keywordflow">if</span> (<a class="code" href="bgp__community_8c.html#a0191e40f098590ab68b99a24c2a2e931">community_include</a> (entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, <a class="code" href="bgp__community_8h.html#a963dbe34b652eddc5e57390c16fe5063">COMMUNITY_INTERNET</a>))
            <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;

          <span class="keywordflow">if</span> (<a class="code" href="bgp__community_8c.html#a7f39155b89b53a2e34d555ad2912692e">community_match</a> (<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>))
            <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;
        }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#ae00204887ca7891261192c1f0c2ef1b2">COMMUNITY_LIST_EXPANDED</a>)
        {
          <span class="keywordflow">if</span> (<a class="code" href="bgp__clist_8c.html#a9c7340bb7ef1127e6da1313f22b8f6eb">community_regexp_match</a> (<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#a817ea26d814de0aea503fd6d70857664">reg</a>))
            <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;
        }
    }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8baefa6c81291cde8a1c5191e2daeb30"></a><!-- doxytag: member="bgp_clist.h::community_list_match_delete" ref="a8baefa6c81291cde8a1c5191e2daeb30" args="(struct community *, struct community_list *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcommunity.html">community</a>* community_list_match_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity.html">community</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list.html">community_list</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00508">508</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *entry;

  <span class="keywordflow">for</span> (entry = <a class="code" href="structlist.html">list</a>-&gt;<a class="code" href="structlist.html#a8306954be149c09248a51079826dd5f8">head</a>; entry; entry = entry-&gt;<a class="code" href="structcommunity__entry.html#adf300c2a3193d684911ae005be92218c">next</a>)
    {
      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#ad46635f1fd412d4cd77fea982b955081">any</a>)
        {
          <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a>) 
            {
              <span class="comment">/* This is a tricky part.  Currently only</span>
<span class="comment">               * route_set_community_delete() uses this function.  In the</span>
<span class="comment">               * function com-&gt;size is zero, it free the community</span>
<span class="comment">               * structure.  </span>
<span class="comment">               */</span>
              <a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>-&gt;<a class="code" href="structcommunity.html#ad54bd9c20e0cf4fa4674f5b76703d192">size</a> = 0;
            }
          <span class="keywordflow">return</span> <a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>;
        }

      <span class="keywordflow">if</span> ((entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#aac9f88f9f0367759b07f7bf9f5ee1f0e">COMMUNITY_LIST_STANDARD</a>) 
          &amp;&amp; (<a class="code" href="bgp__community_8c.html#a0191e40f098590ab68b99a24c2a2e931">community_include</a> (entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, <a class="code" href="bgp__community_8h.html#a963dbe34b652eddc5e57390c16fe5063">COMMUNITY_INTERNET</a>)
              || <a class="code" href="bgp__community_8c.html#a7f39155b89b53a2e34d555ad2912692e">community_match</a> (<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>) ))
        {
              <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a>)
                <a class="code" href="bgp__community_8c.html#a610875add342ca4a766a41301272ca8d">community_delete</a> (<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>);
              <span class="keywordflow">else</span>
                <span class="keywordflow">break</span>;
        }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#ae00204887ca7891261192c1f0c2ef1b2">COMMUNITY_LIST_EXPANDED</a>)
               &amp;&amp; <a class="code" href="bgp__clist_8c.html#a9c7340bb7ef1127e6da1313f22b8f6eb">community_regexp_match</a> (<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#a817ea26d814de0aea503fd6d70857664">reg</a>))
        {
          <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a>)
            <a class="code" href="bgp__clist_8c.html#af903a31e11b5cc5c2c372e67f41c4897">community_regexp_delete</a> (<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#a817ea26d814de0aea503fd6d70857664">reg</a>);
          <span class="keywordflow">else</span>
            <span class="keywordflow">break</span>;
        }
    }
  <span class="keywordflow">return</span> <a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa888d54db9ff0fd7dfb0185fa4fb45de"></a><!-- doxytag: member="bgp_clist.h::community_list_set" ref="aa888d54db9ff0fd7dfb0185fa4fb45de" args="(struct community_list_handler *ch, const char *name, const char *str, int direct, int style)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int community_list_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>style</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00596">596</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *entry = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span><a class="code" href="structcommunity__list.html">community_list</a> *<a class="code" href="structlist.html">list</a>;
  <span class="keyword">struct </span><a class="code" href="structcommunity.html">community</a> *com = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="structre__pattern__buffer.html">regex_t</a> *regex = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Get community list. */</span>
  list = <a class="code" href="bgp__clist_8c.html#ae8ef42ae0ddf78bf86a81770db967dd6">community_list_get</a> (ch, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <a class="code" href="bgp__clist_8h.html#a71bf5583c66d28746342ec73632efe06">COMMUNITY_LIST_MASTER</a>);

  <span class="comment">/* When community-list already has entry, new entry should have same</span>
<span class="comment">     style.  If you want to have mixed style community-list, you can</span>
<span class="comment">     comment out this check.  */</span>
  <span class="keywordflow">if</span> (!<a class="code" href="bgp__clist_8c.html#a2759973601d972b4066dc91885bfa1b3">community_list_empty_p</a> (list))
    {
      <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *first;

      first = list-&gt;<a class="code" href="structcommunity__list.html#ae100c28bcf1983e18f4a6f1b0a7186aa">head</a>;

      <span class="keywordflow">if</span> (<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> != first-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a>)
    {
      <span class="keywordflow">return</span> (first-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#aac9f88f9f0367759b07f7bf9f5ee1f0e">COMMUNITY_LIST_STANDARD</a>
          ? <a class="code" href="bgp__clist_8h.html#a5c98fd59fb6499ef92c1b3a9e823aaa0">COMMUNITY_LIST_ERR_STANDARD_CONFLICT</a>
          : <a class="code" href="bgp__clist_8h.html#ac73351c24c358ae687234172b02ec348">COMMUNITY_LIST_ERR_EXPANDED_CONFLICT</a>);
    }
    }

  <span class="keywordflow">if</span> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#aac9f88f9f0367759b07f7bf9f5ee1f0e">COMMUNITY_LIST_STANDARD</a>)
    com = <a class="code" href="bgp__community_8c.html#ae6b14a28bd7622ffb1b9f5b20897e648">community_str2com</a> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);
      <span class="keywordflow">else</span>
    regex = <a class="code" href="bgp__regex_8c.html#a316b90543d312729a458a7ae1cec7e42">bgp_regcomp</a> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);

      <span class="keywordflow">if</span> (! com &amp;&amp; ! regex)
    <span class="keywordflow">return</span> <a class="code" href="bgp__clist_8h.html#af084c958195a1693a55ed60c2fdd63d1">COMMUNITY_LIST_ERR_MALFORMED_VAL</a>;
    }

  entry = <a class="code" href="bgp__clist_8c.html#ac513f5310a71c1f1f0db3c3f1c66e971">community_entry_new</a> ();
  entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> = <a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a>;
  entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> = <a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a>;
  entry-&gt;<a class="code" href="structcommunity__entry.html#ad46635f1fd412d4cd77fea982b955081">any</a> = (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> ? 0 : 1);
  entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a> = <a class="code" href="structcommunity__entry.html#a417e7d3e1bb8d3bfb620e3d4d79e1e16">com</a>;
  entry-&gt;<a class="code" href="structcommunity__entry.html#a817ea26d814de0aea503fd6d70857664">reg</a> = regex;
  entry-&gt;<a class="code" href="structcommunity__entry.html#aa623f2755d49e17820332661599c1165">config</a> = (regex ? <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba31dfe1598365f32cd2080388b2db7a87">MTYPE_COMMUNITY_LIST_CONFIG</a>, <a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>) : <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);

  <span class="comment">/* Do not put duplicated community entry.  */</span>
  <span class="keywordflow">if</span> (<a class="code" href="bgp__clist_8c.html#a67e3a353cea67dd13e2b046bc7c2b5e0">community_list_dup_check</a> (list, entry))
    <a class="code" href="bgp__clist_8c.html#a23e2dd7832bc852822f71b60d13ecd5a">community_entry_free</a> (entry);
  <span class="keywordflow">else</span>
    <a class="code" href="bgp__clist_8c.html#a5f3ead7af5477c0fa54f9e4c3dc93e0e">community_list_entry_add</a> (list, entry);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7d62c8c4361588717798e4be431fff45"></a><!-- doxytag: member="bgp_clist.h::community_list_terminate" ref="a7d62c8c4361588717798e4be431fff45" args="(struct community_list_handler *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void community_list_terminate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00833">833</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__list__master.html">community_list_master</a> *<a class="code" href="spgrid_8c.html#acdadc8f742bb24d7912782baf64d04c0">cm</a>;
  <span class="keyword">struct </span><a class="code" href="structcommunity__list.html">community_list</a> *<a class="code" href="structlist.html">list</a>;

  cm = &amp;ch-&gt;community_list;
  <span class="keywordflow">while</span> ((list = cm-&gt;<a class="code" href="structcommunity__list__master.html#a2c072ba76924db5fcd27bf1d6f9f542c">num</a>.<a class="code" href="structcommunity__list__list.html#a0d4c7921addc2ef057d88822410eb649">head</a>) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="bgp__clist_8c.html#ad36feb2a463e74477a78339f7e2ccbbd">community_list_delete</a> (list);
  <span class="keywordflow">while</span> ((list = cm-&gt;<a class="code" href="structcommunity__list__master.html#adc6325fc227842c81faa4572a1783a40">str</a>.<a class="code" href="structcommunity__list__list.html#a0d4c7921addc2ef057d88822410eb649">head</a>) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="bgp__clist_8c.html#ad36feb2a463e74477a78339f7e2ccbbd">community_list_delete</a> (list);

  cm = &amp;ch-&gt;extcommunity_list;
  <span class="keywordflow">while</span> ((list = cm-&gt;<a class="code" href="structcommunity__list__master.html#a2c072ba76924db5fcd27bf1d6f9f542c">num</a>.<a class="code" href="structcommunity__list__list.html#a0d4c7921addc2ef057d88822410eb649">head</a>) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="bgp__clist_8c.html#ad36feb2a463e74477a78339f7e2ccbbd">community_list_delete</a> (list);
  <span class="keywordflow">while</span> ((list = cm-&gt;<a class="code" href="structcommunity__list__master.html#adc6325fc227842c81faa4572a1783a40">str</a>.<a class="code" href="structcommunity__list__list.html#a0d4c7921addc2ef057d88822410eb649">head</a>) != <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <a class="code" href="bgp__clist_8c.html#ad36feb2a463e74477a78339f7e2ccbbd">community_list_delete</a> (list);

  <a class="code" href="memory_8h.html#a29f1ce2c850a3163cd6b1b0bd460705d">XFREE</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba1b30487eb5e03faf5008e25084ec7922">MTYPE_COMMUNITY_LIST_HANDLER</a>, ch);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa6dca468a007ec6ee7c24fd359155595"></a><!-- doxytag: member="bgp_clist.h::community_list_unset" ref="aa6dca468a007ec6ee7c24fd359155595" args="(struct community_list_handler *ch, const char *name, const char *str, int direct, int style)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int community_list_unset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>style</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00655">655</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *entry = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span><a class="code" href="structcommunity__list.html">community_list</a> *<a class="code" href="structlist.html">list</a>;
  <span class="keyword">struct </span><a class="code" href="structcommunity.html">community</a> *com = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="structre__pattern__buffer.html">regex_t</a> *regex = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Lookup community list.  */</span>
  list = <a class="code" href="bgp__clist_8c.html#a2c0159e743b11dc2143b7f74a65ce156">community_list_lookup</a> (ch, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <a class="code" href="bgp__clist_8h.html#a71bf5583c66d28746342ec73632efe06">COMMUNITY_LIST_MASTER</a>);
  <span class="keywordflow">if</span> (list == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="bgp__clist_8h.html#a7aad04c858f86928ca3a94f861f1597f">COMMUNITY_LIST_ERR_CANT_FIND_LIST</a>;

  <span class="comment">/* Delete all of entry belongs to this community-list.  */</span>
  <span class="keywordflow">if</span> (!<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)
    {
      <a class="code" href="bgp__clist_8c.html#ad36feb2a463e74477a78339f7e2ccbbd">community_list_delete</a> (list);
      <span class="keywordflow">return</span> 0;
    }

  <span class="keywordflow">if</span> (style == <a class="code" href="bgp__clist_8h.html#aac9f88f9f0367759b07f7bf9f5ee1f0e">COMMUNITY_LIST_STANDARD</a>)
    com = <a class="code" href="bgp__community_8c.html#ae6b14a28bd7622ffb1b9f5b20897e648">community_str2com</a> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);
  <span class="keywordflow">else</span>
    regex = <a class="code" href="bgp__regex_8c.html#a316b90543d312729a458a7ae1cec7e42">bgp_regcomp</a> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);

  <span class="keywordflow">if</span> (! com &amp;&amp; ! regex)
    <span class="keywordflow">return</span> <a class="code" href="bgp__clist_8h.html#af084c958195a1693a55ed60c2fdd63d1">COMMUNITY_LIST_ERR_MALFORMED_VAL</a>;

  <span class="keywordflow">if</span> (com)
    entry = <a class="code" href="bgp__clist_8c.html#a98f4cc5fad1b590d42e1218962381245">community_list_entry_lookup</a> (list, com, direct);
  <span class="keywordflow">else</span>
    entry = <a class="code" href="bgp__clist_8c.html#a98f4cc5fad1b590d42e1218962381245">community_list_entry_lookup</a> (list, <a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, direct);

  <span class="keywordflow">if</span> (com)
    <a class="code" href="bgp__community_8c.html#a890bdfd2f7517c0fe7f30687d1d4d825">community_free</a> (com);
  <span class="keywordflow">if</span> (regex)
    <a class="code" href="bgp__regex_8c.html#a9a7260053c61ff8c6f58e5822d136b88">bgp_regex_free</a> (regex);

  <span class="keywordflow">if</span> (!entry)
    <span class="keywordflow">return</span> <a class="code" href="bgp__clist_8h.html#a7aad04c858f86928ca3a94f861f1597f">COMMUNITY_LIST_ERR_CANT_FIND_LIST</a>;

  <a class="code" href="bgp__clist_8c.html#adca712eca7bfce2a656f806864abf459">community_list_entry_delete</a> (list, entry, style);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1e771929f8c9a9adb3445a3df3f0b02f"></a><!-- doxytag: member="bgp_clist.h::ecommunity_list_match" ref="a1e771929f8c9a9adb3445a3df3f0b02f" args="(struct ecommunity *, struct community_list *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ecommunity_list_match </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structecommunity.html">ecommunity</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list.html">community_list</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00453">453</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *entry;

  <span class="keywordflow">for</span> (entry = <a class="code" href="structlist.html">list</a>-&gt;<a class="code" href="structlist.html#a8306954be149c09248a51079826dd5f8">head</a>; entry; entry = entry-&gt;<a class="code" href="structcommunity__entry.html#adf300c2a3193d684911ae005be92218c">next</a>)
    {
      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#ad46635f1fd412d4cd77fea982b955081">any</a>)
        <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;

      <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#a999fc8046f6d46557f06e6dc5eafb3a9">EXTCOMMUNITY_LIST_STANDARD</a>)
        {
          <span class="keywordflow">if</span> (<a class="code" href="bgp__ecommunity_8c.html#a492220e57649c8ea7c1ef5dc4656b1f7">ecommunity_match</a> (<a class="code" href="structcommunity__entry.html#a6738f5df4deb7c87ff42f90596910063">ecom</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a6738f5df4deb7c87ff42f90596910063">ecom</a>))
            <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;
        }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#a75f83c5ed3ca755db0e6003fb775af13">EXTCOMMUNITY_LIST_EXPANDED</a>)
        {
          <span class="keywordflow">if</span> (<a class="code" href="bgp__clist_8c.html#a6eead86ba88249766ba266fab353509a">ecommunity_regexp_match</a> (<a class="code" href="structcommunity__entry.html#a6738f5df4deb7c87ff42f90596910063">ecom</a>, entry-&gt;<a class="code" href="structcommunity__entry.html#a817ea26d814de0aea503fd6d70857664">reg</a>))
            <span class="keywordflow">return</span> entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> == <a class="code" href="bgp__clist_8h.html#ae6df4a7e348bcadcc65fdc56cbd9f418">COMMUNITY_PERMIT</a> ? 1 : 0;
        }
    }
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3e2c46712b2558156c5074b345e3fc06"></a><!-- doxytag: member="bgp_clist.h::extcommunity_list_set" ref="a3e2c46712b2558156c5074b345e3fc06" args="(struct community_list_handler *ch, const char *name, const char *str, int direct, int style)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int extcommunity_list_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>style</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00704">704</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *entry = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span><a class="code" href="structcommunity__list.html">community_list</a> *<a class="code" href="structlist.html">list</a>;
  <span class="keyword">struct </span><a class="code" href="structecommunity.html">ecommunity</a> *ecom = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="structre__pattern__buffer.html">regex_t</a> *regex = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  entry = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Get community list. */</span>
  list = <a class="code" href="bgp__clist_8c.html#ae8ef42ae0ddf78bf86a81770db967dd6">community_list_get</a> (ch, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <a class="code" href="bgp__clist_8h.html#a61c5d68dcb2d87b3cf5a0ef283a881fc">EXTCOMMUNITY_LIST_MASTER</a>);

  <span class="comment">/* When community-list already has entry, new entry should have same</span>
<span class="comment">     style.  If you want to have mixed style community-list, you can</span>
<span class="comment">     comment out this check.  */</span>
  <span class="keywordflow">if</span> (!<a class="code" href="bgp__clist_8c.html#a2759973601d972b4066dc91885bfa1b3">community_list_empty_p</a> (list))
    {
      <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *first;

      first = list-&gt;<a class="code" href="structcommunity__list.html#ae100c28bcf1983e18f4a6f1b0a7186aa">head</a>;

      <span class="keywordflow">if</span> (<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> != first-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a>)
    {
      <span class="keywordflow">return</span> (first-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#a999fc8046f6d46557f06e6dc5eafb3a9">EXTCOMMUNITY_LIST_STANDARD</a>
          ? <a class="code" href="bgp__clist_8h.html#a5c98fd59fb6499ef92c1b3a9e823aaa0">COMMUNITY_LIST_ERR_STANDARD_CONFLICT</a>
          : <a class="code" href="bgp__clist_8h.html#ac73351c24c358ae687234172b02ec348">COMMUNITY_LIST_ERR_EXPANDED_CONFLICT</a>);
    }
    }

  <span class="keywordflow">if</span> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)
    {
      <span class="keywordflow">if</span> (<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> == <a class="code" href="bgp__clist_8h.html#a999fc8046f6d46557f06e6dc5eafb3a9">EXTCOMMUNITY_LIST_STANDARD</a>)
    ecom = <a class="code" href="bgp__ecommunity_8c.html#a6da70afe62091b6c7ead2e602cfc03fd">ecommunity_str2com</a> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, 0, 1);
      <span class="keywordflow">else</span>
    regex = <a class="code" href="bgp__regex_8c.html#a316b90543d312729a458a7ae1cec7e42">bgp_regcomp</a> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);

      <span class="keywordflow">if</span> (! ecom &amp;&amp; ! regex)
    <span class="keywordflow">return</span> <a class="code" href="bgp__clist_8h.html#af084c958195a1693a55ed60c2fdd63d1">COMMUNITY_LIST_ERR_MALFORMED_VAL</a>;
    }

  <span class="keywordflow">if</span> (ecom)
    ecom-&gt;<a class="code" href="structecommunity.html#ac84ecde7f5b18c5c070ba22400fb0cb6">str</a> = <a class="code" href="bgp__ecommunity_8c.html#a8ffcee89340db2108bd11edf28852b11">ecommunity_ecom2str</a> (ecom, <a class="code" href="bgp__ecommunity_8h.html#ae776d41484b625ccb00ad109d4965451">ECOMMUNITY_FORMAT_DISPLAY</a>);

  entry = <a class="code" href="bgp__clist_8c.html#ac513f5310a71c1f1f0db3c3f1c66e971">community_entry_new</a> ();
  entry-&gt;<a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a> = <a class="code" href="structcommunity__entry.html#ab1a1c3b9e1621e23ab0f60606cd25cb3">direct</a>;
  entry-&gt;<a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a> = <a class="code" href="structcommunity__entry.html#aae775dad4aa136af465b07fbdebd1ced">style</a>;
  entry-&gt;<a class="code" href="structcommunity__entry.html#ad46635f1fd412d4cd77fea982b955081">any</a> = (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> ? 0 : 1);
  <span class="keywordflow">if</span> (ecom)
    entry-&gt;<a class="code" href="structcommunity__entry.html#aa623f2755d49e17820332661599c1165">config</a> = <a class="code" href="bgp__ecommunity_8c.html#a8ffcee89340db2108bd11edf28852b11">ecommunity_ecom2str</a> (ecom, <a class="code" href="bgp__ecommunity_8h.html#acfff5b888f4007173f66dc1f83ad4e94">ECOMMUNITY_FORMAT_COMMUNITY_LIST</a>);
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (regex)
    entry-&gt;<a class="code" href="structcommunity__entry.html#aa623f2755d49e17820332661599c1165">config</a> = <a class="code" href="memory_8h.html#aa7c561b5824edc16351f22b8df155c0e">XSTRDUP</a> (<a class="code" href="memtypes_8h.html#a7ff5f2dff38e7639981794c43dc9167ba31dfe1598365f32cd2080388b2db7a87">MTYPE_COMMUNITY_LIST_CONFIG</a>, <a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);
  <span class="keywordflow">else</span>
    entry-&gt;<a class="code" href="structcommunity__entry.html#aa623f2755d49e17820332661599c1165">config</a> = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  entry-&gt;<a class="code" href="structcommunity__entry.html#ab3e2023304a10f38c5eb6c9b4aaf7023">u</a>.<a class="code" href="structcommunity__entry.html#a6738f5df4deb7c87ff42f90596910063">ecom</a> = <a class="code" href="structcommunity__entry.html#a6738f5df4deb7c87ff42f90596910063">ecom</a>;
  entry-&gt;<a class="code" href="structcommunity__entry.html#a817ea26d814de0aea503fd6d70857664">reg</a> = regex;

  <span class="comment">/* Do not put duplicated community entry.  */</span>
  <span class="keywordflow">if</span> (<a class="code" href="bgp__clist_8c.html#a67e3a353cea67dd13e2b046bc7c2b5e0">community_list_dup_check</a> (list, entry))
    <a class="code" href="bgp__clist_8c.html#a23e2dd7832bc852822f71b60d13ecd5a">community_entry_free</a> (entry);
  <span class="keywordflow">else</span>
    <a class="code" href="bgp__clist_8c.html#a5f3ead7af5477c0fa54f9e4c3dc93e0e">community_list_entry_add</a> (list, entry);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="add548f65d1e8eadceeb2d6d26170a85c"></a><!-- doxytag: member="bgp_clist.h::extcommunity_list_unset" ref="add548f65d1e8eadceeb2d6d26170a85c" args="(struct community_list_handler *ch, const char *name, const char *str, int direct, int style)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int extcommunity_list_unset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a> *&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>style</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgp__clist_8c_source.html#l00774">774</a> of file <a class="el" href="bgp__clist_8c_source.html">bgp_clist.c</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">struct </span><a class="code" href="structcommunity__entry.html">community_entry</a> *entry = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <span class="keyword">struct </span><a class="code" href="structcommunity__list.html">community_list</a> *<a class="code" href="structlist.html">list</a>;
  <span class="keyword">struct </span><a class="code" href="structecommunity.html">ecommunity</a> *ecom = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
  <a class="code" href="structre__pattern__buffer.html">regex_t</a> *regex = <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;

  <span class="comment">/* Lookup extcommunity list.  */</span>
  list = <a class="code" href="bgp__clist_8c.html#a2c0159e743b11dc2143b7f74a65ce156">community_list_lookup</a> (ch, <a class="code" href="memory_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <a class="code" href="bgp__clist_8h.html#a61c5d68dcb2d87b3cf5a0ef283a881fc">EXTCOMMUNITY_LIST_MASTER</a>);
  <span class="keywordflow">if</span> (list == <a class="code" href="getopt1_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    <span class="keywordflow">return</span> <a class="code" href="bgp__clist_8h.html#a7aad04c858f86928ca3a94f861f1597f">COMMUNITY_LIST_ERR_CANT_FIND_LIST</a>;

  <span class="comment">/* Delete all of entry belongs to this extcommunity-list.  */</span>
  <span class="keywordflow">if</span> (!<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)
    {
      <a class="code" href="bgp__clist_8c.html#ad36feb2a463e74477a78339f7e2ccbbd">community_list_delete</a> (list);
      <span class="keywordflow">return</span> 0;
    }

  <span class="keywordflow">if</span> (style == <a class="code" href="bgp__clist_8h.html#a999fc8046f6d46557f06e6dc5eafb3a9">EXTCOMMUNITY_LIST_STANDARD</a>)
    ecom = <a class="code" href="bgp__ecommunity_8c.html#a6da70afe62091b6c7ead2e602cfc03fd">ecommunity_str2com</a> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, 0, 1);
  <span class="keywordflow">else</span>
    regex = <a class="code" href="bgp__regex_8c.html#a316b90543d312729a458a7ae1cec7e42">bgp_regcomp</a> (<a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);

  <span class="keywordflow">if</span> (! ecom &amp;&amp; ! regex)
    <span class="keywordflow">return</span> <a class="code" href="bgp__clist_8h.html#af084c958195a1693a55ed60c2fdd63d1">COMMUNITY_LIST_ERR_MALFORMED_VAL</a>;

  <span class="keywordflow">if</span> (ecom)
    entry = <a class="code" href="bgp__clist_8c.html#a98f4cc5fad1b590d42e1218962381245">community_list_entry_lookup</a> (list, ecom, direct);
  <span class="keywordflow">else</span>
    entry = <a class="code" href="bgp__clist_8c.html#a98f4cc5fad1b590d42e1218962381245">community_list_entry_lookup</a> (list, <a class="code" href="rip__zebra_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, direct);

  <span class="keywordflow">if</span> (ecom)
    <a class="code" href="bgp__ecommunity_8c.html#a56f7dda58051cbec7fd56238196dcfc2">ecommunity_free</a> (ecom);
  <span class="keywordflow">if</span> (regex)
    <a class="code" href="bgp__regex_8c.html#a9a7260053c61ff8c6f58e5822d136b88">bgp_regex_free</a> (regex);

  <span class="keywordflow">if</span> (!entry)
    <span class="keywordflow">return</span> <a class="code" href="bgp__clist_8h.html#a7aad04c858f86928ca3a94f861f1597f">COMMUNITY_LIST_ERR_CANT_FIND_LIST</a>;

  <a class="code" href="bgp__clist_8c.html#adca712eca7bfce2a656f806864abf459">community_list_entry_delete</a> (list, entry, style);

  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a8ce0bedf381f9a751d2544b7b3bdcd4a"></a><!-- doxytag: member="bgp_clist.h::bgp_clist" ref="a8ce0bedf381f9a751d2544b7b3bdcd4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcommunity__list__handler.html">community_list_handler</a>* <a class="el" href="bgpd_8c.html#a8ce0bedf381f9a751d2544b7b3bdcd4a">bgp_clist</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bgpd_8c_source.html#l00073">73</a> of file <a class="el" href="bgpd_8c_source.html">bgpd.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="bgp__clist_8h.html">bgp_clist.h</a>      </li>

    <li class="footer">Generated on Tue Apr 24 2012 10:41:11 for OSPFN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
